import{i as t,j as e,Y as n,Z as A,$ as r,a0 as i,a1 as o,c as a,a2 as s,a3 as l,a4 as u,a5 as c,a6 as h,a7 as p,a8 as f,a9 as d,aa as g,ab as y,k as v,l as m,ac as B,ad as x,ae as w,af as C,ag as F,ah as b,_ as Q,ai as U,A as E,T as M,aj as S,o as I,a as k,F as L,s as H,n as T,b as D,t as P,d as O,f as R,v as K,x as V,M as G,e as N,w as _,H as X,E as Y,C as z,g as W,W as j,y as J,ak as q,al as Z,m as $,p as tt,q as et,am as nt,D as At,an as rt,ao as it,ap as ot,aq as at,V as st,r as lt,ar as ut,U as ct,X as ht,S as pt,as as ft,h as dt}from"./index-CSrWMW-P.js";import{_ as gt}from"./SLLoading-DNmSjfVT.js";const yt=Object.freeze(Object.defineProperty({__proto__:null,get Base(){return Ig},get Circle(){return kg},get Ellipse(){return Hg},get Image(){return Dg},get Line(){return Og},get Marker(){return Kg},get Path(){return Jg},get Polygon(){return Zg},get Polyline(){return $g},get Rect(){return ty},get Text(){return ey}},Symbol.toStringTag,{value:"Module"})),vt=Object.freeze(Object.defineProperty({__proto__:null,get Base(){return yy},get Circle(){return vy},get Dom(){return my},get Ellipse(){return By},get Image(){return xy},get Line(){return wy},get Marker(){return by},get Path(){return Qy},get Polygon(){return Uy},get Polyline(){return Ey},get Rect(){return My},get Text(){return Ly}},Symbol.toStringTag,{value:"Module"}));function mt(t,e){if(t)return t;let n=null!=e?e:"button";return"string"==typeof n&&"button"===n.toLowerCase()?"button":void 0}function Bt(t){return[t.screenX,t.screenY]}var xt=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(xt||{});function wt(t,e){let n=e.resolveItems();if(n.length<=0)return null;let A=e.resolveActiveIndex(),r=null!=A?A:-1;switch(t.focus){case 0:for(let t=0;t<n.length;++t)if(!e.resolveDisabled(n[t],t,n))return t;return A;case 1:-1===r&&(r=n.length);for(let t=r-1;t>=0;--t)if(!e.resolveDisabled(n[t],t,n))return t;return A;case 2:for(let t=r+1;t<n.length;++t)if(!e.resolveDisabled(n[t],t,n))return t;return A;case 3:for(let t=n.length-1;t>=0;--t)if(!e.resolveDisabled(n[t],t,n))return t;return A;case 4:for(let A=0;A<n.length;++A)if(e.resolveId(n[A],A,n)===t.id)return A;return A;case 5:return null;default:!function(t){throw new Error("Unexpected object: "+t)}(t)}}let Ct=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Ft(t){var e,n;let A=null!=(e=t.innerText)?e:"",r=t.cloneNode(!0);if(!(r instanceof HTMLElement))return A;let i=!1;for(let a of r.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),i=!0;let o=i?null!=(n=r.innerText)?n:"":A;return Ct.test(o)&&(o=o.replace(Ct,"")),o}function bt(e){let n=t(""),r=t("");return()=>{let t=A(e);if(!t)return"";let i=t.innerText;if(n.value===i)return r.value;let o=function(t){let e=t.getAttribute("aria-label");if("string"==typeof e)return e.trim();let n=t.getAttribute("aria-labelledby");if(n){let t=n.split(" ").map((t=>{let e=document.getElementById(t);if(e){let t=e.getAttribute("aria-label");return"string"==typeof t?t.trim():Ft(e).trim()}return null})).filter(Boolean);if(t.length>0)return t.join(", ")}return Ft(t).trim()}(t).trim().toLowerCase();return n.value=i,r.value=o,o}}var Qt=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Qt||{}),Ut=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(Ut||{});let Et=Symbol("MenuContext");function Mt(t){let e=m(Et,null);if(null===e){let e=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(e,Mt),e}return e}let St=i({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:n,attrs:r}){let i=t(1),d=t(null),g=t(null),y=t([]),v=t(""),m=t(null),B=t(1);function x(t=(t=>t)){let e=null!==m.value?y.value[m.value]:null,n=b(t(y.value.slice()),(t=>A(t.dataRef.domRef))),r=e?n.indexOf(e):null;return-1===r&&(r=null),{items:n,activeItemIndex:r}}let w={menuState:i,buttonRef:d,itemsRef:g,items:y,searchQuery:v,activeItemIndex:m,activationTrigger:B,closeMenu:()=>{i.value=1,m.value=null},openMenu:()=>i.value=0,goToItem(t,e,n){let A=x(),r=wt(t===xt.Specific?{focus:xt.Specific,id:e}:{focus:t},{resolveItems:()=>A.items,resolveActiveIndex:()=>A.activeItemIndex,resolveId:t=>t.id,resolveDisabled:t=>t.dataRef.disabled});v.value="",m.value=r,B.value=null!=n?n:1,y.value=A.items},search(t){let e=""!==v.value?0:1;v.value+=t.toLowerCase();let n=(null!==m.value?y.value.slice(m.value+e).concat(y.value.slice(0,m.value+e)):y.value).find((t=>t.dataRef.textValue.startsWith(v.value)&&!t.dataRef.disabled)),A=n?y.value.indexOf(n):-1;-1===A||A===m.value||(m.value=A,B.value=1)},clearSearch(){v.value=""},registerItem(t,e){let n=x((n=>[...n,{id:t,dataRef:e}]));y.value=n.items,m.value=n.activeItemIndex,B.value=1},unregisterItem(t){let e=x((e=>{let n=e.findIndex((e=>e.id===t));return-1!==n&&e.splice(n,1),e}));y.value=e.items,m.value=e.activeItemIndex,B.value=1}};return o([d,g],((t,e)=>{var n;w.closeMenu(),s(e,l.Loose)||(t.preventDefault(),null==(n=A(d))||n.focus())}),a((()=>0===i.value))),u(Et,w),c(a((()=>h(i.value,{0:p.Open,1:p.Closed})))),()=>{let t={open:0===i.value,close:w.closeMenu};return f({ourProps:{},theirProps:e,slot:t,slots:n,attrs:r,name:"Menu"})}}}),It=i({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(r,{attrs:i,slots:o,expose:s}){var l;let u=null!=(l=r.id)?l:`headlessui-menu-button-${d()}`,c=Mt("MenuButton");function h(t){switch(t.key){case B.Space:case B.Enter:case B.ArrowDown:t.preventDefault(),t.stopPropagation(),c.openMenu(),x((()=>{var t;null==(t=A(c.itemsRef))||t.focus({preventScroll:!0}),c.goToItem(xt.First)}));break;case B.ArrowUp:t.preventDefault(),t.stopPropagation(),c.openMenu(),x((()=>{var t;null==(t=A(c.itemsRef))||t.focus({preventScroll:!0}),c.goToItem(xt.Last)}))}}function p(t){if(t.key===B.Space)t.preventDefault()}function g(t){r.disabled||(0===c.menuState.value?(c.closeMenu(),x((()=>{var t;return null==(t=A(c.buttonRef))?void 0:t.focus({preventScroll:!0})}))):(t.preventDefault(),c.openMenu(),function(t){requestAnimationFrame((()=>requestAnimationFrame(t)))}((()=>{var t;return null==(t=A(c.itemsRef))?void 0:t.focus({preventScroll:!0})}))))}s({el:c.buttonRef,$el:c.buttonRef});let y=function(r,i){let o=t(mt(r.value.type,r.value.as));return e((()=>{o.value=mt(r.value.type,r.value.as)})),n((()=>{var t;o.value||A(i)&&A(i)instanceof HTMLButtonElement&&(null==(t=A(i))||!t.hasAttribute("type"))&&(o.value="button")})),o}(a((()=>({as:r.as,type:i.type}))),c.buttonRef);return()=>{var t;let e={open:0===c.menuState.value},{...n}=r,a={ref:c.buttonRef,id:u,type:y.value,"aria-haspopup":"menu","aria-controls":null==(t=A(c.itemsRef))?void 0:t.id,"aria-expanded":0===c.menuState.value,onKeydown:h,onKeyup:p,onClick:g};return f({ourProps:a,theirProps:n,slot:e,attrs:i,slots:o,name:"MenuButton"})}}}),kt=i({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:i,slots:o,expose:s}){var l;let u=null!=(l=e.id)?l:`headlessui-menu-items-${d()}`,c=Mt("MenuItems"),h=t(null);function v(t){var e;switch(h.value&&clearTimeout(h.value),t.key){case B.Space:if(""!==c.searchQuery.value)return t.preventDefault(),t.stopPropagation(),c.search(t.key);case B.Enter:if(t.preventDefault(),t.stopPropagation(),null!==c.activeItemIndex.value){let t=c.items.value[c.activeItemIndex.value];null==(e=A(t.dataRef.domRef))||e.click()}c.closeMenu(),F(A(c.buttonRef));break;case B.ArrowDown:return t.preventDefault(),t.stopPropagation(),c.goToItem(xt.Next);case B.ArrowUp:return t.preventDefault(),t.stopPropagation(),c.goToItem(xt.Previous);case B.Home:case B.PageUp:return t.preventDefault(),t.stopPropagation(),c.goToItem(xt.First);case B.End:case B.PageDown:return t.preventDefault(),t.stopPropagation(),c.goToItem(xt.Last);case B.Escape:t.preventDefault(),t.stopPropagation(),c.closeMenu(),x((()=>{var t;return null==(t=A(c.buttonRef))?void 0:t.focus({preventScroll:!0})}));break;case B.Tab:t.preventDefault(),t.stopPropagation(),c.closeMenu(),x((()=>w(A(c.buttonRef),t.shiftKey?C.Previous:C.Next)));break;default:1===t.key.length&&(c.search(t.key),h.value=setTimeout((()=>c.clearSearch()),350))}}function m(t){if(t.key===B.Space)t.preventDefault()}s({el:c.itemsRef,$el:c.itemsRef}),function({container:t,accept:e,walk:A,enabled:i}){n((()=>{let n=t.value;if(!n||void 0!==i&&!i.value)return;let o=r(t);if(!o)return;let a=Object.assign((t=>e(t)),{acceptNode:e}),s=o.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,a,!1);for(;s.nextNode();)A(s.currentNode)}))}({container:a((()=>A(c.itemsRef))),enabled:a((()=>0===c.menuState.value)),accept:t=>"menuitem"===t.getAttribute("role")?NodeFilter.FILTER_REJECT:t.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(t){t.setAttribute("role","none")}});let b=g(),Q=a((()=>null!==b?(b.value&p.Open)===p.Open:0===c.menuState.value));return()=>{var t,n;let r={open:0===c.menuState.value},{...a}=e,s={"aria-activedescendant":null===c.activeItemIndex.value||null==(t=c.items.value[c.activeItemIndex.value])?void 0:t.id,"aria-labelledby":null==(n=A(c.buttonRef))?void 0:n.id,id:u,onKeydown:v,onKeyup:m,role:"menu",tabIndex:0,ref:c.itemsRef};return f({ourProps:s,theirProps:a,slot:r,attrs:i,slots:o,features:y.RenderStrategy|y.Static,visible:Q.value,name:"MenuItems"})}}}),Lt=i({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(r,{slots:i,attrs:o,expose:s}){var l;let u=null!=(l=r.id)?l:`headlessui-menu-item-${d()}`,c=Mt("MenuItem"),h=t(null);s({el:h,$el:h});let p=a((()=>null!==c.activeItemIndex.value&&c.items.value[c.activeItemIndex.value].id===u)),g=bt(h),y=a((()=>({disabled:r.disabled,get textValue(){return g()},domRef:h})));function m(t){if(r.disabled)return t.preventDefault();c.closeMenu(),F(A(c.buttonRef))}function B(){if(r.disabled)return c.goToItem(xt.Nothing);c.goToItem(xt.Specific,u)}e((()=>c.registerItem(u,y))),v((()=>c.unregisterItem(u))),n((()=>{0===c.menuState.value&&p.value&&0!==c.activationTrigger.value&&x((()=>{var t,e;return null==(e=null==(t=A(h))?void 0:t.scrollIntoView)?void 0:e.call(t,{block:"nearest"})}))}));let w=function(){let e=t([-1,-1]);return{wasMoved(t){let n=Bt(t);return(e.value[0]!==n[0]||e.value[1]!==n[1])&&(e.value=n,!0)},update(t){e.value=Bt(t)}}}();function C(t){w.update(t)}function b(t){w.wasMoved(t)&&(r.disabled||p.value||c.goToItem(xt.Specific,u,0))}function Q(t){w.wasMoved(t)&&(r.disabled||p.value&&c.goToItem(xt.Nothing))}return()=>{let{disabled:t,...e}=r,n={active:p.value,disabled:t,close:c.closeMenu};return f({ourProps:{id:u,ref:h,role:"menuitem",tabIndex:!0===t?void 0:-1,"aria-disabled":!0===t||void 0,onClick:m,onFocus:B,onPointerenter:C,onMouseenter:C,onPointermove:b,onMousemove:b,onPointerleave:Q,onMouseleave:Q},theirProps:{...o,...e},slot:n,attrs:o,slots:i,name:"MenuItem"})}}});var Ht=function(t,e){return(Ht=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Tt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Ht(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Dt=function(){return Dt=Object.assign||function(t){for(var e,n=1,A=arguments.length;n<A;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Dt.apply(this,arguments)};function Pt(t,e){var n={};for(var A in t)Object.prototype.hasOwnProperty.call(t,A)&&e.indexOf(A)<0&&(n[A]=t[A]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(A=Object.getOwnPropertySymbols(t);r<A.length;r++)e.indexOf(A[r])<0&&Object.prototype.propertyIsEnumerable.call(t,A[r])&&(n[A[r]]=t[A[r]])}return n}function Ot(t,e,n,A){return new(n||(n=Promise))((function(r,i){function o(t){try{s(A.next(t))}catch(e){i(e)}}function a(t){try{s(A.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}s((A=A.apply(t,e||[])).next())}))}function Rt(t,e){var n,A,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(o=0)),o;)try{if(n=1,A&&(r=2&a[0]?A.return:a[0]?A.throw||((r=A.return)&&r.call(A),0):A.next)&&!(r=r.call(A,a[1])).done)return r;switch(A=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,A=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(s){a=[6,s],A=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function Kt(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],A=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&A>=t.length&&(t=void 0),{value:t&&t[A++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vt(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var A,r,i=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(A=i.next()).done;)o.push(A.value)}catch(a){r={error:a}}finally{try{A&&!A.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o}function Gt(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var A=Array(t),r=0;for(e=0;e<n;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,r++)A[r]=i[o];return A}function Nt(t,e,n){if(n||2===arguments.length)for(var A,r=0,i=e.length;r<i;r++)!A&&r in e||(A||(A=Array.prototype.slice.call(e,0,r)),A[r]=e[r]);return t.concat(A||Array.prototype.slice.call(e))}"function"==typeof SuppressedError&&SuppressedError;var _t=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)},Xt=function(t,e){return!!_t(t)&&t.indexOf(e)>-1},Yt=function(t,e){if(!_t(t))return t;for(var n=[],A=0;A<t.length;A++){var r=t[A];e(r,A)&&n.push(r)}return n},zt={}.toString,Wt=function(t,e){return zt.call(t)==="[object "+e+"]"};const jt=function(t){return Wt(t,"Function")};var Jt=function(t){return null==t};const qt=function(t){return Array.isArray?Array.isArray(t):Wt(t,"Array")},Zt=function(t){var e=typeof t;return null!==t&&"object"===e||"function"===e};function $t(t,e){if(t)if(qt(t))for(var n=0,A=t.length;n<A&&!1!==e(t[n],n);n++);else if(Zt(t))for(var r in t)if(t.hasOwnProperty(r)&&!1===e(t[r],r))break}var te=Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];return $t(t,(function(n,A){jt(t)&&"prototype"===A||e.push(A)})),e};function ee(t,e){var n=te(e),A=n.length;if(Jt(t))return!A;for(var r=0;r<A;r+=1){var i=n[r];if(e[i]!==t[i]||!(i in t))return!1}return!0}var ne=function(t){return"object"==typeof t&&null!==t},Ae=function(t){if(!ne(t)||!Wt(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e};function re(t,e){if(!qt(t))return null;var n;if(jt(e)&&(n=e),Ae(e)&&(n=function(t){return ee(t,e)}),n)for(var A=0;A<t.length;A+=1)if(n(t[A]))return t[A];return null}function ie(t,e,n){void 0===n&&(n=0);for(var A=n;A<t.length;A++)if(e(t[A],A))return A;return-1}var oe=function(t){if(!qt(t))return[];for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);return e};const ae=function(t){if(qt(t))return t.reduce((function(t,e){return Math.max(t,e)}),t[0])},se=function(t){if(qt(t))return t.reduce((function(t,e){return Math.min(t,e)}),t[0])};var le=function(t){var e=t.filter((function(t){return!isNaN(t)}));if(!e.length)return{min:0,max:0};if(qt(t[0])){for(var n=[],A=0;A<t.length;A++)n=n.concat(t[A]);e=n}var r=ae(e);return{min:se(e),max:r}},ue=Array.prototype.splice,ce=function(t,e,n){if(!qt(t)&&!Ae(t))return t;var A=n;return $t(t,(function(t,n){A=e(A,t,n)})),A},he=function(t,e){var n=[];if(!_t(t))return n;for(var A=-1,r=[],i=t.length;++A<i;){var o=t[A];e(o,A,t)&&(n.push(o),r.push(A))}return function(t,e){if(!_t(t))return[];for(var n=t?e.length:0,A=n-1;n--;){var r=void 0,i=e[n];n!==A&&i===r||(r=i,ue.call(t,i,1))}}(t,r),n};const pe=function(t){return Wt(t,"String")};function fe(t,e){void 0===e&&(e=new Map);var n=[];if(Array.isArray(t))for(var A=0,r=t.length;A<r;A++){var i=t[A];e.has(i)||(n.push(i),e.set(i,!0))}return n}const de=function(t,e){for(var n=[],A={},r=0;r<t.length;r++){var i=t[r][e];if(!Jt(i)){qt(i)||(i=[i]);for(var o=0;o<i.length;o++){var a=i[o];A[a]||(n.push(a),A[a]=!0)}}}return n};function ge(t){if(_t(t))return t[0]}function ye(t){if(_t(t)){return t[t.length-1]}}var ve=function(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n))return!1;return!0},me=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n))return!0;return!1},Be=Object.prototype.hasOwnProperty;function xe(t,e){if(!e||!qt(t))return{};for(var n,A={},r=jt(e)?e:function(t){return t[e]},i=0;i<t.length;i++){var o=t[i];n=r(o),Be.call(A,n)?A[n].push(o):A[n]=[o]}return A}function we(t,e){if(!e)return{0:t};if(!jt(e)){var n=qt(e)?e:e.replace(/\s+/g,"").split("*");e=function(t){for(var e="_",A=0,r=n.length;A<r;A++)e+=t[n[A]]&&t[n[A]].toString();return e}}return xe(t,e)}var Ce=function(t,e,n){return t<e?e:t>n?n:t},Fe=function(t,e){var n=e.toString(),A=n.indexOf(".");if(-1===A)return Math.round(t);var r=n.substr(A+1).length;return r>20&&(r=20),parseFloat(t.toFixed(r))},be=function(t){return Wt(t,"Number")},Qe=1e-5;function Ue(t,e,n){return void 0===n&&(n=Qe),Math.abs(t-e)<n}const Ee=function(t,e){if(qt(t)){for(var n,A=-1/0,r=0;r<t.length;r++){var i=t[r],o=jt(e)?e(i):i[e];o>A&&(n=i,A=o)}return n}};var Me=function(t,e){return(t%e+e)%e},Se=Math.PI/180,Ie=function(t){return Se*t};const ke=function(t,e){return t.hasOwnProperty(e)};var Le=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return $t(t,(function(n,A){jt(t)&&"prototype"===A||e.push(n)})),e};const He=function(t){return Jt(t)?"":t.toString()};var Te=function(t){return He(t).toLowerCase()};function De(t,e){return t&&e?t.replace(/\\?\{([^{}]+)\}/g,(function(t,n){return"\\"===t.charAt(0)?t.slice(1):void 0===e[n]?"":e[n]})):t}var Pe=function(t){var e=He(t);return e.charAt(0).toUpperCase()+e.substring(1)},Oe={}.toString,Re=function(t){return Oe.call(t).replace(/^\[object /,"").replace(/]$/,"")},Ke=function(t){return Wt(t,"Boolean")},Ve=function(t){return Wt(t,"Date")},Ge=Object.prototype,Ne=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Ge)},_e=function(t){return void 0===t},Xe=function(t){return t instanceof Element||t instanceof HTMLDocument};function Ye(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}function ze(t,e,n,A){return e&&Ye(t,e),n&&Ye(t,n),A&&Ye(t,A),t}var We=function(t){if("object"!=typeof t||null===t)return t;var e;if(qt(t)){e=[];for(var n=0,A=t.length;n<A;n++)"object"==typeof t[n]&&null!=t[n]?e[n]=We(t[n]):e[n]=t[n]}else for(var r in e={},t)"object"==typeof t[r]&&null!=t[r]?e[r]=We(t[r]):e[r]=t[r];return e};function je(t,e,n){var A;return function(){var r=this,i=arguments,o=n&&!A;clearTimeout(A),A=setTimeout((function(){A=null,n||t.apply(r,i)}),e),o&&t.apply(r,i)}}const Je=function(t,e){if(!jt(t))throw new TypeError("Expected a function");var n=function(){for(var A=[],r=0;r<arguments.length;r++)A[r]=arguments[r];var i=e?e.apply(this,A):A[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,A);return o.set(i,a),a};return n.cache=new Map,n};function qe(t,e,n,A){for(var r in n=n||0,A=A||5,e)if(e.hasOwnProperty(r)){var i=e[r];null!==i&&Ae(i)?(Ae(t[r])||(t[r]={}),n<A?qe(t[r],i,n+1,A):t[r]=e[r]):qt(i)?(t[r]=[],t[r]=t[r].concat(i)):void 0!==i&&(t[r]=i)}}var Ze=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var A=0;A<e.length;A+=1)qe(t,e[A]);return t},$e=function(t,e){if(!_t(t))return-1;var n=Array.prototype.indexOf;if(n)return n.call(t,e);for(var A=-1,r=0;r<t.length;r++)if(t[r]===e){A=r;break}return A},tn=Object.prototype.hasOwnProperty;function en(t){if(Jt(t))return!0;if(_t(t))return!t.length;var e=Re(t);if("Map"===e||"Set"===e)return!t.size;if(Ne(t))return!Object.keys(t).length;for(var n in t)if(tn.call(t,n))return!1;return!0}var nn=function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(pe(t)||pe(e))return!1;if(_t(t)||_t(e)){if(t.length!==e.length)return!1;for(var n=!0,A=0;A<t.length&&(n=nn(t[A],e[A]));A++);return n}if(ne(t)||ne(e)){var r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(n=!0,A=0;A<r.length&&(n=nn(t[r[A]],e[r[A]]));A++);return n}return!1},An=function(t,e){if(!_t(t))return t;for(var n=[],A=0;A<t.length;A++){var r=t[A];n.push(e(r,A))}return n},rn=function(t){return t};const on=function(t,e,n){for(var A=0,r=pe(e)?e.split("."):e;t&&A<r.length;)t=t[r[A++]];return void 0===t||A<r.length?n:t},an=function(t,e,n){var A=t,r=pe(e)?e.split("."):e;return r.forEach((function(t,e){e<r.length-1?(Zt(A[t])||(A[t]=be(r[e+1])?[]:{}),A=A[t]):A[t]=n})),t};var sn=Object.prototype.hasOwnProperty;const ln=function(t,e){if(null===t||!Ae(t))return{};var n={};return $t(e,(function(e){sn.call(t,e)&&(n[e]=t[e])})),n},un=function(t,e){return ce(t,(function(t,n,A){return e.includes(A)||(t[A]=n),t}),{})},cn=function(t,e,n){var A,r,i,o,a=0;n||(n={});var s=function(){a=!1===n.leading?0:Date.now(),A=null,o=t.apply(r,i),A||(r=i=null)},l=function(){var l=Date.now();a||!1!==n.leading||(a=l);var u=e-(l-a);return r=this,i=arguments,u<=0||u>e?(A&&(clearTimeout(A),A=null),a=l,o=t.apply(r,i),A||(r=i=null)):A||!1===n.trailing||(A=setTimeout(s,u)),o};return l.cancel=function(){clearTimeout(A),a=0,A=r=i=null},l},hn=function(t){return _t(t)?Array.prototype.slice.call(t):[]};var pn={};const fn=function(t){return pn[t=t||"g"]?pn[t]+=1:pn[t]=1,t+pn[t]},dn=function(){};function gn(t){return Jt(t)?0:_t(t)?t.length:Object.keys(t).length}var yn;const vn=Je((function(t,e){void 0===e&&(e={});var n=e.fontSize,A=e.fontFamily,r=e.fontWeight,i=e.fontStyle,o=e.fontVariant;return yn||(yn=document.createElement("canvas").getContext("2d")),yn.font=[i,o,r,n+"px",A].join(" "),yn.measureText(pe(t)?t:"").width}),(function(t,e){return void 0===e&&(e={}),Gt([t],Le(e)).join("")})),mn=function(t,e,n,A){void 0===A&&(A="...");var r,i,o=vn(A,n),a=pe(t)?t:He(t),s=e,l=[];if(vn(t,n)<=e)return t;for(;r=a.substr(0,16),!((i=vn(r,n))+o>s&&i>s);)if(l.push(r),s-=i,!(a=a.substr(16)))return l.join("");for(;r=a.substr(0,1),!((i=vn(r,n))+o>s);)if(l.push(r),s-=i,!(a=a.substr(1)))return l.join("");return""+l.join("")+A};var Bn,xn,wn,Cn,Fn,bn,Qn=function(){function t(){this.map={}}return t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length},t}();(xn=Bn||(Bn={})).FORE="fore",xn.MID="mid",xn.BG="bg",(Cn=wn||(wn={})).TOP="top",Cn.TOP_LEFT="top-left",Cn.TOP_RIGHT="top-right",Cn.RIGHT="right",Cn.RIGHT_TOP="right-top",Cn.RIGHT_BOTTOM="right-bottom",Cn.LEFT="left",Cn.LEFT_TOP="left-top",Cn.LEFT_BOTTOM="left-bottom",Cn.BOTTOM="bottom",Cn.BOTTOM_LEFT="bottom-left",Cn.BOTTOM_RIGHT="bottom-right",Cn.RADIUS="radius",Cn.CIRCLE="circle",Cn.NONE="none",(bn=Fn||(Fn={})).AXIS="axis",bn.GRID="grid",bn.LEGEND="legend",bn.TOOLTIP="tooltip",bn.ANNOTATION="annotation",bn.SLIDER="slider",bn.SCROLLBAR="scrollbar",bn.OTHER="other";var Un,En,Mn,Sn,In,kn,Ln,Hn,Tn=3,Dn=2,Pn=1;(En=Un||(Un={})).BEFORE_RENDER="beforerender",En.AFTER_RENDER="afterrender",En.BEFORE_PAINT="beforepaint",En.AFTER_PAINT="afterpaint",En.BEFORE_CHANGE_DATA="beforechangedata",En.AFTER_CHANGE_DATA="afterchangedata",En.BEFORE_CLEAR="beforeclear",En.AFTER_CLEAR="afterclear",En.BEFORE_DESTROY="beforedestroy",En.BEFORE_CHANGE_SIZE="beforechangesize",En.AFTER_CHANGE_SIZE="afterchangesize",(Sn=Mn||(Mn={})).BEFORE_DRAW_ANIMATE="beforeanimate",Sn.AFTER_DRAW_ANIMATE="afteranimate",Sn.BEFORE_RENDER_LABEL="beforerenderlabel",Sn.AFTER_RENDER_LABEL="afterrenderlabel",(kn=In||(In={})).MOUSE_ENTER="plot:mouseenter",kn.MOUSE_DOWN="plot:mousedown",kn.MOUSE_MOVE="plot:mousemove",kn.MOUSE_UP="plot:mouseup",kn.MOUSE_LEAVE="plot:mouseleave",kn.TOUCH_START="plot:touchstart",kn.TOUCH_MOVE="plot:touchmove",kn.TOUCH_END="plot:touchend",kn.TOUCH_CANCEL="plot:touchcancel",kn.CLICK="plot:click",kn.DBLCLICK="plot:dblclick",kn.CONTEXTMENU="plot:contextmenu",kn.LEAVE="plot:leave",kn.ENTER="plot:enter",(Hn=Ln||(Ln={})).ACTIVE="active",Hn.INACTIVE="inactive",Hn.SELECTED="selected",Hn.DEFAULT="default";var On,Rn,Kn,Vn,Gn=["color","shape","size"],Nn="_origin",_n={};function Xn(t,e){_n[t]=e}function Yn(t,e,n){if(t){if("function"==typeof t.addEventListener)return t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}};if("function"==typeof t.attachEvent)return t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}}}function zn(t){On||(On=document.createElement("table"),Rn=document.createElement("tr"),Kn=/^\s*<(\w+|!)[^>]*>/,Vn={tr:document.createElement("tbody"),tbody:On,thead:On,tfoot:On,td:Rn,th:Rn,"*":document.createElement("div")});var e=Kn.test(t)&&RegExp.$1;e&&e in Vn||(e="*");var n=Vn[e];t="string"==typeof t?t.replace(/(^\s*)|(\s*$)/g,""):t,n.innerHTML=""+t;var A=n.childNodes[0];return A&&n.contains(A)&&n.removeChild(A),A}function Wn(t,e,n){var A;try{A=window.getComputedStyle?window.getComputedStyle(t,null)[e]:t.style[e]}catch(r){}finally{A=void 0===A?n:A}return A}function jn(t,e){var n=function(t,e){var n=Wn(t,"height",e);return"auto"===n&&(n=t.offsetHeight),parseFloat(n)}(t,e),A=parseFloat(Wn(t,"borderTopWidth"))||0,r=parseFloat(Wn(t,"paddingTop"))||0,i=parseFloat(Wn(t,"paddingBottom"))||0;return n+A+(parseFloat(Wn(t,"borderBottomWidth"))||0)+r+i+(parseFloat(Wn(t,"marginTop"))||0)+(parseFloat(Wn(t,"marginBottom"))||0)}function Jn(t,e){var n=function(t,e){var n=Wn(t,"width",e);return"auto"===n&&(n=t.offsetWidth),parseFloat(n)}(t,e),A=parseFloat(Wn(t,"borderLeftWidth"))||0,r=parseFloat(Wn(t,"paddingLeft"))||0,i=parseFloat(Wn(t,"paddingRight"))||0,o=parseFloat(Wn(t,"borderRightWidth"))||0,a=parseFloat(Wn(t,"marginRight"))||0;return n+A+o+r+i+(parseFloat(Wn(t,"marginLeft"))||0)+a}function qn(t,e){if(t)for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n]);return t}function Zn(t){return"number"==typeof t&&!isNaN(t)}function $n(t,e,n,A){var r=n,i=A;if(e){var o=function(t){var e=getComputedStyle(t);return{width:(t.clientWidth||parseInt(e.width,10))-parseInt(e.paddingLeft,10)-parseInt(e.paddingRight,10),height:(t.clientHeight||parseInt(e.height,10))-parseInt(e.paddingTop,10)-parseInt(e.paddingBottom,10)}}(t);r=o.width?o.width:r,i=o.height?o.height:i}return{width:Math.max(Zn(r)?r:1,1),height:Math.max(Zn(i)?i:1,1)}}var tA=function(){function t(){this._events={}}return t.prototype.on=function(t,e,n){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:e,once:!!n}),this},t.prototype.once=function(t,e){return this.on(t,e,!0)},t.prototype.emit=function(t){for(var e=this,n=[],A=1;A<arguments.length;A++)n[A-1]=arguments[A];var r=this._events[t]||[],i=this._events["*"]||[],o=function(A){for(var r=A.length,i=0;i<r;i++)if(A[i]){var o=A[i],a=o.callback;o.once&&(A.splice(i,1),0===A.length&&delete e._events[t],r--,i--),a.apply(e,n)}};o(r),o(i)},t.prototype.off=function(t,e){if(t)if(e){for(var n=this._events[t]||[],A=n.length,r=0;r<A;r++)n[r].callback===e&&(n.splice(r,1),A--,r--);0===n.length&&delete this._events[t]}else delete this._events[t];else this._events={};return this},t.prototype.getEvents=function(){return this._events},t}(),eA=function(t){function e(e){var n=t.call(this)||this;n.destroyed=!1;var A=e.visible,r=void 0===A||A;return n.visible=r,n}return Tt(e,t),e.prototype.show=function(){this.visible||this.changeVisible(!0)},e.prototype.hide=function(){this.visible&&this.changeVisible(!1)},e.prototype.destroy=function(){this.off(),this.destroyed=!0},e.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},e}(tA),nA="\t\n\v\f\r   ᠎             　\u2028\u2029",AA=new RegExp("([a-z])["+nA+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+nA+"]*,?["+nA+"]*)+)","ig"),rA=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+nA+"]*,?["+nA+"]*","ig"),iA=function(t){if(!t)return null;if(qt(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(AA,(function(A,r,i){var o=[],a=r.toLowerCase();if(i.replace(rA,(function(t,e){e&&o.push(+e)})),"m"===a&&o.length>2&&(n.push([r].concat(o.splice(0,2))),a="l",r="m"===r?"l":"L"),"o"===a&&1===o.length&&n.push([r,o[0]]),"r"===a)n.push([r].concat(o));else for(;o.length>=e[a]&&(n.push([r].concat(o.splice(0,e[a]))),e[a]););return t})),n},oA=function(t,e){for(var n=[],A=0,r=t.length;r-2*!e>A;A+=2){var i=[{x:+t[A-2],y:+t[A-1]},{x:+t[A],y:+t[A+1]},{x:+t[A+2],y:+t[A+3]},{x:+t[A+4],y:+t[A+5]}];e?A?r-4===A?i[3]={x:+t[0],y:+t[1]}:r-2===A&&(i[2]={x:+t[0],y:+t[1]},i[3]={x:+t[2],y:+t[3]}):i[0]={x:+t[r-2],y:+t[r-1]}:r-4===A?i[3]=i[2]:A||(i[0]={x:+t[A],y:+t[A+1]}),n.push(["C",(-i[0].x+6*i[1].x+i[2].x)/6,(-i[0].y+6*i[1].y+i[2].y)/6,(i[1].x+6*i[2].x-i[3].x)/6,(i[1].y+6*i[2].y-i[3].y)/6,i[2].x,i[2].y])}return n},aA=function(t,e,n,A,r){var i=[];if(null===r&&null===A&&(A=n),t=+t,e=+e,n=+n,A=+A,null!==r){var o=Math.PI/180,a=t+n*Math.cos(-A*o),s=t+n*Math.cos(-r*o);i=[["M",a,e+n*Math.sin(-A*o)],["A",n,n,0,+(r-A>180),0,s,e+n*Math.sin(-r*o)]]}else i=[["M",t,e],["m",0,-A],["a",n,A,0,1,1,0,2*A],["a",n,A,0,1,1,0,-2*A],["z"]];return i},sA=function(t){if(!(t=iA(t))||!t.length)return[["M",0,0]];var e,n,A=[],r=0,i=0,o=0,a=0,s=0;"M"===t[0][0]&&(o=r=+t[0][1],a=i=+t[0][2],s++,A[0]=["M",r,i]);for(var l=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),u=void 0,c=void 0,h=s,p=t.length;h<p;h++){if(A.push(u=[]),(e=(c=t[h])[0])!==e.toUpperCase())switch(u[0]=e.toUpperCase(),u[0]){case"A":u[1]=c[1],u[2]=c[2],u[3]=c[3],u[4]=c[4],u[5]=c[5],u[6]=+c[6]+r,u[7]=+c[7]+i;break;case"V":u[1]=+c[1]+i;break;case"H":u[1]=+c[1]+r;break;case"R":for(var f=2,d=(n=[r,i].concat(c.slice(1))).length;f<d;f++)n[f]=+n[f]+r,n[++f]=+n[f]+i;A.pop(),A=A.concat(oA(n,l));break;case"O":A.pop(),(n=aA(r,i,c[1],c[2])).push(n[0]),A=A.concat(n);break;case"U":A.pop(),A=A.concat(aA(r,i,c[1],c[2],c[3])),u=["U"].concat(A[A.length-1].slice(-2));break;case"M":o=+c[1]+r,a=+c[2]+i;break;default:for(f=1,d=c.length;f<d;f++)u[f]=+c[f]+(f%2?r:i)}else if("R"===e)n=[r,i].concat(c.slice(1)),A.pop(),A=A.concat(oA(n,l)),u=["R"].concat(c.slice(-2));else if("O"===e)A.pop(),(n=aA(r,i,c[1],c[2])).push(n[0]),A=A.concat(n);else if("U"===e)A.pop(),A=A.concat(aA(r,i,c[1],c[2],c[3])),u=["U"].concat(A[A.length-1].slice(-2));else for(var g=0,y=c.length;g<y;g++)u[g]=c[g];if("O"!==(e=e.toUpperCase()))switch(u[0]){case"Z":r=+o,i=+a;break;case"H":r=u[1];break;case"V":i=u[1];break;case"M":o=u[u.length-2],a=u[u.length-1];break;default:r=u[u.length-2],i=u[u.length-1]}}return A},lA=function(t,e,n,A){return[t,e,n,A,n,A]},uA=function(t,e,n,A,r,i){var o=1/3,a=2/3;return[o*t+a*n,o*e+a*A,o*r+a*n,o*i+a*A,r,i]},cA=function(t,e,n,A,r,i,o,a,s,l){n===A&&(n+=1);var u,c,h,p,f,d=120*Math.PI/180,g=Math.PI/180*(+r||0),y=[],v=function(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}};if(l)c=l[0],h=l[1],p=l[2],f=l[3];else{t=(u=v(t,e,-g)).x,e=u.y,a=(u=v(a,s,-g)).x,s=u.y,t===a&&e===s&&(a+=1,s+=1);var m=(t-a)/2,B=(e-s)/2,x=m*m/(n*n)+B*B/(A*A);x>1&&(n*=x=Math.sqrt(x),A*=x);var w=n*n,C=A*A,F=(i===o?-1:1)*Math.sqrt(Math.abs((w*C-w*B*B-C*m*m)/(w*B*B+C*m*m)));p=F*n*B/A+(t+a)/2,f=F*-A*m/n+(e+s)/2,c=Math.asin(((e-f)/A).toFixed(9)),h=Math.asin(((s-f)/A).toFixed(9)),c=t<p?Math.PI-c:c,h=a<p?Math.PI-h:h,c<0&&(c=2*Math.PI+c),h<0&&(h=2*Math.PI+h),o&&c>h&&(c-=2*Math.PI),!o&&h>c&&(h-=2*Math.PI)}var b=h-c;if(Math.abs(b)>d){var Q=h,U=a,E=s;h=c+d*(o&&h>c?1:-1),a=p+n*Math.cos(h),s=f+A*Math.sin(h),y=cA(a,s,n,A,r,0,o,U,E,[h,Q,p,f])}b=h-c;var M=Math.cos(c),S=Math.sin(c),I=Math.cos(h),k=Math.sin(h),L=Math.tan(b/4),H=4/3*n*L,T=4/3*A*L,D=[t,e],P=[t+H*S,e-T*M],O=[a+H*k,s-T*I],R=[a,s];if(P[0]=2*D[0]-P[0],P[1]=2*D[1]-P[1],l)return[P,O,R].concat(y);for(var K=[],V=0,G=(y=[P,O,R].concat(y).join().split(",")).length;V<G;V++)K[V]=V%2?v(y[V-1],y[V],g).y:v(y[V],y[V+1],g).x;return K},hA=function(t,e){var n,A=sA(t),r=e&&sA(e),i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a=[],s=[],l="",u="",c=function(t,e,n){var A,r;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(cA.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"===n||"S"===n?(A=2*e.x-e.bx,r=2*e.y-e.by):(A=e.x,r=e.y),t=["C",A,r].concat(t.slice(1));break;case"T":"Q"===n||"T"===n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(uA(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(uA(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(lA(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(lA(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(lA(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(lA(e.x,e.y,e.X,e.Y))}return t},h=function(t,e){if(t[e].length>7){t[e].shift();for(var i=t[e];i.length;)a[e]="A",r&&(s[e]="A"),t.splice(e++,0,["C"].concat(i.splice(0,6)));t.splice(e,1),n=Math.max(A.length,r&&r.length||0)}},p=function(t,e,i,o,a){t&&e&&"M"===t[a][0]&&"M"!==e[a][0]&&(e.splice(a,0,["M",o.x,o.y]),i.bx=0,i.by=0,i.x=t[a][1],i.y=t[a][2],n=Math.max(A.length,r&&r.length||0))};n=Math.max(A.length,r&&r.length||0);for(var f=0;f<n;f++){A[f]&&(l=A[f][0]),"C"!==l&&(a[f]=l,f&&(u=a[f-1])),A[f]=c(A[f],i,u),"A"!==a[f]&&"C"===l&&(a[f]="C"),h(A,f),r&&(r[f]&&(l=r[f][0]),"C"!==l&&(s[f]=l,f&&(u=s[f-1])),r[f]=c(r[f],o,u),"A"!==s[f]&&"C"===l&&(s[f]="C"),h(r,f)),p(A,r,i,o,f),p(r,A,o,i,f);var d=A[f],g=r&&r[f],y=d.length,v=r&&g.length;i.x=d[y-2],i.y=d[y-1],i.bx=parseFloat(d[y-4])||i.x,i.by=parseFloat(d[y-3])||i.y,o.bx=r&&(parseFloat(g[v-4])||o.x),o.by=r&&(parseFloat(g[v-3])||o.y),o.x=r&&g[v-2],o.y=r&&g[v-1]}return r?[A,r]:A},pA=/,?([a-z]),?/gi,fA=function(t){return t.join(",").replace(pA,"$1")},dA=function(t,e,n,A,r){return t*(t*(-3*e+9*n-9*A+3*r)+6*e-12*n+6*A)-3*e+3*n},gA=function(t,e,n,A,r,i,o,a,s){null===s&&(s=1);for(var l=(s=s>1?1:s<0?0:s)/2,u=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],c=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],h=0,p=0;p<12;p++){var f=l*u[p]+l,d=dA(f,t,n,r,o),g=dA(f,e,A,i,a),y=d*d+g*g;h+=c[p]*Math.sqrt(y)}return l*h},yA=function(t,e,n,A,r,i,o,a){for(var s,l,u,c,h=[],p=[[],[]],f=0;f<2;++f)if(0===f?(l=6*t-12*n+6*r,s=-3*t+9*n-9*r+3*o,u=3*n-3*t):(l=6*e-12*A+6*i,s=-3*e+9*A-9*i+3*a,u=3*A-3*e),Math.abs(s)<1e-12){if(Math.abs(l)<1e-12)continue;(c=-u/l)>0&&c<1&&h.push(c)}else{var d=l*l-4*u*s,g=Math.sqrt(d);if(!(d<0)){var y=(-l+g)/(2*s);y>0&&y<1&&h.push(y);var v=(-l-g)/(2*s);v>0&&v<1&&h.push(v)}}for(var m,B=h.length,x=B;B--;)m=1-(c=h[B]),p[0][B]=m*m*m*t+3*m*m*c*n+3*m*c*c*r+c*c*c*o,p[1][B]=m*m*m*e+3*m*m*c*A+3*m*c*c*i+c*c*c*a;return p[0][x]=t,p[1][x]=e,p[0][x+1]=o,p[1][x+1]=a,p[0].length=p[1].length=x+2,{min:{x:Math.min.apply(0,p[0]),y:Math.min.apply(0,p[1])},max:{x:Math.max.apply(0,p[0]),y:Math.max.apply(0,p[1])}}},vA=function(t,e,n,A,r,i,o,a){if(!(Math.max(t,n)<Math.min(r,o)||Math.min(t,n)>Math.max(r,o)||Math.max(e,A)<Math.min(i,a)||Math.min(e,A)>Math.max(i,a))){var s=(t-n)*(i-a)-(e-A)*(r-o);if(s){var l=((t*A-e*n)*(r-o)-(t-n)*(r*a-i*o))/s,u=((t*A-e*n)*(i-a)-(e-A)*(r*a-i*o))/s,c=+l.toFixed(2),h=+u.toFixed(2);if(!(c<+Math.min(t,n).toFixed(2)||c>+Math.max(t,n).toFixed(2)||c<+Math.min(r,o).toFixed(2)||c>+Math.max(r,o).toFixed(2)||h<+Math.min(e,A).toFixed(2)||h>+Math.max(e,A).toFixed(2)||h<+Math.min(i,a).toFixed(2)||h>+Math.max(i,a).toFixed(2)))return{x:l,y:u}}}},mA=function(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height},BA=function(t,e,n,A,r){if(r)return[["M",+t+ +r,e],["l",n-2*r,0],["a",r,r,0,0,1,r,r],["l",0,A-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-n,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-A],["a",r,r,0,0,1,r,-r],["z"]];var i=[["M",t,e],["l",n,0],["l",0,A],["l",-n,0],["z"]];return i.parsePathArray=fA,i},xA=function(t,e,n,A){return null===t&&(t=e=n=A=0),null===e&&(e=t.y,n=t.width,A=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:A,h:A,x2:t+n,y2:e+A,cx:t+n/2,cy:e+A/2,r1:Math.min(n,A)/2,r2:Math.max(n,A)/2,r0:Math.sqrt(n*n+A*A)/2,path:BA(t,e,n,A),vb:[t,e,n,A].join(" ")}},wA=function(t,e,n,A,r,i,o,a){qt(t)||(t=[t,e,n,A,r,i,o,a]);var s=yA.apply(null,t);return xA(s.min.x,s.min.y,s.max.x-s.min.x,s.max.y-s.min.y)},CA=function(t,e,n,A,r,i,o,a,s){var l=1-s,u=Math.pow(l,3),c=Math.pow(l,2),h=s*s,p=h*s,f=t+2*s*(n-t)+h*(r-2*n+t),d=e+2*s*(A-e)+h*(i-2*A+e),g=n+2*s*(r-n)+h*(o-2*r+n),y=A+2*s*(i-A)+h*(a-2*i+A);return{x:u*t+3*c*s*n+3*l*s*s*r+p*o,y:u*e+3*c*s*A+3*l*s*s*i+p*a,m:{x:f,y:d},n:{x:g,y:y},start:{x:l*t+s*n,y:l*e+s*A},end:{x:l*r+s*o,y:l*i+s*a},alpha:90-180*Math.atan2(f-g,d-y)/Math.PI}},FA=function(t,e,n){if(!function(t,e){return t=xA(t),e=xA(e),mA(e,t.x,t.y)||mA(e,t.x2,t.y)||mA(e,t.x,t.y2)||mA(e,t.x2,t.y2)||mA(t,e.x,e.y)||mA(t,e.x2,e.y)||mA(t,e.x,e.y2)||mA(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}(wA(t),wA(e)))return n?0:[];for(var A=~~(gA.apply(0,t)/8),r=~~(gA.apply(0,e)/8),i=[],o=[],a={},s=n?0:[],l=0;l<A+1;l++){var u=CA.apply(0,t.concat(l/A));i.push({x:u.x,y:u.y,t:l/A})}for(l=0;l<r+1;l++){u=CA.apply(0,e.concat(l/r));o.push({x:u.x,y:u.y,t:l/r})}for(l=0;l<A;l++)for(var c=0;c<r;c++){var h=i[l],p=i[l+1],f=o[c],d=o[c+1],g=Math.abs(p.x-h.x)<.001?"y":"x",y=Math.abs(d.x-f.x)<.001?"y":"x",v=vA(h.x,h.y,p.x,p.y,f.x,f.y,d.x,d.y);if(v){if(a[v.x.toFixed(4)]===v.y.toFixed(4))continue;a[v.x.toFixed(4)]=v.y.toFixed(4);var m=h.t+Math.abs((v[g]-h[g])/(p[g]-h[g]))*(p.t-h.t),B=f.t+Math.abs((v[y]-f[y])/(d[y]-f[y]))*(d.t-f.t);m>=0&&m<=1&&B>=0&&B<=1&&(n?s+=1:s.push({x:v.x,y:v.y,t1:m,t2:B}))}}return s};function bA(t,e){var n=[],A=[];return t.length&&function t(e,r){if(1===e.length)n.push(e[0]),A.push(e[0]);else{for(var i=[],o=0;o<e.length-1;o++)0===o&&n.push(e[0]),o===e.length-2&&A.push(e[o+1]),i[o]=[(1-r)*e[o][0]+r*e[o+1][0],(1-r)*e[o][1]+r*e[o+1][1]];t(i,r)}}(t,e),{left:n,right:A.reverse()}}var QA=function(t,e,n){if(1===n)return[[].concat(t)];var A=[];if("L"===e[0]||"C"===e[0]||"Q"===e[0])A=A.concat(function(t,e,n){var A=[[t[1],t[2]]];n=n||2;var r=[];"A"===e[0]?(A.push(e[6]),A.push(e[7])):"C"===e[0]?(A.push([e[1],e[2]]),A.push([e[3],e[4]]),A.push([e[5],e[6]])):"S"===e[0]||"Q"===e[0]?(A.push([e[1],e[2]]),A.push([e[3],e[4]])):A.push([e[1],e[2]]);for(var i=A,o=1/n,a=0;a<n-1;a++){var s=bA(i,o/(1-o*a));r.push(s.left),i=s.right}return r.push(i),r.map((function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),t.length>=3&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e.concat(t[t.length-1])}))}(t,e,n));else{var r=[].concat(t);"M"===r[0]&&(r[0]="L");for(var i=0;i<=n-1;i++)A.push(r)}return A},UA=function(t,e){if(t.length!==e.length)return!1;var n=!0;return $t(t,(function(t,A){if(t!==e[A])return n=!1,!1})),n};function EA(t,e,n){var A=null,r=n;return e<r&&(r=e,A="add"),t<r&&(r=t,A="del"),{type:A,min:r}}var MA=function(t,e){var n=function(t,e){var n,A,r=t.length,i=e.length,o=0;if(0===r||0===i)return null;for(var a=[],s=0;s<=r;s++)a[s]=[],a[s][0]={min:s};for(var l=0;l<=i;l++)a[0][l]={min:l};for(s=1;s<=r;s++)for(n=t[s-1],l=1;l<=i;l++){A=e[l-1],o=UA(n,A)?0:1;var u=a[s-1][l].min+1,c=a[s][l-1].min+1,h=a[s-1][l-1].min+o;a[s][l]=EA(u,c,h)}return a}(t,e),A=t.length,r=e.length,i=[],o=1,a=1;if(n[A][r].min!==A){for(var s=1;s<=A;s++){var l=n[s][s].min;a=s;for(var u=o;u<=r;u++)n[s][u].min<l&&(l=n[s][u].min,a=u);o=a,n[s][o].type&&i.push({index:s-1,type:n[s][o].type})}for(s=i.length-1;s>=0;s--)o=i[s].index,"add"===i[s].type?t.splice(o,0,[].concat(t[o])):t.splice(o,1)}var c=r-(A=t.length);if(A<r)for(s=0;s<c;s++)"z"===t[A-1][0]||"Z"===t[A-1][0]?t.splice(A-2,0,t[A-2]):t.push(t[A-1]),A+=1;return t};function SA(t,e,n){for(var A,r=[].concat(t),i=1/(n+1),o=IA(e)[0],a=1;a<=n;a++)i*=a,0===(A=Math.floor(t.length*i))?r.unshift([o[0]*i+t[A][0]*(1-i),o[1]*i+t[A][1]*(1-i)]):r.splice(A,0,[o[0]*i+t[A][0]*(1-i),o[1]*i+t[A][1]*(1-i)]);return r}function IA(t){var e=[];switch(t[0]){case"M":case"L":case"T":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}var kA=function(t,e){if(t.length<=1)return t;for(var n,A=0;A<e.length;A++)if(t[A][0]!==e[A][0])switch(n=IA(t[A]),e[A][0]){case"M":t[A]=["M"].concat(n[0]);break;case"L":t[A]=["L"].concat(n[0]);break;case"A":t[A]=[].concat(e[A]),t[A][6]=n[0][0],t[A][7]=n[0][1];break;case"Q":if(n.length<2){if(!(A>0)){t[A]=e[A];break}n=SA(n,t[A-1],1)}t[A]=["Q"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case"T":t[A]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(A>0)){t[A]=e[A];break}n=SA(n,t[A-1],2)}t[A]=["C"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case"S":if(n.length<2){if(!(A>0)){t[A]=e[A];break}n=SA(n,t[A-1],1)}t[A]=["S"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;default:t[A]=e[A]}return t};const LA=Object.freeze(Object.defineProperty({__proto__:null,catmullRomToBezier:oA,fillPath:function(t,e){if(1===t.length)return t;var n=t.length-1,A=e.length-1,r=n/A,i=[];if(1===t.length&&"M"===t[0][0]){for(var o=0;o<A-n;o++)t.push(t[0]);return t}for(o=0;o<A;o++){var a=Math.floor(r*o);i[a]=(i[a]||0)+1}var s=i.reduce((function(e,A,r){return r===n?e.concat(t[n]):e.concat(QA(t[r],t[r+1],A))}),[]);return s.unshift(t[0]),"Z"!==e[A]&&"z"!==e[A]||s.push("Z"),s},fillPathByDiff:MA,formatPath:kA,intersection:function(t,e){return function(t,e,n){var A,r,i,o,a,s,l,u,c,h;t=hA(t),e=hA(e);for(var p=n?0:[],f=0,d=t.length;f<d;f++){var g=t[f];if("M"===g[0])A=a=g[1],r=s=g[2];else{"C"===g[0]?(c=[A,r].concat(g.slice(1)),A=c[6],r=c[7]):(c=[A,r,A,r,a,s,a,s],A=a,r=s);for(var y=0,v=e.length;y<v;y++){var m=e[y];if("M"===m[0])i=l=m[1],o=u=m[2];else{"C"===m[0]?(h=[i,o].concat(m.slice(1)),i=h[6],o=h[7]):(h=[i,o,i,o,l,u,l,u],i=l,o=u);var B=FA(c,h,n);if(n)p+=B;else{for(var x=0,w=B.length;x<w;x++)B[x].segment1=f,B[x].segment2=y,B[x].bez1=c,B[x].bez2=h;p=p.concat(B)}}}}}return p}(t,e)},parsePathArray:fA,parsePathString:iA,pathToAbsolute:sA,pathToCurve:hA,rectPath:BA},Symbol.toStringTag,{value:"Module"}));var HA=function(){function t(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}return t.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.toString=function(){return"[Event (type="+this.type+")]"},t.prototype.save=function(){},t.prototype.restore=function(){},t}();function TA(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}var DA="undefined"!=typeof window&&void 0!==window.document;function PA(t,e){if(t.isCanvas())return!0;for(var n=e.getParent(),A=!1;n;){if(n===t){A=!0;break}n=n.getParent()}return A}function OA(t){return t.cfg.visible&&t.cfg.capture}var RA=function(t){function e(e){var n=t.call(this)||this;n.destroyed=!1;var A=n.getDefaultCfg();return n.cfg=ze(A,e),n}return Tt(e,t),e.prototype.getDefaultCfg=function(){return{}},e.prototype.get=function(t){return this.cfg[t]},e.prototype.set=function(t,e){this.cfg[t]=e},e.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},e}(tA),KA=function(t,e,n){if(n||2===arguments.length)for(var A,r=0,i=e.length;r<i;r++)!A&&r in e||(A||(A=Array.prototype.slice.call(e,0,r)),A[r]=e[r]);return t.concat(A||Array.prototype.slice.call(e))},VA=function(){return function(t,e,n){this.name=t,this.version=e,this.os=n,this.type="browser"}}(),GA=function(){return function(t){this.version=t,this.type="node",this.name="node",this.os=process.platform}}(),NA=function(){return function(t,e,n,A){this.name=t,this.version=e,this.os=n,this.bot=A,this.type="bot-device"}}(),_A=function(){return function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}}(),XA=function(){return function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}}(),YA=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,zA=3,WA=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],jA=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function JA(t){return t?qA(t):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new XA:"undefined"!=typeof navigator?qA(navigator.userAgent):"undefined"!=typeof process&&process.version?new GA(process.version.slice(1)):null}function qA(t){var e=function(t){return""!==t&&WA.reduce((function(e,n){var A=n[0],r=n[1];if(e)return e;var i=r.exec(t);return!!i&&[A,i]}),!1)}(t);if(!e)return null;var n=e[0],A=e[1];if("searchbot"===n)return new _A;var r=A[1]&&A[1].split(".").join("_").split("_").slice(0,3);r?r.length<zA&&(r=KA(KA([],r,!0),function(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}(zA-r.length),!0)):r=[];var i=r.join("."),o=function(t){for(var e=0,n=jA.length;e<n;e++){var A=jA[e],r=A[0];if(A[1].exec(t))return r}return null}(t),a=YA.exec(t);return a&&a[1]?new NA(n,i,o,a[1]):new VA(n,i,o)}var ZA,$A="undefined"!=typeof Float32Array?Float32Array:Array;function tr(t,e,n){var A=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=n[0],p=n[1],f=n[2],d=n[3],g=n[4],y=n[5],v=n[6],m=n[7],B=n[8];return t[0]=h*A+p*o+f*l,t[1]=h*r+p*a+f*u,t[2]=h*i+p*s+f*c,t[3]=d*A+g*o+y*l,t[4]=d*r+g*a+y*u,t[5]=d*i+g*s+y*c,t[6]=v*A+m*o+B*l,t[7]=v*r+m*a+B*u,t[8]=v*i+m*s+B*c,t}function er(t,e,n){var A=e[0],r=e[1],i=e[2];return t[0]=A*n[0]+r*n[3]+i*n[6],t[1]=A*n[1]+r*n[4]+i*n[7],t[2]=A*n[2]+r*n[5]+i*n[8],t}function nr(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function Ar(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function rr(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function ir(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function or(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function ar(t,e){var n=e[0]-t[0],A=e[1]-t[1];return Math.hypot(n,A)}function sr(t){var e=t[0],n=t[1];return Math.hypot(e,n)}function lr(t,e){var n=e[0],A=e[1],r=n*n+A*A;return r>0&&(r=1/Math.sqrt(r)),t[0]=e[0]*r,t[1]=e[1]*r,t}function ur(t,e){var n=t[0],A=t[1],r=e[0],i=e[1],o=Math.sqrt(n*n+A*A)*Math.sqrt(r*r+i*i),a=o&&(n*r+A*i)/o;return Math.acos(Math.min(Math.max(a,-1),1))}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)}),ZA=new $A(3),$A!=Float32Array&&(ZA[0]=0,ZA[1]=0,ZA[2]=0);var cr=Ar;function hr(t,e,n){var A=[0,0,0,0,0,0,0,0,0];return function(t,e){t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1}(A,n),tr(t,A,e)}function pr(t,e,n){var A=[0,0,0,0,0,0,0,0,0];return function(t,e){var n=Math.sin(e),A=Math.cos(e);t[0]=A,t[1]=n,t[2]=0,t[3]=-n,t[4]=A,t[5]=0,t[6]=0,t[7]=0,t[8]=1}(A,n),tr(t,A,e)}function fr(t,e,n){var A=[0,0,0,0,0,0,0,0,0];return function(t,e){t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1}(A,n),tr(t,A,e)}function dr(t,e,n){return tr(t,n,e)}function gr(t,e){for(var n=t?[].concat(t):[1,0,0,0,1,0,0,0,1],A=0,r=e.length;A<r;A++){var i=e[A];switch(i[0]){case"t":hr(n,n,[i[1],i[2]]);break;case"s":fr(n,n,[i[1],i[2]]);break;case"r":pr(n,n,i[1]);break;case"m":dr(n,n,i[1])}}return n}function yr(t,e,n){var A=ur(t,e),r=function(t,e){return t[0]*e[1]-e[0]*t[1]}(t,e)>=0;return n?r?2*Math.PI-A:A:r?A:2*Math.PI-A}function vr(t,e){var n=[],A=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],h=e[0],p=e[1],f=e[2],d=e[3],g=e[4],y=e[5],v=e[6],m=e[7],B=e[8];return n[0]=h*A+p*o+f*l,n[1]=h*r+p*a+f*u,n[2]=h*i+p*s+f*c,n[3]=d*A+g*o+y*l,n[4]=d*r+g*a+y*u,n[5]=d*i+g*s+y*c,n[6]=v*A+m*o+B*l,n[7]=v*r+m*a+B*u,n[8]=v*i+m*s+B*c,n}function mr(t,e){var n=[],A=e[0],r=e[1];return n[0]=t[0]*A+t[3]*r+t[6],n[1]=t[1]*A+t[4]*r+t[7],n}function Br(t){var e=[],n=t[0],A=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],l=t[7],u=t[8],c=u*o-a*l,h=-u*i+a*s,p=l*i-o*s,f=n*c+A*h+r*p;return f?(f=1/f,e[0]=c*f,e[1]=(-u*A+r*l)*f,e[2]=(a*A-r*o)*f,e[3]=h*f,e[4]=(u*n-r*s)*f,e[5]=(-a*n+r*i)*f,e[6]=p*f,e[7]=(-l*n+A*s)*f,e[8]=(o*n-A*i)*f,e):null}!function(){var t=function(){var t=new $A(2);return $A!=Float32Array&&(t[0]=0,t[1]=0),t}()}();var xr=gr,wr="matrix",Cr=["zIndex","capture","visible","type"],Fr=["repeat"];function br(t,e){var n={},A=e.attrs;for(var r in t)n[r]=A[r];return n}var Qr=function(t){function e(e){var n=t.call(this,e)||this;n.attrs={};var A=n.getDefaultAttrs();return ze(A,e.attrs),n.attrs=A,n.initAttrs(A),n.initAnimate(),n}return Tt(e,t),e.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},e.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},e.prototype.onCanvasChange=function(t){},e.prototype.initAttrs=function(t){},e.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},e.prototype.isGroup=function(){return!1},e.prototype.getParent=function(){return this.get("parent")},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.attr=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var A=e[0],r=e[1];if(!A)return this.attrs;if(Zt(A)){for(var i in A)this.setAttr(i,A[i]);return this.afterAttrsChange(A),this}return 2===e.length?(this.setAttr(A,r),this.afterAttrsChange(((t={})[A]=r,t)),this):this.attrs[A]},e.prototype.isClipped=function(t,e){var n=this.getClip();return n&&!n.isHit(t,e)},e.prototype.setAttr=function(t,e){var n=this.attrs[t];n!==e&&(this.attrs[t]=e,this.onAttrChange(t,e,n))},e.prototype.onAttrChange=function(t,e,n){"matrix"===t&&this.set("totalMatrix",null)},e.prototype.afterAttrsChange=function(t){if(this.cfg.isClipShape){var e=this.cfg.applyTo;e&&e.onCanvasChange("clip")}else this.onCanvasChange("attr")},e.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},e.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},e.prototype.setZIndex=function(t){this.set("zIndex",t);var e=this.getParent();return e&&e.sort(),this},e.prototype.toFront=function(){var t=this.getParent();if(t){var e=t.getChildren();this.get("el");var n=e.indexOf(this);e.splice(n,1),e.push(this),this.onCanvasChange("zIndex")}},e.prototype.toBack=function(){var t=this.getParent();if(t){var e=t.getChildren();this.get("el");var n=e.indexOf(this);e.splice(n,1),e.unshift(this),this.onCanvasChange("zIndex")}},e.prototype.remove=function(t){void 0===t&&(t=!0);var e=this.getParent();e?(TA(e.getChildren(),this),e.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),t&&this.destroy()},e.prototype.resetMatrix=function(){this.attr(wr,this.getDefaultMatrix()),this.onCanvasChange("matrix")},e.prototype.getMatrix=function(){return this.attr(wr)},e.prototype.setMatrix=function(t){this.attr(wr,t),this.onCanvasChange("matrix")},e.prototype.getTotalMatrix=function(){var t=this.cfg.totalMatrix;if(!t){var e=this.attr("matrix"),n=this.cfg.parentMatrix;t=n&&e?vr(n,e):e||n,this.set("totalMatrix",t)}return t},e.prototype.applyMatrix=function(t){var e=this.attr("matrix"),n=null;n=t&&e?vr(t,e):e||t,this.set("totalMatrix",n),this.set("parentMatrix",t)},e.prototype.getDefaultMatrix=function(){return null},e.prototype.applyToMatrix=function(t){var e=this.attr("matrix");return e?mr(e,t):t},e.prototype.invertFromMatrix=function(t){var e=this.attr("matrix");if(e){var n=Br(e);if(n)return mr(n,t)}return t},e.prototype.setClip=function(t){var e=this.getCanvas(),n=null;if(t){var A=this.getShapeBase()[Pe(t.type)];A&&(n=new A({type:t.type,isClipShape:!0,applyTo:this,attrs:t.attrs,canvas:e}))}return this.set("clipShape",n),this.onCanvasChange("clip"),n},e.prototype.getClip=function(){var t=this.cfg.clipShape;return t||null},e.prototype.clone=function(){var t=this,e=this.attrs,n={};$t(e,(function(t,A){qt(e[A])?n[A]=function(t){for(var e=[],n=0;n<t.length;n++)qt(t[n])?e.push([].concat(t[n])):e.push(t[n]);return e}(e[A]):n[A]=e[A]}));var A=new(0,this.constructor)({attrs:n});return $t(Cr,(function(e){A.set(e,t.get(e))})),A},e.prototype.destroy=function(){this.destroyed||(this.attrs={},t.prototype.destroy.call(this))},e.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},e.prototype.animate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.get("timeline")||this.get("canvas")){this.set("animating",!0);var n=this.get("timeline");n||(n=this.get("canvas").get("timeline"),this.set("timeline",n));var A=this.get("animations")||[];n.timer||n.initTimer();var r,i,o,a,s,l=t[0],u=t[1],c=t[2],h=void 0===c?"easeLinear":c,p=t[3],f=void 0===p?dn:p,d=t[4],g=void 0===d?0:d;jt(l)?(r=l,l={}):Zt(l)&&l.onFrame&&(r=l.onFrame,i=l.repeat),Zt(u)?(u=(s=u).duration,h=s.easing||"easeLinear",g=s.delay||0,i=s.repeat||i||!1,f=s.callback||dn,o=s.pauseCallback||dn,a=s.resumeCallback||dn):(be(f)&&(g=f,f=null),jt(h)?(f=h,h="easeLinear"):h=h||"easeLinear");var y=function(t,e){var n={},A=e.attr();return $t(t,(function(t,e){-1!==Fr.indexOf(e)||nn(A[e],t)||(n[e]=t)})),n}(l,this),v={fromAttrs:br(y,this),toAttrs:y,duration:u,easing:h,repeat:i,callback:f,pauseCallback:o,resumeCallback:a,delay:g,startTime:n.getTime(),id:fn(),onFrame:r,pathFormatted:!1};A.length>0?A=function(t,e){if(e.onFrame)return t;var n=e.startTime,A=e.delay,r=e.duration,i=Object.prototype.hasOwnProperty;return $t(t,(function(t){n+A<t.startTime+t.delay+t.duration&&r>t.delay&&$t(e.toAttrs,(function(e,n){i.call(t.toAttrs,n)&&(delete t.toAttrs[n],delete t.fromAttrs[n])}))})),t}(A,v):n.addAnimator(this),A.push(v),this.set("animations",A),this.set("_pause",{isPaused:!1})}},e.prototype.stopAnimate=function(t){var e=this;void 0===t&&(t=!0),$t(this.get("animations"),(function(n){t&&(n.onFrame?e.attr(n.onFrame(1)):e.attr(n.toAttrs)),n.callback&&n.callback()})),this.set("animating",!1),this.set("animations",[])},e.prototype.pauseAnimate=function(){var t=this.get("timeline"),e=this.get("animations"),n=t.getTime();return $t(e,(function(t){t._paused=!0,t._pauseTime=n,t.pauseCallback&&t.pauseCallback()})),this.set("_pause",{isPaused:!0,pauseTime:n}),this},e.prototype.resumeAnimate=function(){var t=this.get("timeline").getTime(),e=this.get("animations"),n=this.get("_pause").pauseTime;return $t(e,(function(e){e.startTime=e.startTime+(t-n),e._paused=!1,e._pauseTime=null,e.resumeCallback&&e.resumeCallback()})),this.set("_pause",{isPaused:!1}),this.set("animations",e),this},e.prototype.emitDelegation=function(t,e){var n,A=this,r=e.propagationPath;this.getEvents(),"mouseenter"===t?n=e.fromShape:"mouseleave"===t&&(n=e.toShape);for(var i=function(t){var i=r[t],a=i.get("name");if(a){if((i.isGroup()||i.isCanvas&&i.isCanvas())&&n&&PA(i,n))return"break";qt(a)?$t(a,(function(t){A.emitDelegateEvent(i,t,e)})):o.emitDelegateEvent(i,a,e)}},o=this,a=0;a<r.length;a++){if("break"===i(a))break}},e.prototype.emitDelegateEvent=function(t,e,n){var A=this.getEvents(),r=e+":"+n.type;(A[r]||A["*"])&&(n.name=r,n.currentTarget=t,n.delegateTarget=this,n.delegateObject=t.get("delegateObject"),this.emit(r,n))},e.prototype.translate=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var n=this.getMatrix(),A=xr(n,[["t",t,e]]);return this.setMatrix(A),this},e.prototype.move=function(t,e){var n=this.attr("x")||0,A=this.attr("y")||0;return this.translate(t-n,e-A),this},e.prototype.moveTo=function(t,e){return this.move(t,e)},e.prototype.scale=function(t,e){var n=this.getMatrix(),A=xr(n,[["s",t,e||t]]);return this.setMatrix(A),this},e.prototype.rotate=function(t){var e=this.getMatrix(),n=xr(e,[["r",t]]);return this.setMatrix(n),this},e.prototype.rotateAtStart=function(t){var e=this.attr(),n=e.x,A=e.y,r=this.getMatrix(),i=xr(r,[["t",-n,-A],["r",t],["t",n,A]]);return this.setMatrix(i),this},e.prototype.rotateAtPoint=function(t,e,n){var A=this.getMatrix(),r=xr(A,[["t",-t,-e],["r",n],["t",t,e]]);return this.setMatrix(r),this},e}(RA),Ur={},Er="_INDEX";function Mr(t,e){if(t.set("canvas",e),t.isGroup()){var n=t.get("children");n.length&&n.forEach((function(t){Mr(t,e)}))}}function Sr(t,e){if(t.set("timeline",e),t.isGroup()){var n=t.get("children");n.length&&n.forEach((function(t){Sr(t,e)}))}}var Ir,kr,Lr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.isCanvas=function(){return!1},e.prototype.getBBox=function(){var t=1/0,e=-1/0,n=1/0,A=-1/0,r=this.getChildren().filter((function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));return r.length>0?$t(r,(function(r){var i=r.getBBox(),o=i.minX,a=i.maxX,s=i.minY,l=i.maxY;o<t&&(t=o),a>e&&(e=a),s<n&&(n=s),l>A&&(A=l)})):(t=0,e=0,n=0,A=0),{x:t,y:n,minX:t,minY:n,maxX:e,maxY:A,width:e-t,height:A-n}},e.prototype.getCanvasBBox=function(){var t=1/0,e=-1/0,n=1/0,A=-1/0,r=this.getChildren().filter((function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));return r.length>0?$t(r,(function(r){var i=r.getCanvasBBox(),o=i.minX,a=i.maxX,s=i.minY,l=i.maxY;o<t&&(t=o),a>e&&(e=a),s<n&&(n=s),l>A&&(A=l)})):(t=0,e=0,n=0,A=0),{x:t,y:n,minX:t,minY:n,maxX:e,maxY:A,width:e-t,height:A-n}},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.children=[],e},e.prototype.onAttrChange=function(e,n,A){if(t.prototype.onAttrChange.call(this,e,n,A),"matrix"===e){var r=this.getTotalMatrix();this._applyChildrenMarix(r)}},e.prototype.applyMatrix=function(e){var n=this.getTotalMatrix();t.prototype.applyMatrix.call(this,e);var A=this.getTotalMatrix();A!==n&&this._applyChildrenMarix(A)},e.prototype._applyChildrenMarix=function(t){$t(this.getChildren(),(function(e){e.applyMatrix(t)}))},e.prototype.addShape=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],A=t[1];Zt(n)?A=n:A.type=n;var r=Ur[A.type];r||(r=Pe(A.type),Ur[A.type]=r);var i=new(this.getShapeBase()[r])(A);return this.add(i),i},e.prototype.addGroup=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,A=t[0],r=t[1];if(jt(A))n=new A(r||{parent:this});else{var i=A||{};n=new(this.getGroupBase())(i)}return this.add(n),n},e.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},e.prototype.getShape=function(t,e,n){if(!OA(this))return null;var A,r=this.getChildren();if(this.isCanvas())A=this._findShape(r,t,e,n);else{var i=[t,e,1];i=this.invertFromMatrix(i),this.isClipped(i[0],i[1])||(A=this._findShape(r,i[0],i[1],n))}return A},e.prototype._findShape=function(t,e,n,A){for(var r=null,i=t.length-1;i>=0;i--){var o=t[i];if(OA(o)&&(o.isGroup()?r=o.getShape(e,n,A):o.isHit(e,n)&&(r=o)),r)break}return r},e.prototype.add=function(t){var e=this.getCanvas(),n=this.getChildren(),A=this.get("timeline"),r=t.getParent();r&&function(t,e,n){void 0===n&&(n=!0),n?e.destroy():(e.set("parent",null),e.set("canvas",null)),TA(t.getChildren(),e)}(r,t,!1),t.set("parent",this),e&&Mr(t,e),A&&Sr(t,A),n.push(t),t.onCanvasChange("add"),this._applyElementMatrix(t)},e.prototype._applyElementMatrix=function(t){var e=this.getTotalMatrix();e&&t.applyMatrix(e)},e.prototype.getChildren=function(){return this.get("children")||[]},e.prototype.sort=function(){var t,e=this.getChildren();$t(e,(function(t,e){return t[Er]=e,t})),e.sort((t=function(t,e){return t.get("zIndex")-e.get("zIndex")},function(e,n){var A=t(e,n);return 0===A?e[Er]-n[Er]:A})),this.onCanvasChange("sort")},e.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var t=this.getChildren(),e=t.length-1;e>=0;e--)t[e].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},e.prototype.destroy=function(){this.get("destroyed")||(this.clear(),t.prototype.destroy.call(this))},e.prototype.getFirst=function(){return this.getChildByIndex(0)},e.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},e.prototype.getChildByIndex=function(t){return this.getChildren()[t]},e.prototype.getCount=function(){return this.getChildren().length},e.prototype.contain=function(t){return this.getChildren().indexOf(t)>-1},e.prototype.removeChild=function(t,e){void 0===e&&(e=!0),this.contain(t)&&t.remove(e)},e.prototype.findAll=function(t){var e=[];return $t(this.getChildren(),(function(n){t(n)&&e.push(n),n.isGroup()&&(e=e.concat(n.findAll(t)))})),e},e.prototype.find=function(t){var e=null;return $t(this.getChildren(),(function(n){if(t(n)?e=n:n.isGroup()&&(e=n.find(t)),e)return!1})),e},e.prototype.findById=function(t){return this.find((function(e){return e.get("id")===t}))},e.prototype.findByClassName=function(t){return this.find((function(e){return e.get("className")===t}))},e.prototype.findAllByName=function(t){return this.findAll((function(e){return e.get("name")===t}))},e}(Qr),Hr=0,Tr=0,Dr=0,Pr=1e3,Or=0,Rr=0,Kr=0,Vr="object"==typeof performance&&performance.now?performance:Date,Gr="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Nr(){return Rr||(Gr(_r),Rr=Vr.now()+Kr)}function _r(){Rr=0}function Xr(){this._call=this._time=this._next=null}function Yr(t,e,n){var A=new Xr;return A.restart(t,e,n),A}function zr(){Rr=(Or=Vr.now())+Kr,Hr=Tr=0;try{!function(){Nr(),++Hr;for(var t,e=Ir;e;)(t=Rr-e._time)>=0&&e._call.call(null,t),e=e._next;--Hr}()}finally{Hr=0,function(){var t,e,n=Ir,A=1/0;for(;n;)n._call?(A>n._time&&(A=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Ir=e);kr=t,jr(A)}(),Rr=0}}function Wr(){var t=Vr.now(),e=t-Or;e>Pr&&(Kr-=e,Or=t)}function jr(t){Hr||(Tr&&(Tr=clearTimeout(Tr)),t-Rr>24?(t<1/0&&(Tr=setTimeout(zr,t-Vr.now()-Kr)),Dr&&(Dr=clearInterval(Dr))):(Dr||(Or=Vr.now(),Dr=setInterval(Wr,Pr)),Hr=1,Gr(zr)))}function Jr(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function qr(t,e){var n=Object.create(t.prototype);for(var A in e)n[A]=e[A];return n}function Zr(){}Xr.prototype=Yr.prototype={constructor:Xr,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Nr():+n)+(null==e?0:+e),this._next||kr===this||(kr?kr._next=this:Ir=this,kr=this),this._call=t,this._time=n,jr()},stop:function(){this._call&&(this._call=null,this._time=1/0,jr())}};var $r=.7,ti=1/$r,ei="\\s*([+-]?\\d+)\\s*",ni="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ai="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ri=/^#([0-9a-f]{3,8})$/,ii=new RegExp(`^rgb\\(${ei},${ei},${ei}\\)$`),oi=new RegExp(`^rgb\\(${Ai},${Ai},${Ai}\\)$`),ai=new RegExp(`^rgba\\(${ei},${ei},${ei},${ni}\\)$`),si=new RegExp(`^rgba\\(${Ai},${Ai},${Ai},${ni}\\)$`),li=new RegExp(`^hsl\\(${ni},${Ai},${Ai}\\)$`),ui=new RegExp(`^hsla\\(${ni},${Ai},${Ai},${ni}\\)$`),ci={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function hi(){return this.rgb().formatHex()}function pi(){return this.rgb().formatRgb()}function fi(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ri.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?di(e):3===n?new vi(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?gi(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?gi(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=ii.exec(t))?new vi(e[1],e[2],e[3],1):(e=oi.exec(t))?new vi(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=ai.exec(t))?gi(e[1],e[2],e[3],e[4]):(e=si.exec(t))?gi(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=li.exec(t))?Fi(e[1],e[2]/100,e[3]/100,1):(e=ui.exec(t))?Fi(e[1],e[2]/100,e[3]/100,e[4]):ci.hasOwnProperty(t)?di(ci[t]):"transparent"===t?new vi(NaN,NaN,NaN,0):null}function di(t){return new vi(t>>16&255,t>>8&255,255&t,1)}function gi(t,e,n,A){return A<=0&&(t=e=n=NaN),new vi(t,e,n,A)}function yi(t,e,n,A){return 1===arguments.length?((r=t)instanceof Zr||(r=fi(r)),r?new vi((r=r.rgb()).r,r.g,r.b,r.opacity):new vi):new vi(t,e,n,null==A?1:A);var r}function vi(t,e,n,A){this.r=+t,this.g=+e,this.b=+n,this.opacity=+A}function mi(){return`#${Ci(this.r)}${Ci(this.g)}${Ci(this.b)}`}function Bi(){const t=xi(this.opacity);return`${1===t?"rgb(":"rgba("}${wi(this.r)}, ${wi(this.g)}, ${wi(this.b)}${1===t?")":`, ${t})`}`}function xi(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function wi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ci(t){return((t=wi(t))<16?"0":"")+t.toString(16)}function Fi(t,e,n,A){return A<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Qi(t,e,n,A)}function bi(t){if(t instanceof Qi)return new Qi(t.h,t.s,t.l,t.opacity);if(t instanceof Zr||(t=fi(t)),!t)return new Qi;if(t instanceof Qi)return t;var e=(t=t.rgb()).r/255,n=t.g/255,A=t.b/255,r=Math.min(e,n,A),i=Math.max(e,n,A),o=NaN,a=i-r,s=(i+r)/2;return a?(o=e===i?(n-A)/a+6*(n<A):n===i?(A-e)/a+2:(e-n)/a+4,a/=s<.5?i+r:2-i-r,o*=60):a=s>0&&s<1?0:o,new Qi(o,a,s,t.opacity)}function Qi(t,e,n,A){this.h=+t,this.s=+e,this.l=+n,this.opacity=+A}function Ui(t){return(t=(t||0)%360)<0?t+360:t}function Ei(t){return Math.max(0,Math.min(1,t||0))}function Mi(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Jr(Zr,fi,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:hi,formatHex:hi,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return bi(this).formatHsl()},formatRgb:pi,toString:pi}),Jr(vi,yi,qr(Zr,{brighter(t){return t=null==t?ti:Math.pow(ti,t),new vi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?$r:Math.pow($r,t),new vi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new vi(wi(this.r),wi(this.g),wi(this.b),xi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mi,formatHex:mi,formatHex8:function(){return`#${Ci(this.r)}${Ci(this.g)}${Ci(this.b)}${Ci(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Bi,toString:Bi})),Jr(Qi,(function(t,e,n,A){return 1===arguments.length?bi(t):new Qi(t,e,n,null==A?1:A)}),qr(Zr,{brighter(t){return t=null==t?ti:Math.pow(ti,t),new Qi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?$r:Math.pow($r,t),new Qi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,A=n+(n<.5?n:1-n)*e,r=2*n-A;return new vi(Mi(t>=240?t-240:t+120,r,A),Mi(t,r,A),Mi(t<120?t+240:t-120,r,A),this.opacity)},clamp(){return new Qi(Ui(this.h),Ei(this.s),Ei(this.l),xi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=xi(this.opacity);return`${1===t?"hsl(":"hsla("}${Ui(this.h)}, ${100*Ei(this.s)}%, ${100*Ei(this.l)}%${1===t?")":`, ${t})`}`}}));const Si=t=>()=>t;function Ii(t){return 1==(t=+t)?ki:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(A){return Math.pow(t+A*e,n)}}(e,n,t):Si(isNaN(e)?n:e)}}function ki(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):Si(isNaN(t)?e:t)}const Li=function t(e){var n=Ii(e);function A(t,e){var A=n((t=yi(t)).r,(e=yi(e)).r),r=n(t.g,e.g),i=n(t.b,e.b),o=ki(t.opacity,e.opacity);return function(e){return t.r=A(e),t.g=r(e),t.b=i(e),t.opacity=o(e),t+""}}return A.gamma=t,A}(1);function Hi(t,e){e||(e=[]);var n,A=t?Math.min(e.length,t.length):0,r=e.slice();return function(i){for(n=0;n<A;++n)r[n]=t[n]*(1-i)+e[n]*i;return r}}function Ti(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Di(t,e){var n,A=e?e.length:0,r=t?Math.min(A,t.length):0,i=new Array(r),o=new Array(A);for(n=0;n<r;++n)i[n]=Ni(t[n],e[n]);for(;n<A;++n)o[n]=e[n];return function(t){for(n=0;n<r;++n)o[n]=i[n](t);return o}}function Pi(t,e){var n=new Date;return t=+t,e=+e,function(A){return n.setTime(t*(1-A)+e*A),n}}function Oi(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Ri(t,e){var n,A={},r={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?A[n]=Ni(t[n],e[n]):r[n]=e[n];return function(t){for(n in A)r[n]=A[n](t);return r}}var Ki=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Vi=new RegExp(Ki.source,"g");function Gi(t,e){var n,A,r,i=Ki.lastIndex=Vi.lastIndex=0,o=-1,a=[],s=[];for(t+="",e+="";(n=Ki.exec(t))&&(A=Vi.exec(e));)(r=A.index)>i&&(r=e.slice(i,r),a[o]?a[o]+=r:a[++o]=r),(n=n[0])===(A=A[0])?a[o]?a[o]+=A:a[++o]=A:(a[++o]=null,s.push({i:o,x:Oi(n,A)})),i=Vi.lastIndex;return i<e.length&&(r=e.slice(i),a[o]?a[o]+=r:a[++o]=r),a.length<2?s[0]?function(t){return function(e){return t(e)+""}}(s[0].x):function(t){return function(){return t}}(e):(e=s.length,function(t){for(var n,A=0;A<e;++A)a[(n=s[A]).i]=n.x(t);return a.join("")})}function Ni(t,e){var n,A=typeof e;return null==e||"boolean"===A?Si(e):("number"===A?Oi:"string"===A?(n=fi(e))?(e=n,Li):Gi:e instanceof fi?Li:e instanceof Date?Pi:Ti(e)?Hi:Array.isArray(e)?Di:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Ri:Oi)(t,e)}function _i(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function Xi(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Yi=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),zi=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),Wi=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),ji=Math.PI,Ji=ji/2;function qi(t){return(1-Math.cos(ji*t))/2}function Zi(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function $i(t){return((t*=2)<=1?Zi(1-t):2-Zi(t-1))/2}function to(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var eo=4/11,no=6/11,Ao=8/11,ro=3/4,io=9/11,oo=10/11,ao=15/16,so=21/22,lo=63/64,uo=1/eo/eo;function co(t){return(t=+t)<eo?uo*t*t:t<Ao?uo*(t-=no)*t+ro:t<oo?uo*(t-=io)*t+ao:uo*(t-=so)*t+lo}var ho=1.70158,po=function t(e){function n(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,n.overshoot=t,n}(ho),fo=function t(e){function n(t){return--t*t*((t+1)*e+t)+1}return e=+e,n.overshoot=t,n}(ho),go=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(ho),yo=2*Math.PI,vo=function t(e,n){var A=Math.asin(1/(e=Math.max(1,e)))*(n/=yo);function r(t){return e*Zi(- --t)*Math.sin((A-t)/n)}return r.amplitude=function(e){return t(e,n*yo)},r.period=function(n){return t(e,n)},r}(1,.3),mo=function t(e,n){var A=Math.asin(1/(e=Math.max(1,e)))*(n/=yo);function r(t){return 1-e*Zi(t=+t)*Math.sin((t+A)/n)}return r.amplitude=function(e){return t(e,n*yo)},r.period=function(n){return t(e,n)},r}(1,.3),Bo=function t(e,n){var A=Math.asin(1/(e=Math.max(1,e)))*(n/=yo);function r(t){return((t=2*t-1)<0?e*Zi(-t)*Math.sin((A-t)/n):2-e*Zi(t)*Math.sin((A+t)/n))/2}return r.amplitude=function(e){return t(e,n*yo)},r.period=function(n){return t(e,n)},r}(1,.3);const xo=Object.freeze(Object.defineProperty({__proto__:null,easeBack:go,easeBackIn:po,easeBackInOut:go,easeBackOut:fo,easeBounce:co,easeBounceIn:function(t){return 1-co(1-t)},easeBounceInOut:function(t){return((t*=2)<=1?1-co(1-t):co(t-1)+1)/2},easeBounceOut:co,easeCircle:to,easeCircleIn:function(t){return 1-Math.sqrt(1-t*t)},easeCircleInOut:to,easeCircleOut:function(t){return Math.sqrt(1- --t*t)},easeCubic:Xi,easeCubicIn:function(t){return t*t*t},easeCubicInOut:Xi,easeCubicOut:function(t){return--t*t*t+1},easeElastic:mo,easeElasticIn:vo,easeElasticInOut:Bo,easeElasticOut:mo,easeExp:$i,easeExpIn:function(t){return Zi(1-+t)},easeExpInOut:$i,easeExpOut:function(t){return 1-Zi(t)},easeLinear:function(t){return+t},easePoly:Wi,easePolyIn:Yi,easePolyInOut:Wi,easePolyOut:zi,easeQuad:_i,easeQuadIn:function(t){return t*t},easeQuadInOut:_i,easeQuadOut:function(t){return t*(2-t)},easeSin:qi,easeSinIn:function(t){return 1==+t?1:1-Math.cos(t*Ji)},easeSinInOut:qi,easeSinOut:function(t){return Math.sin(t*Ji)}},Symbol.toStringTag,{value:"Module"}));var wo={};function Co(t,e){wo[t.toLowerCase()]=e}var Fo=function(t){return["fill","stroke","fillStyle","strokeStyle"].includes(t)},bo=function(t){return/^[r,R,L,l]{1}[\s]*\(/.test(t)},Qo=[1,0,0,0,1,0,0,0,1];function Uo(t,e,n){var A,r=e.startTime;if(n<r+e.delay||e._paused)return!1;var i,o=e.duration,a=e.easing,s=wo[(i=a).toLowerCase()]||xo[i];if(n=n-r-e.delay,e.repeat)A=s(A=n%o/o);else{if(!((A=n/o)<1))return e.onFrame?t.attr(e.onFrame(1)):t.attr(e.toAttrs),!0;A=s(A)}if(e.onFrame){var l=e.onFrame(A);t.attr(l)}else!function(t,e,n){var A={},r=e.fromAttrs,i=e.toAttrs;if(!t.destroyed){var o,a,s;for(var l in i)if(!nn(r[l],i[l]))if("path"===l){var u=i[l],c=r[l];u.length>c.length?(u=iA(i[l]),c=iA(r[l]),c=MA(c,u),c=kA(c,u),e.fromAttrs.path=c,e.toAttrs.path=u):e.pathFormatted||(u=iA(i[l]),c=iA(r[l]),c=kA(c,u),e.fromAttrs.path=c,e.toAttrs.path=u,e.pathFormatted=!0),A[l]=[];for(var h=0;h<u.length;h++){for(var p=u[h],f=c[h],d=[],g=0;g<p.length;g++)be(p[g])&&f&&be(f[g])?(o=Ni(f[g],p[g]),d.push(o(n))):d.push(p[g]);A[l].push(d)}}else if("matrix"===l){var y=(a=r[l]||Qo,(Ti(s=i[l]||Qo)?Hi:Di)(a,s))(n);A[l]=y}else Fo(l)&&bo(i[l])?A[l]=i[l]:jt(i[l])||(o=Ni(r[l],i[l]),A[l]=o(n));t.attr(A)}}(t,e,A);return!1}var Eo=function(){function t(t){this.animators=[],this.current=0,this.timer=null,this.canvas=t}return t.prototype.initTimer=function(){var t,e,n,A=this;this.timer=Yr((function(r){if(A.current=r,A.animators.length>0){for(var i=A.animators.length-1;i>=0;i--)if((t=A.animators[i]).destroyed)A.removeAnimator(i);else{if(!t.isAnimatePaused())for(var o=(e=t.get("animations")).length-1;o>=0;o--)n=e[o],Uo(t,n,r)&&(e.splice(o,1),n.callback&&n.callback());0===e.length&&A.removeAnimator(i)}A.canvas.get("autoDraw")||A.canvas.draw()}}))},t.prototype.addAnimator=function(t){this.animators.push(t)},t.prototype.removeAnimator=function(t){this.animators.splice(t,1)},t.prototype.isAnimating=function(){return!!this.animators.length},t.prototype.stop=function(){this.timer&&this.timer.stop()},t.prototype.stopAllAnimations=function(t){void 0===t&&(t=!0),this.animators.forEach((function(e){e.stopAnimate(t)})),this.animators=[],this.canvas.draw()},t.prototype.getTime=function(){return this.current},t}(),Mo=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function So(t,e,n){n.name=e,n.target=t,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}function Io(t,e,n){if(n.bubbles){var A=void 0,r=!1;if("mouseenter"===e?(A=n.fromShape,r=!0):"mouseleave"===e&&(r=!0,A=n.toShape),t.isCanvas()&&r)return;if(A&&PA(t,A))return void(n.bubbles=!1);n.name=e,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}}var ko=function(){function t(t){var e=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(t){var n=t.type;e._triggerEvent(n,t)},this._onDocumentMove=function(t){if(e.canvas.get("el")!==t.target&&(e.dragging||e.currentShape)){var n=e._getPointInfo(t);e.dragging&&e._emitEvent("drag",t,n,e.draggingShape)}},this._onDocumentMouseUp=function(t){if(e.canvas.get("el")!==t.target&&e.dragging){var n=e._getPointInfo(t);e.draggingShape&&e._emitEvent("drop",t,n,null),e._emitEvent("dragend",t,n,e.draggingShape),e._afterDrag(e.draggingShape,n,t)}},this.canvas=t.canvas}return t.prototype.init=function(){this._bindEvents()},t.prototype._bindEvents=function(){var t=this,e=this.canvas.get("el");$t(Mo,(function(n){e.addEventListener(n,t._eventCallback)})),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._clearEvents=function(){var t=this,e=this.canvas.get("el");$t(Mo,(function(n){e.removeEventListener(n,t._eventCallback)})),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._getEventObj=function(t,e,n,A,r,i){var o=new HA(t,e);return o.fromShape=r,o.toShape=i,o.x=n.x,o.y=n.y,o.clientX=n.clientX,o.clientY=n.clientY,o.propagationPath.push(A),o},t.prototype._getShape=function(t,e){return this.canvas.getShape(t.x,t.y,e)},t.prototype._getPointInfo=function(t){var e=this.canvas,n=e.getClientByEvent(t),A=e.getPointByEvent(t);return{x:A.x,y:A.y,clientX:n.x,clientY:n.y}},t.prototype._triggerEvent=function(t,e){var n=this._getPointInfo(e),A=this._getShape(n,e),r=this["_on"+t],i=!1;if(r)r.call(this,n,A,e);else{var o=this.currentShape;"mouseenter"===t||"dragenter"===t||"mouseover"===t?(this._emitEvent(t,e,n,null,null,A),A&&this._emitEvent(t,e,n,A,null,A),"mouseenter"===t&&this.draggingShape&&this._emitEvent("dragenter",e,n,null)):"mouseleave"===t||"dragleave"===t||"mouseout"===t?(i=!0,o&&this._emitEvent(t,e,n,o,o,null),this._emitEvent(t,e,n,null,o,null),"mouseleave"===t&&this.draggingShape&&this._emitEvent("dragleave",e,n,null)):this._emitEvent(t,e,n,A,null,null)}if(i||(this.currentShape=A),A&&!A.get("destroyed")){var a=this.canvas;a.get("el").style.cursor=A.attr("cursor")||a.get("cursor")}},t.prototype._onmousedown=function(t,e,n){0===n.button&&(this.mousedownShape=e,this.mousedownPoint=t,this.mousedownTimeStamp=n.timeStamp),this._emitEvent("mousedown",n,t,e,null,null)},t.prototype._emitMouseoverEvents=function(t,e,n,A){var r=this.canvas.get("el");n!==A&&(n&&(this._emitEvent("mouseout",t,e,n,n,A),this._emitEvent("mouseleave",t,e,n,n,A),A&&!A.get("destroyed")||(r.style.cursor=this.canvas.get("cursor"))),A&&(this._emitEvent("mouseover",t,e,A,n,A),this._emitEvent("mouseenter",t,e,A,n,A)))},t.prototype._emitDragoverEvents=function(t,e,n,A,r){A?(A!==n&&(n&&this._emitEvent("dragleave",t,e,n,n,A),this._emitEvent("dragenter",t,e,A,n,A)),r||this._emitEvent("dragover",t,e,A)):n&&this._emitEvent("dragleave",t,e,n,n,A),r&&this._emitEvent("dragover",t,e,A)},t.prototype._afterDrag=function(t,e,n){t&&(t.set("capture",!0),this.draggingShape=null),this.dragging=!1;var A=this._getShape(e,n);A!==t&&this._emitMouseoverEvents(n,e,t,A),this.currentShape=A},t.prototype._onmouseup=function(t,e,n){if(0===n.button){var A=this.draggingShape;this.dragging?(A&&this._emitEvent("drop",n,t,e),this._emitEvent("dragend",n,t,A),this._afterDrag(A,t,n)):(this._emitEvent("mouseup",n,t,e),e===this.mousedownShape&&this._emitEvent("click",n,t,e),this.mousedownShape=null,this.mousedownPoint=null)}},t.prototype._ondragover=function(t,e,n){n.preventDefault();var A=this.currentShape;this._emitDragoverEvents(n,t,A,e,!0)},t.prototype._onmousemove=function(t,e,n){var A=this.canvas,r=this.currentShape,i=this.draggingShape;if(this.dragging)i&&this._emitDragoverEvents(n,t,r,e,!1),this._emitEvent("drag",n,t,i);else{var o=this.mousedownPoint;if(o){var a=this.mousedownShape,s=n.timeStamp-this.mousedownTimeStamp,l=o.clientX-t.clientX,u=o.clientY-t.clientY;s>120||l*l+u*u>40?a&&a.get("draggable")?((i=this.mousedownShape).set("capture",!1),this.draggingShape=i,this.dragging=!0,this._emitEvent("dragstart",n,t,i),this.mousedownShape=null,this.mousedownPoint=null):!a&&A.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,t,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,t,r,e),this._emitEvent("mousemove",n,t,e)):(this._emitMouseoverEvents(n,t,r,e),this._emitEvent("mousemove",n,t,e))}else this._emitMouseoverEvents(n,t,r,e),this._emitEvent("mousemove",n,t,e)}},t.prototype._emitEvent=function(t,e,n,A,r,i){var o=this._getEventObj(t,e,n,A,r,i);if(A){o.shape=A,So(A,t,o);for(var a=A.getParent();a;)a.emitDelegation(t,o),o.propagationStopped||Io(a,t,o),o.propagationPath.push(a),a=a.getParent()}else{So(this.canvas,t,o)}},t.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},t}(),Lo=JA(),Ho=Lo&&"firefox"===Lo.name,To=function(t){function e(e){var n=t.call(this,e)||this;return n.initContainer(),n.initDom(),n.initEvents(),n.initTimeline(),n}return Tt(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.cursor="default",e.supportCSSTransform=!1,e},e.prototype.initContainer=function(){var t=this.get("container");pe(t)&&(t=document.getElementById(t),this.set("container",t))},e.prototype.initDom=function(){var t=this.createDom();this.set("el",t),this.get("container").appendChild(t),this.setDOMSize(this.get("width"),this.get("height"))},e.prototype.initEvents=function(){var t=new ko({canvas:this});t.init(),this.set("eventController",t)},e.prototype.initTimeline=function(){var t=new Eo(this);this.set("timeline",t)},e.prototype.setDOMSize=function(t,e){var n=this.get("el");DA&&(n.style.width=t+"px",n.style.height=e+"px")},e.prototype.changeSize=function(t,e){this.setDOMSize(t,e),this.set("width",t),this.set("height",e),this.onCanvasChange("changeSize")},e.prototype.getRenderer=function(){return this.get("renderer")},e.prototype.getCursor=function(){return this.get("cursor")},e.prototype.setCursor=function(t){this.set("cursor",t);var e=this.get("el");DA&&e&&(e.style.cursor=t)},e.prototype.getPointByEvent=function(t){if(this.get("supportCSSTransform")){if(Ho&&!Jt(t.layerX)&&t.layerX!==t.offsetX)return{x:t.layerX,y:t.layerY};if(!Jt(t.offsetX))return{x:t.offsetX,y:t.offsetY}}var e=this.getClientByEvent(t),n=e.x,A=e.y;return this.getPointByClient(n,A)},e.prototype.getClientByEvent=function(t){var e=t;return t.touches&&(e="touchend"===t.type?t.changedTouches[0]:t.touches[0]),{x:e.clientX,y:e.clientY}},e.prototype.getPointByClient=function(t,e){var n=this.get("el").getBoundingClientRect();return{x:t-n.left,y:e-n.top}},e.prototype.getClientByPoint=function(t,e){var n=this.get("el").getBoundingClientRect();return{x:t+n.left,y:e+n.top}},e.prototype.draw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.parentNode.removeChild(t)},e.prototype.clearEvents=function(){this.get("eventController").destroy()},e.prototype.isCanvas=function(){return!0},e.prototype.getParent=function(){return null},e.prototype.destroy=function(){var e=this.get("timeline");this.get("destroyed")||(this.clear(),e&&e.stop(),this.clearEvents(),this.removeDom(),t.prototype.destroy.call(this))},e}(Lr),Do=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.isGroup=function(){return!0},e.prototype.isEntityGroup=function(){return!1},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=this.getChildren(),A=0;A<n.length;A++){var r=n[A];e.add(r.clone())}return e},e}(Lr),Po=function(t){function e(e){return t.call(this,e)||this}return Tt(e,t),e.prototype._isInBBox=function(t,e){var n=this.getBBox();return n.minX<=t&&n.maxX>=t&&n.minY<=e&&n.maxY>=e},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e),this.clearCacheBBox()},e.prototype.getBBox=function(){var t=this.cfg.bbox;return t||(t=this.calculateBBox(),this.set("bbox",t)),t},e.prototype.getCanvasBBox=function(){var t=this.cfg.canvasBBox;return t||(t=this.calculateCanvasBBox(),this.set("canvasBBox",t)),t},e.prototype.applyMatrix=function(e){t.prototype.applyMatrix.call(this,e),this.set("canvasBBox",null)},e.prototype.calculateCanvasBBox=function(){var t=this.getBBox(),e=this.getTotalMatrix(),n=t.minX,A=t.minY,r=t.maxX,i=t.maxY;if(e){var o=mr(e,[t.minX,t.minY]),a=mr(e,[t.maxX,t.minY]),s=mr(e,[t.minX,t.maxY]),l=mr(e,[t.maxX,t.maxY]);n=Math.min(o[0],a[0],s[0],l[0]),r=Math.max(o[0],a[0],s[0],l[0]),A=Math.min(o[1],a[1],s[1],l[1]),i=Math.max(o[1],a[1],s[1],l[1])}var u=this.attrs;if(u.shadowColor){var c=u.shadowBlur,h=void 0===c?0:c,p=u.shadowOffsetX,f=void 0===p?0:p,d=u.shadowOffsetY,g=void 0===d?0:d,y=n-h+f,v=r+h+f,m=A-h+g,B=i+h+g;n=Math.min(n,y),r=Math.max(r,v),A=Math.min(A,m),i=Math.max(i,B)}return{x:n,y:A,minX:n,minY:A,maxX:r,maxY:i,width:r-n,height:i-A}},e.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},e.prototype.isClipShape=function(){return this.get("isClipShape")},e.prototype.isInShape=function(t,e){return!1},e.prototype.isOnlyHitBox=function(){return!1},e.prototype.isHit=function(t,e){var n=this.get("startArrowShape"),A=this.get("endArrowShape"),r=[t,e,1],i=(r=this.invertFromMatrix(r))[0],o=r[1],a=this._isInBBox(i,o);if(this.isOnlyHitBox())return a;if(a&&!this.isClipped(i,o)){if(this.isInShape(i,o))return!0;if(n&&n.isHit(i,o))return!0;if(A&&A.isHit(i,o))return!0}return!1},e}(Qr),Oo=new Map;function Ro(t,e){Oo.set(t,e)}function Ko(t){return Oo.get(t)}function Vo(t){var e=t.attr();return{x:e.x,y:e.y,width:e.width,height:e.height}}function Go(t){var e=t.attr(),n=e.x,A=e.y,r=e.r;return{x:n-r,y:A-r,width:2*r,height:2*r}}function No(t,e,n,A){var r=t-n,i=e-A;return Math.sqrt(r*r+i*i)}function _o(t,e){return Math.abs(t-e)<.001}function Xo(t,e){var n=se(t),A=se(e);return{x:n,y:A,width:ae(t)-n,height:ae(e)-A}}function Yo(t){return(t+2*Math.PI)%(2*Math.PI)}const zo={box:function(t,e,n,A){return Xo([t,n],[e,A])},length:function(t,e,n,A){return No(t,e,n,A)},pointAt:function(t,e,n,A,r){return{x:(1-r)*t+r*n,y:(1-r)*e+r*A}},pointDistance:function(t,e,n,A,r,i){var o=(n-t)*(r-t)+(A-e)*(i-e);return o<0?No(t,e,r,i):o>(n-t)*(n-t)+(A-e)*(A-e)?No(n,A,r,i):this.pointToLine(t,e,n,A,r,i)},pointToLine:function(t,e,n,A,r,i){var o=[n-t,A-e];if(function(t,e){return t[0]===e[0]&&t[1]===e[1]}(o,[0,0]))return Math.sqrt((r-t)*(r-t)+(i-e)*(i-e));var a=[-o[1],o[0]];lr(a,a);var s=[r-t,i-e];return Math.abs(function(t,e){return t[0]*e[0]+t[1]*e[1]}(s,a))},tangentAngle:function(t,e,n,A){return Math.atan2(A-e,n-t)}};function Wo(t,e,n,A,r,i){var o,a=1/0,s=[n,A],l=20;i&&i>200&&(l=i/10);for(var u=1/l,c=u/10,h=0;h<=l;h++){var p=h*u,f=[r.apply(null,t.concat([p])),r.apply(null,e.concat([p]))];(v=No(s[0],s[1],f[0],f[1]))<a&&(o=p,a=v)}if(0===o)return{x:t[0],y:e[0]};if(1===o){var d=t.length;return{x:t[d-1],y:e[d-1]}}a=1/0;for(h=0;h<32&&!(c<1e-4);h++){var g=o-c,y=o+c,v=(f=[r.apply(null,t.concat([g])),r.apply(null,e.concat([g]))],No(s[0],s[1],f[0],f[1]));if(g>=0&&v<a)o=g,a=v;else{var m=[r.apply(null,t.concat([y])),r.apply(null,e.concat([y]))],B=No(s[0],s[1],m[0],m[1]);y<=1&&B<a?(o=y,a=B):c*=.5}}return{x:r.apply(null,t.concat([o])),y:r.apply(null,e.concat([o]))}}function jo(t,e,n,A){var r=1-A;return r*r*t+2*A*r*e+A*A*n}function Jo(t,e,n){var A=t+n-2*e;if(_o(A,0))return[.5];var r=(t-e)/A;return r<=1&&r>=0?[r]:[]}function qo(t,e,n,A){return 2*(1-A)*(e-t)+2*A*(n-e)}function Zo(t,e,n,A,r,i,o){var a=jo(t,n,r,o),s=jo(e,A,i,o),l=zo.pointAt(t,e,n,A,o),u=zo.pointAt(n,A,r,i,o);return[[t,e,l.x,l.y,a,s],[a,s,u.x,u.y,r,i]]}function $o(t,e,n,A,r,i,o){if(0===o)return(No(t,e,n,A)+No(n,A,r,i)+No(t,e,r,i))/2;var a=Zo(t,e,n,A,r,i,.5),s=a[0],l=a[1];return s.push(o-1),l.push(o-1),$o.apply(null,s)+$o.apply(null,l)}const ta={box:function(t,e,n,A,r,i){var o=Jo(t,n,r)[0],a=Jo(e,A,i)[0],s=[t,r],l=[e,i];return void 0!==o&&s.push(jo(t,n,r,o)),void 0!==a&&l.push(jo(e,A,i,a)),Xo(s,l)},length:function(t,e,n,A,r,i){return $o(t,e,n,A,r,i,3)},nearestPoint:function(t,e,n,A,r,i,o,a){return Wo([t,n,r],[e,A,i],o,a,jo)},pointDistance:function(t,e,n,A,r,i,o,a){var s=this.nearestPoint(t,e,n,A,r,i,o,a);return No(s.x,s.y,o,a)},interpolationAt:jo,pointAt:function(t,e,n,A,r,i,o){return{x:jo(t,n,r,o),y:jo(e,A,i,o)}},divide:function(t,e,n,A,r,i,o){return Zo(t,e,n,A,r,i,o)},tangentAngle:function(t,e,n,A,r,i,o){var a=qo(t,n,r,o),s=qo(e,A,i,o);return Yo(Math.atan2(s,a))}};function ea(t,e,n,A,r){var i=1-r;return i*i*i*t+3*e*r*i*i+3*n*r*r*i+A*r*r*r}function na(t,e,n,A,r){var i=1-r;return 3*(i*i*(e-t)+2*i*r*(n-e)+r*r*(A-n))}function Aa(t,e,n,A){var r,i,o,a=-3*t+9*e-9*n+3*A,s=6*t-12*e+6*n,l=3*e-3*t,u=[];if(_o(a,0))_o(s,0)||(r=-l/s)>=0&&r<=1&&u.push(r);else{var c=s*s-4*a*l;_o(c,0)?u.push(-s/(2*a)):c>0&&(i=(-s-(o=Math.sqrt(c)))/(2*a),(r=(-s+o)/(2*a))>=0&&r<=1&&u.push(r),i>=0&&i<=1&&u.push(i))}return u}function ra(t,e,n,A,r,i,o,a,s){var l=ea(t,n,r,o,s),u=ea(e,A,i,a,s),c=zo.pointAt(t,e,n,A,s),h=zo.pointAt(n,A,r,i,s),p=zo.pointAt(r,i,o,a,s),f=zo.pointAt(c.x,c.y,h.x,h.y,s),d=zo.pointAt(h.x,h.y,p.x,p.y,s);return[[t,e,c.x,c.y,f.x,f.y,l,u],[l,u,d.x,d.y,p.x,p.y,o,a]]}function ia(t,e,n,A,r,i,o,a,s){if(0===s)return function(t,e){for(var n=0,A=t.length,r=0;r<A;r++)n+=No(t[r],e[r],t[(r+1)%A],e[(r+1)%A]);return n/2}([t,n,r,o],[e,A,i,a]);var l=ra(t,e,n,A,r,i,o,a,.5),u=l[0],c=l[1];return u.push(s-1),c.push(s-1),ia.apply(null,u)+ia.apply(null,c)}const oa={extrema:Aa,box:function(t,e,n,A,r,i,o,a){for(var s=[t,o],l=[e,a],u=Aa(t,n,r,o),c=Aa(e,A,i,a),h=0;h<u.length;h++)s.push(ea(t,n,r,o,u[h]));for(h=0;h<c.length;h++)l.push(ea(e,A,i,a,c[h]));return Xo(s,l)},length:function(t,e,n,A,r,i,o,a){return ia(t,e,n,A,r,i,o,a,3)},nearestPoint:function(t,e,n,A,r,i,o,a,s,l,u){return Wo([t,n,r,o],[e,A,i,a],s,l,ea,u)},pointDistance:function(t,e,n,A,r,i,o,a,s,l,u){var c=this.nearestPoint(t,e,n,A,r,i,o,a,s,l,u);return No(c.x,c.y,s,l)},interpolationAt:ea,pointAt:function(t,e,n,A,r,i,o,a,s){return{x:ea(t,n,r,o,s),y:ea(e,A,i,a,s)}},divide:function(t,e,n,A,r,i,o,a,s){return ra(t,e,n,A,r,i,o,a,s)},tangentAngle:function(t,e,n,A,r,i,o,a,s){var l=na(t,n,r,o,s),u=na(e,A,i,a,s);return Yo(Math.atan2(u,l))}};function aa(t,e){var n=Math.abs(t);return e>0?n:-1*n}const sa=function(t,e,n,A,r,i){var o=n,a=A;if(0===o||0===a)return{x:t,y:e};for(var s,l,u=r-t,c=i-e,h=Math.abs(u),p=Math.abs(c),f=o*o,d=a*a,g=Math.PI/4,y=0;y<4;y++){s=o*Math.cos(g),l=a*Math.sin(g);var v=(f-d)*Math.pow(Math.cos(g),3)/o,m=(d-f)*Math.pow(Math.sin(g),3)/a,B=s-v,x=l-m,w=h-v,C=p-m,F=Math.hypot(x,B),b=Math.hypot(C,w);g+=F*Math.asin((B*C-x*w)/(F*b))/Math.sqrt(f+d-s*s-l*l),g=Math.min(Math.PI/2,Math.max(0,g))}return{x:t+aa(s,u),y:e+aa(l,c)}};function la(t,e,n,A,r,i){return n*Math.cos(r)*Math.cos(i)-A*Math.sin(r)*Math.sin(i)+t}function ua(t,e,n,A,r,i){return n*Math.sin(r)*Math.cos(i)+A*Math.cos(r)*Math.sin(i)+e}function ca(t,e,n){return{x:t*Math.cos(n),y:e*Math.sin(n)}}function ha(t,e,n){var A=Math.cos(n),r=Math.sin(n);return[t*A-e*r,t*r+e*A]}const pa={box:function(t,e,n,A,r,i,o){for(var a=function(t,e,n){return Math.atan(-e/t*Math.tan(n))}(n,A,r),s=1/0,l=-1/0,u=[i,o],c=2*-Math.PI;c<=2*Math.PI;c+=Math.PI){var h=a+c;i<o?i<h&&h<o&&u.push(h):o<h&&h<i&&u.push(h)}for(c=0;c<u.length;c++){var p=la(t,0,n,A,r,u[c]);p<s&&(s=p),p>l&&(l=p)}var f=function(t,e,n){return Math.atan(e/(t*Math.tan(n)))}(n,A,r),d=1/0,g=-1/0,y=[i,o];for(c=2*-Math.PI;c<=2*Math.PI;c+=Math.PI){var v=f+c;i<o?i<v&&v<o&&y.push(v):o<v&&v<i&&y.push(v)}for(c=0;c<y.length;c++){var m=ua(0,e,n,A,r,y[c]);m<d&&(d=m),m>g&&(g=m)}return{x:s,y:d,width:l-s,height:g-d}},length:function(t,e,n,A,r,i,o){},nearestPoint:function(t,e,n,A,r,i,o,a,s){var l=ha(a-t,s-e,-r),u=l[0],c=l[1],h=sa(0,0,n,A,u,c),p=function(t,e,n,A){return(Math.atan2(A*t,n*e)+2*Math.PI)%(2*Math.PI)}(n,A,h.x,h.y);p<i?h=ca(n,A,i):p>o&&(h=ca(n,A,o));var f=ha(h.x,h.y,r);return{x:f[0]+t,y:f[1]+e}},pointDistance:function(t,e,n,A,r,i,o,a,s){var l=this.nearestPoint(t,e,n,A,a,s);return No(l.x,l.y,a,s)},pointAt:function(t,e,n,A,r,i,o,a){var s=(o-i)*a+i;return{x:la(t,0,n,A,r,s),y:ua(0,e,n,A,r,s)}},tangentAngle:function(t,e,n,A,r,i,o,a){var s=(o-i)*a+i,l=function(t,e,n,A,r,i,o,a){return-1*n*Math.cos(r)*Math.sin(a)-A*Math.sin(r)*Math.cos(a)}(0,0,n,A,r,0,0,s),u=function(t,e,n,A,r,i,o,a){return-1*n*Math.sin(r)*Math.sin(a)+A*Math.cos(r)*Math.cos(a)}(0,0,n,A,r,0,0,s);return Yo(Math.atan2(u,l))}};const fa=function(t){return function(t){if(t.length<2)return 0;for(var e=0,n=0;n<t.length-1;n++){var A=t[n],r=t[n+1];e+=No(A[0],A[1],r[0],r[1])}return e}(t)};function da(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e}function ga(t,e){var n=t.get("startArrowShape"),A=t.get("endArrowShape");return n&&(e=da(e,n.getCanvasBBox())),A&&(e=da(e,A.getCanvasBBox())),e}var ya=null;function va(){if(!ya){var t=document.createElement("canvas");t.width=1,t.height=1,ya=t.getContext("2d")}return ya}function ma(t,e,n){var A=1;if(pe(t)&&(A=t.split("\n").length),A>1){var r=function(t,e){return e?e-t:.14*t}(e,n);return e*A+r*(A-1)}return e}function Ba(t){var e=t.fontSize,n=t.fontFamily,A=t.fontWeight;return[t.fontStyle,t.fontVariant,A,e+"px",n].join(" ").trim()}var xa=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,wa=/[^\s\,]+/gi;function Ca(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=[[0,0],[1,1]]);for(var A=!!e,r=[],i=0,o=t.length;i<o;i+=2)r.push([t[i],t[i+1]]);var a,s,l,u=function(t,e,n,A){var r,i,o,a,s,l,u,c=[],h=!!A;if(h){o=A[0],a=A[1];for(var p=0,f=t.length;p<f;p+=1)o=rr([0,0],o,g=t[p]),a=ir([0,0],a,g)}p=0;for(var d=t.length;p<d;p+=1){var g=t[p];if(0!==p||n)if(p!==d-1||n){r=t[[p?p-1:d-1,p-1][n?0:1]],i=t[n?(p+1)%d:p+1];var y=[0,0];y=or(y=cr(y,i,r),y,e);var v=ar(g,r),m=ar(g,i),B=v+m;0!==B&&(v/=B,m/=B);var x=or([0,0],y,-v),w=or([0,0],y,m);l=nr([0,0],g,x),s=rr([0,0],s=nr([0,0],g,w),ir([0,0],i,g)),s=ir([0,0],s,rr([0,0],i,g)),l=rr([0,0],l=nr([0,0],g,x=or([0,0],x=cr([0,0],s,g),-v/m)),ir([0,0],r,g)),l=ir([0,0],l,rr([0,0],r,g)),s=nr([0,0],g,w=or([0,0],w=cr([0,0],g,l),m/v)),h&&(l=rr([0,0],l=ir([0,0],l,o),a),s=rr([0,0],s=ir([0,0],s,o),a)),c.push(u),c.push(l),u=s}else l=g,c.push(u),c.push(l);else u=g}return n&&c.push(c.shift()),c}(r,.4,A,n),c=r.length,h=[];for(i=0;i<c-1;i+=1)a=u[2*i],s=u[2*i+1],l=r[i+1],h.push(["C",a[0],a[1],s[0],s[1],l[0],l[1]]);return A&&(a=u[c],s=u[c+1],l=r[0],h.push(["C",a[0],a[1],s[0],s[1],l[0],l[1]])),h}var Fa="\t\n\v\f\r   ᠎             　\u2028\u2029",ba=new RegExp("([a-z])["+Fa+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Fa+"]*,?["+Fa+"]*)+)","ig"),Qa=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Fa+"]*,?["+Fa+"]*","ig");function Ua(t){if(!t)return null;if(qt(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(ba,(function(t,A,r){var i=[],o=A.toLowerCase();if(r.replace(Qa,(function(t,e){e&&i.push(+e)})),"m"===o&&i.length>2&&(n.push([A].concat(i.splice(0,2))),o="l",A="m"===A?"l":"L"),"o"===o&&1===i.length&&n.push([A,i[0]]),"r"===o)n.push([A].concat(i));else for(;i.length>=e[o]&&(n.push([A].concat(i.splice(0,e[o]))),e[o]););return""})),n}var Ea=/[a-z]/;function Ma(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}function Sa(t){var e=Ua(t);if(!e||!e.length)return[["M",0,0]];for(var n=!1,A=0;A<e.length;A++){var r=e[A][0];if(Ea.test(r)||["V","H","T","S"].indexOf(r)>=0){n=!0;break}}if(!n)return e;var i=[],o=0,a=0,s=0,l=0,u=0,c=e[0];"M"!==c[0]&&"m"!==c[0]||(s=o=+c[1],l=a=+c[2],u++,i[0]=["M",o,a]);A=u;for(var h=e.length;A<h;A++){var p=e[A],f=i[A-1],d=[],g=(r=p[0]).toUpperCase();if(r!==g)switch(d[0]=g,g){case"A":d[1]=p[1],d[2]=p[2],d[3]=p[3],d[4]=p[4],d[5]=p[5],d[6]=+p[6]+o,d[7]=+p[7]+a;break;case"V":d[1]=+p[1]+a;break;case"H":d[1]=+p[1]+o;break;case"M":s=+p[1]+o,l=+p[2]+a,d[1]=s,d[2]=l;break;default:for(var y=1,v=p.length;y<v;y++)d[y]=+p[y]+(y%2?o:a)}else d=e[A];switch(g){case"Z":o=+s,a=+l;break;case"H":d=["L",o=d[1],a];break;case"V":d=["L",o,a=d[1]];break;case"T":o=d[1],a=d[2];var m=Ma([f[1],f[2]],[f[3],f[4]]);d=["Q",m[0],m[1],o,a];break;case"S":o=d[d.length-2],a=d[d.length-1];var B=f.length,x=Ma([f[B-4],f[B-3]],[f[B-2],f[B-1]]);d=["C",x[0],x[1],d[1],d[2],o,a];break;case"M":s=d[d.length-2],l=d[d.length-1];break;default:o=d[d.length-2],a=d[d.length-1]}i.push(d)}return i}function Ia(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function ka(t,e){return Ia(t)*Ia(e)?(t[0]*e[0]+t[1]*e[1])/(Ia(t)*Ia(e)):1}function La(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(ka(t,e))}function Ha(t,e){return t[0]===e[0]&&t[1]===e[1]}function Ta(t,e){var n=e[1],A=e[2],r=Me(Ie(e[3]),2*Math.PI),i=e[4],o=e[5],a=t[0],s=t[1],l=e[6],u=e[7],c=Math.cos(r)*(a-l)/2+Math.sin(r)*(s-u)/2,h=-1*Math.sin(r)*(a-l)/2+Math.cos(r)*(s-u)/2,p=c*c/(n*n)+h*h/(A*A);p>1&&(n*=Math.sqrt(p),A*=Math.sqrt(p));var f=n*n*(h*h)+A*A*(c*c),d=f?Math.sqrt((n*n*(A*A)-f)/f):1;i===o&&(d*=-1),isNaN(d)&&(d=0);var g=A?d*n*h/A:0,y=n?d*-A*c/n:0,v=(a+l)/2+Math.cos(r)*g-Math.sin(r)*y,m=(s+u)/2+Math.sin(r)*g+Math.cos(r)*y,B=[(c-g)/n,(h-y)/A],x=[(-1*c-g)/n,(-1*h-y)/A],w=La([1,0],B),C=La(B,x);return ka(B,x)<=-1&&(C=Math.PI),ka(B,x)>=1&&(C=0),0===o&&C>0&&(C-=2*Math.PI),1===o&&C<0&&(C+=2*Math.PI),{cx:v,cy:m,rx:Ha(t,[l,u])?0:n,ry:Ha(t,[l,u])?0:A,startAngle:w,endAngle:w+C,xRotation:r,arcFlag:i,sweepFlag:o}}function Da(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}function Pa(t){t=function(t){var e=t||[];return qt(e)?e:pe(e)?($t(e=e.match(xa),(function(t,n){if((t=t.match(wa))[0].length>1){var A=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=A}$t(t,(function(e,n){isNaN(e)||(t[n]=+e)})),e[n]=t})),e):void 0}(t);for(var e=[],n=null,A=null,r=null,i=0,o=t.length,a=0;a<o;a++){var s=t[a];A=t[a+1];var l=s[0],u={command:l,prePoint:n,params:s,startTangent:null,endTangent:null};switch(l){case"M":r=[s[1],s[2]],i=a;break;case"A":var c=Ta(n,s);u.arcParams=c}if("Z"===l)n=r,A=t[i+1];else{var h=s.length;n=[s[h-2],s[h-1]]}A&&"Z"===A[0]&&(A=t[i],e[i]&&(e[i].prePoint=n)),u.currentPoint=n,e[i]&&Ha(n,e[i].currentPoint)&&(e[i].prePoint=u.prePoint);var p=A?[A[A.length-2],A[A.length-1]]:null;u.nextPoint=p;var f=u.prePoint;if(["L","H","V"].includes(l))u.startTangent=[f[0]-n[0],f[1]-n[1]],u.endTangent=[n[0]-f[0],n[1]-f[1]];else if("Q"===l){var d=[s[1],s[2]];u.startTangent=[f[0]-d[0],f[1]-d[1]],u.endTangent=[n[0]-d[0],n[1]-d[1]]}else if("T"===l){d=Da((v=e[a-1]).currentPoint,f);"Q"===v.command?(u.command="Q",u.startTangent=[f[0]-d[0],f[1]-d[1]],u.endTangent=[n[0]-d[0],n[1]-d[1]]):(u.command="TL",u.startTangent=[f[0]-n[0],f[1]-n[1]],u.endTangent=[n[0]-f[0],n[1]-f[1]])}else if("C"===l){var g=[s[1],s[2]],y=[s[3],s[4]];u.startTangent=[f[0]-g[0],f[1]-g[1]],u.endTangent=[n[0]-y[0],n[1]-y[1]],0===u.startTangent[0]&&0===u.startTangent[1]&&(u.startTangent=[g[0]-y[0],g[1]-y[1]]),0===u.endTangent[0]&&0===u.endTangent[1]&&(u.endTangent=[y[0]-g[0],y[1]-g[1]])}else if("S"===l){var v;g=Da((v=e[a-1]).currentPoint,f),y=[s[1],s[2]];"C"===v.command?(u.command="C",u.startTangent=[f[0]-g[0],f[1]-g[1]],u.endTangent=[n[0]-y[0],n[1]-y[1]]):(u.command="SQ",u.startTangent=[f[0]-y[0],f[1]-y[1]],u.endTangent=[n[0]-y[0],n[1]-y[1]])}else if("A"===l){var m=.001,B=u.arcParams||{},x=B.cx,w=void 0===x?0:x,C=B.cy,F=void 0===C?0:C,b=B.rx,Q=void 0===b?0:b,U=B.ry,E=void 0===U?0:U,M=B.sweepFlag,S=void 0===M?0:M,I=B.startAngle,k=void 0===I?0:I,L=B.endAngle,H=void 0===L?0:L;0===S&&(m*=-1);var T=Q*Math.cos(k-m)+w,D=E*Math.sin(k-m)+F;u.startTangent=[T-r[0],D-r[1]];var P=Q*Math.cos(k+H+m)+w,O=E*Math.sin(k+H-m)+F;u.endTangent=[f[0]-P,f[1]-O]}e.push(u)}return e}var Oa=function(t,e,n){return t>=e&&t<=n};var Ra=1e-6;function Ka(t){return Math.abs(t)<Ra?0:t<0?-1:1}function Va(t,e,n){return(n[0]-t[0])*(e[1]-t[1])==(e[0]-t[0])*(n[1]-t[1])&&Math.min(t[0],e[0])<=n[0]&&n[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=n[1]&&n[1]<=Math.max(t[1],e[1])}function Ga(t,e,n){var A=!1,r=t.length;if(r<=2)return!1;for(var i=0;i<r;i++){var o=t[i],a=t[(i+1)%r];if(Va(o,a,[e,n]))return!0;Ka(o[1]-n)>0!=Ka(a[1]-n)>0&&Ka(e-(n-o[1])*(o[0]-a[0])/(o[1]-a[1])-o[0])<0&&(A=!A)}return A}function Na(t){for(var e=[],n=t.length,A=0;A<n-1;A++){var r=t[A],i=t[A+1];e.push({from:{x:r[0],y:r[1]},to:{x:i[0],y:i[1]}})}if(e.length>1){var o=t[0],a=t[n-1];e.push({from:{x:a[0],y:a[1]},to:{x:o[0],y:o[1]}})}return e}function _a(t,e){var n=!1;return $t(t,(function(t){if(function(t,e,n,A){var r=n.x-t.x,i=n.y-t.y,o=e.x-t.x,a=e.y-t.y,s=A.x-n.x,l=A.y-n.y,u=o*l-a*s,c=null;if(u*u>.001*(o*o+a*a)*(s*s+l*l)){var h=(r*l-i*s)/u,p=(r*a-i*o)/u;Oa(h,0,1)&&Oa(p,0,1)&&(c={x:t.x+h*o,y:t.y+h*a})}return c}(t.from,t.to,e.from,e.to))return n=!0,!1})),n}function Xa(t){var e=t.map((function(t){return t[0]})),n=t.map((function(t){return t[1]}));return{minX:Math.min.apply(null,e),maxX:Math.max.apply(null,e),minY:Math.min.apply(null,n),maxY:Math.max.apply(null,n)}}function Ya(t,e){var n=t.prePoint,A=t.currentPoint,r=t.nextPoint,i=Math.pow(A[0]-n[0],2)+Math.pow(A[1]-n[1],2),o=Math.pow(A[0]-r[0],2)+Math.pow(A[1]-r[1],2),a=Math.pow(n[0]-r[0],2)+Math.pow(n[1]-r[1],2),s=Math.acos((i+o-a)/(2*Math.sqrt(i)*Math.sqrt(o)));if(!s||0===Math.sin(s)||Ue(s,0))return{xExtra:0,yExtra:0};var l=Math.abs(Math.atan2(r[1]-A[1],r[0]-A[0])),u=Math.abs(Math.atan2(r[0]-A[0],r[1]-A[1]));return l=l>Math.PI/2?Math.PI-l:l,u=u>Math.PI/2?Math.PI-u:u,{xExtra:Math.cos(s/2-l)*(e/2*(1/Math.sin(s/2)))-e/2||0,yExtra:Math.cos(u-s/2)*(e/2*(1/Math.sin(s/2)))-e/2||0}}Ro("rect",Vo),Ro("image",Vo),Ro("circle",Go),Ro("marker",Go),Ro("polyline",(function(t){for(var e=t.attr().points,n=[],A=[],r=0;r<e.length;r++){var i=e[r];n.push(i[0]),A.push(i[1])}var o=Xo(n,A),a=o.x,s=o.y,l={minX:a,minY:s,maxX:a+o.width,maxY:s+o.height};return{x:(l=ga(t,l)).minX,y:l.minY,width:l.maxX-l.minX,height:l.maxY-l.minY}})),Ro("polygon",(function(t){for(var e=t.attr().points,n=[],A=[],r=0;r<e.length;r++){var i=e[r];n.push(i[0]),A.push(i[1])}return Xo(n,A)})),Ro("text",(function(t){var e=t.attr(),n=e.x,A=e.y,r=e.text,i=e.fontSize,o=e.lineHeight,a=e.font;a||(a=Ba(e));var s,l=function(t,e){var n=va(),A=0;return Jt(t)||""===t||(n.save(),n.font=e,pe(t)&&t.includes("\n")?$t(t.split("\n"),(function(t){var e=n.measureText(t).width;A<e&&(A=e)})):A=n.measureText(t).width,n.restore()),A}(r,a);if(l){var u=e.textAlign,c=e.textBaseline,h=ma(r,i,o),p={x:n,y:A-h};u&&("end"===u||"right"===u?p.x-=l:"center"===u&&(p.x-=l/2)),c&&("top"===c?p.y+=h:"middle"===c&&(p.y+=h/2)),s={x:p.x,y:p.y,width:l,height:h}}else s={x:n,y:A,width:0,height:0};return s})),Ro("path",(function(t){var e=t.attr(),n=e.path,A=e.stroke?e.lineWidth:0,r=function(t,e){for(var n=[],A=[],r=[],i=0;i<t.length;i++){var o=(d=t[i]).currentPoint,a=d.params,s=d.prePoint,l=void 0;switch(d.command){case"Q":l=ta.box(s[0],s[1],a[1],a[2],a[3],a[4]);break;case"C":l=oa.box(s[0],s[1],a[1],a[2],a[3],a[4],a[5],a[6]);break;case"A":var u=d.arcParams;l=pa.box(u.cx,u.cy,u.rx,u.ry,u.xRotation,u.startAngle,u.endAngle);break;default:n.push(o[0]),A.push(o[1])}l&&(d.box=l,n.push(l.x,l.x+l.width),A.push(l.y,l.y+l.height)),e&&("L"===d.command||"M"===d.command)&&d.prePoint&&d.nextPoint&&r.push(d)}n=n.filter((function(t){return!Number.isNaN(t)&&t!==1/0&&t!==-1/0})),A=A.filter((function(t){return!Number.isNaN(t)&&t!==1/0&&t!==-1/0}));var c=se(n),h=se(A),p=ae(n),f=ae(A);if(0===r.length)return{x:c,y:h,width:p-c,height:f-h};for(i=0;i<r.length;i++){var d;(o=(d=r[i]).currentPoint)[0]===c?c-=Ya(d,e).xExtra:o[0]===p&&(p+=Ya(d,e).xExtra),o[1]===h?h-=Ya(d,e).yExtra:o[1]===f&&(f+=Ya(d,e).yExtra)}return{x:c,y:h,width:p-c,height:f-h}}(t.get("segments")||Pa(n),A),i=r.x,o=r.y,a={minX:i,minY:o,maxX:i+r.width,maxY:o+r.height};return{x:(a=ga(t,a)).minX,y:a.minY,width:a.maxX-a.minX,height:a.maxY-a.minY}})),Ro("line",(function(t){var e=t.attr(),n=e.x1,A=e.y1,r=e.x2,i=e.y2,o={minX:Math.min(n,r),maxX:Math.max(n,r),minY:Math.min(A,i),maxY:Math.max(A,i)};return{x:(o=ga(t,o)).minX,y:o.minY,width:o.maxX-o.minX,height:o.maxY-o.minY}})),Ro("ellipse",(function(t){var e=t.attr(),n=e.x,A=e.y,r=e.rx,i=e.ry;return{x:n-r,y:A-i,width:2*r,height:2*i}}));var za=function(){function t(t){var e=t.xField,n=t.yField,A=t.adjustNames,r=void 0===A?["x","y"]:A,i=t.dimValuesMap;this.adjustNames=r,this.xField=e,this.yField=n,this.dimValuesMap=i}return t.prototype.isAdjust=function(t){return this.adjustNames.indexOf(t)>=0},t.prototype.getAdjustRange=function(t,e,n){var A,r,i=this.yField,o=n.indexOf(e),a=n.length;return!i&&this.isAdjust("y")?(A=0,r=1):a>1?(A=n[0===o?0:o-1],r=n[o===a-1?a-1:o+1],0!==o?A+=(e-A)/2:A-=(r-e)/2,o!==a-1?r-=(r-e)/2:r+=(e-n[a-2])/2):(A=0===e?0:e-.5,r=0===e?1:e+.5),{pre:A,next:r}},t.prototype.adjustData=function(t,e){var n=this,A=this.getDimValues(e);$t(t,(function(t,e){$t(A,(function(A,r){n.adjustDim(r,A,t,e)}))}))},t.prototype.groupData=function(t,e){return $t(t,(function(t){void 0===t[e]&&(t[e]=0)})),xe(t,e)},t.prototype.adjustDim=function(t,e,n,A){},t.prototype.getDimValues=function(t){var e=this.xField,n=this.yField,A=ze({},this.dimValuesMap),r=[];if(e&&this.isAdjust("x")&&r.push(e),n&&this.isAdjust("y")&&r.push(n),r.forEach((function(e){A&&A[e]||(A[e]=de(t,e).sort((function(t,e){return t-e})))})),!n&&this.isAdjust("y")){A.y=[0,1]}return A},t}(),Wa={},ja=function(t){return Wa[t.toLowerCase()]},Ja=function(t,e){if(ja(t))throw new Error("Adjust type '"+t+"' existed.");Wa[t.toLowerCase()]=e},qa=function(t,e){return(qa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Za(t,e){function n(){this.constructor=t}qa(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var $a=function(){return $a=Object.assign||function(t){for(var e,n=1,A=arguments.length;n<A;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},$a.apply(this,arguments)},ts=function(t){function e(e){var n=t.call(this,e)||this;n.cacheMap={},n.adjustDataArray=[],n.mergeData=[];var A=e.marginRatio,r=void 0===A?.5:A,i=e.dodgeRatio,o=void 0===i?.5:i,a=e.dodgeBy,s=e.intervalPadding,l=e.dodgePadding,u=e.xDimensionLength,c=e.groupNum,h=e.defaultSize,p=e.maxColumnWidth,f=e.minColumnWidth,d=e.columnWidthRatio,g=e.customOffset;return n.marginRatio=r,n.dodgeRatio=o,n.dodgeBy=a,n.intervalPadding=s,n.dodgePadding=l,n.xDimensionLegenth=u,n.groupNum=c,n.defaultSize=h,n.maxColumnWidth=p,n.minColumnWidth=f,n.columnWidthRatio=d,n.customOffset=g,n}return Za(e,t),e.prototype.process=function(t){var e=We(t),n=oe(e),A=this.dodgeBy,r=A?function(t,e){if(!e)return[t];var n=we(t,e),A=[];for(var r in n)A.push(n[r]);return A}(n,A):e;return this.cacheMap={},this.adjustDataArray=r,this.mergeData=n,this.adjustData(r,n),this.adjustDataArray=[],this.mergeData=[],e},e.prototype.adjustDim=function(t,e,n,A){var r=this,i=this.customOffset,o=this.getDistribution(t);return $t(this.groupData(n,t),(function(n,a){var s;s=1===e.length?{pre:e[0]-1,next:e[0]+1}:r.getAdjustRange(t,parseFloat(a),e),$t(n,(function(e){var n=e[t],a=o[n],l=a.indexOf(A);if(Jt(i))e[t]=r.getDodgeOffset(s,l,a.length);else{var u=s.pre,c=s.next;e[t]=jt(i)?i(e,s):(u+c)/2+i}}))})),[]},e.prototype.getDodgeOffset=function(t,e,n){var A,r=this,i=r.dodgeRatio,o=r.marginRatio,a=r.intervalPadding,s=r.dodgePadding,l=t.pre,u=t.next,c=u-l;if(!Jt(a)&&Jt(s)&&a>=0)A=l+this.getIntervalOnlyOffset(n,e);else if(!Jt(s)&&Jt(a)&&s>=0){A=l+this.getDodgeOnlyOffset(n,e)}else if(!Jt(a)&&!Jt(s)&&a>=0&&s>=0){A=l+this.getIntervalAndDodgeOffset(n,e)}else{var h=c*i/n,p=o*h;A=(l+u)/2+(.5*(c-n*h-(n-1)*p)+((e+1)*h+e*p)-.5*h-.5*c)}return A},e.prototype.getIntervalOnlyOffset=function(t,e){var n=this,A=n.defaultSize,r=n.intervalPadding,i=n.xDimensionLegenth,o=n.groupNum,a=n.dodgeRatio,s=n.maxColumnWidth,l=n.minColumnWidth,u=n.columnWidthRatio,c=r/i,h=(1-(o-1)*c)/o*a/(t-1),p=((1-c*(o-1))/o-h*(t-1))/t;if(p=Jt(u)?p:1/o/t*u,!Jt(s)){var f=s/i;p=Math.min(p,f)}if(!Jt(l)){var d=l/i;p=Math.max(p,d)}return((.5+e)*(p=A?A/i:p)+e*(h=((1-(o-1)*c)/o-t*p)/(t-1))+.5*c)*o-c/2},e.prototype.getDodgeOnlyOffset=function(t,e){var n=this,A=n.defaultSize,r=n.dodgePadding,i=n.xDimensionLegenth,o=n.groupNum,a=n.marginRatio,s=n.maxColumnWidth,l=n.minColumnWidth,u=n.columnWidthRatio,c=r/i,h=1*a/(o-1),p=((1-h*(o-1))/o-c*(t-1))/t;if(p=u?1/o/t*u:p,!Jt(s)){var f=s/i;p=Math.min(p,f)}if(!Jt(l)){var d=l/i;p=Math.max(p,d)}return((.5+e)*(p=A?A/i:p)+e*c+.5*(h=(1-(p*t+c*(t-1))*o)/(o-1)))*o-h/2},e.prototype.getIntervalAndDodgeOffset=function(t,e){var n=this,A=n.intervalPadding,r=n.dodgePadding,i=n.xDimensionLegenth,o=n.groupNum,a=A/i,s=r/i;return((.5+e)*(((1-a*(o-1))/o-s*(t-1))/t)+e*s+.5*a)*o-a/2},e.prototype.getDistribution=function(t){var e=this.adjustDataArray,n=this.cacheMap,A=n[t];return A||(A={},$t(e,(function(e,n){var r=de(e,t);r.length||r.push(0),$t(r,(function(t){A[t]||(A[t]=[]),A[t].push(n)}))})),n[t]=A),A},e}(za);var es=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Za(e,t),e.prototype.process=function(t){var e=We(t),n=oe(e);return this.adjustData(e,n),e},e.prototype.adjustDim=function(t,e,n){var A=this;return $t(this.groupData(n,t),(function(n,r){return A.adjustGroup(n,t,parseFloat(r),e)}))},e.prototype.getAdjustOffset=function(t){var e,n=t.pre,A=t.next,r=.05*(A-n);return(A-r-(e=n+r))*Math.random()+e},e.prototype.adjustGroup=function(t,e,n,A){var r=this,i=this.getAdjustRange(e,n,A);return $t(t,(function(t){t[e]=r.getAdjustOffset(i)})),t},e}(za),ns=Qn,As=function(t){function e(e){var n=t.call(this,e)||this,A=e.adjustNames,r=void 0===A?["y"]:A,i=e.height,o=void 0===i?NaN:i,a=e.size,s=void 0===a?10:a,l=e.reverseOrder,u=void 0!==l&&l;return n.adjustNames=r,n.height=o,n.size=s,n.reverseOrder=u,n}return Za(e,t),e.prototype.process=function(t){var e=this.yField,n=this.reverseOrder,A=e?this.processStack(t):this.processOneDimStack(t);return n?this.reverse(A):A},e.prototype.reverse=function(t){return t.slice(0).reverse()},e.prototype.processStack=function(t){var e=this,n=e.xField,A=e.yField,r=e.reverseOrder?this.reverse(t):t,i=new ns,o=new ns;return r.map((function(t){return t.map((function(t){var e,r=on(t,n,0),a=on(t,[A]),s=r.toString();if(a=qt(a)?a[1]:a,!Jt(a)){var l=a>=0?i:o;l.has(s)||l.set(s,0);var u=l.get(s),c=a+u;return l.set(s,c),$a($a({},t),((e={})[A]=[u,c],e))}return t}))}))},e.prototype.processOneDimStack=function(t){var e=this,n=this,A=n.xField,r=n.height,i=n.reverseOrder,o=i?this.reverse(t):t,a=new ns;return o.map((function(t){return t.map((function(t){var n,i=e.size,o=t[A],s=2*i/r;a.has(o)||a.set(o,s/2);var l=a.get(o);return a.set(o,l+s),$a($a({},t),((n={}).y=l,n))}))}))},e}(za),rs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Za(e,t),e.prototype.process=function(t){var e=oe(t),n=this.xField,A=this.yField,r=this.getXValuesMaxMap(e),i=Math.max.apply(Math,Object.keys(r).map((function(t){return r[t]})));return An(t,(function(t){return An(t,(function(t){var e,o,a=t[A],s=t[n];if(qt(a)){var l=(i-r[s])/2;return $a($a({},t),((e={})[A]=An(a,(function(t){return l+t})),e))}var u=(i-a)/2;return $a($a({},t),((o={})[A]=[u,a+u],o))}))}))},e.prototype.getXValuesMaxMap=function(t){var e=this,n=this.xField,A=this.yField;return function(t,e){void 0===e&&(e=rn);var n={};return Zt(t)&&!Jt(t)&&Object.keys(t).forEach((function(A){n[A]=e(t[A],A)})),n}(xe(t,(function(t){return t[n]})),(function(t){return e.getDimMaxValue(t,A)}))},e.prototype.getDimMaxValue=function(t,e){var n=An(t,(function(t){return on(t,e,[])})),A=oe(n);return Math.max.apply(Math,A)},e}(za);Ja("Dodge",ts),Ja("Jitter",es),Ja("Stack",As),Ja("Symmetric",rs);var is=function(t,e){return pe(e)?e:t.invert(t.scale(e))},os=function(){function t(t){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(t)}return t.prototype.mapping=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var A=e.map((function(e,n){return t._toOriginParam(e,t.scales[n])}));return this.callback.apply(this,A)},t.prototype.getLinearValue=function(t){var e=this.values.length-1,n=Math.floor(e*t),A=e*t-n,r=this.values[n];return r+((n===e?r:this.values[n+1])-r)*A},t.prototype.getNames=function(){for(var t=this.scales,e=this.names,n=Math.min(t.length,e.length),A=[],r=0;r<n;r+=1)A.push(e[r]);return A},t.prototype.getFields=function(){return this.scales.map((function(t){return t.field}))},t.prototype.getScale=function(t){return this.scales[this.names.indexOf(t)]},t.prototype.defaultCallback=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 0===e.length?this.values:e.map((function(e,n){var A=t.scales[n];return"identity"===A.type?A.values[0]:t._getAttributeValue(A,e)}))},t.prototype._parseCfg=function(t){var e=this,n=t.type,A=void 0===n?"base":n,r=t.names,i=void 0===r?[]:r,o=t.scales,a=void 0===o?[]:o,s=t.values,l=void 0===s?[]:s,u=t.callback;this.type=A,this.scales=a,this.values=l,this.names=i,this.callback=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(u){var A=u.apply(void 0,t);if(!Jt(A))return[A]}return e.defaultCallback.apply(e,t)}},t.prototype._getAttributeValue=function(t,e){if(t.isCategory&&!this.linear){var n=t.translate(e);return this.values[n%this.values.length]}var A=t.scale(e);return this.getLinearValue(A)},t.prototype._toOriginParam=function(t,e){return e.isLinear?t:qt(t)?t.map((function(t){return is(e,t)})):is(e,t)},t}(),as=/rgba?\(([\s.,0-9]+)\)/,ss=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,ls=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,us=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,cs=function(t,e,n,A){return t[A]+(e[A]-t[A])*n};function hs(t){return"#"+ds(t[0])+ds(t[1])+ds(t[2])}var ps,fs=function(t){return[parseInt(t.substr(1,2),16),parseInt(t.substr(3,2),16),parseInt(t.substr(5,2),16)]},ds=function(t){var e=Math.round(t).toString(16);return 1===e.length?"0"+e:e},gs=function(t){if("#"===t[0]&&7===t.length)return t;ps||(ps=function(){var t=document.createElement("i");return t.title="Web Colour Picker",t.style.display="none",document.body.appendChild(t),t}()),ps.style.color=t;var e=document.defaultView.getComputedStyle(ps,"").getPropertyValue("color");return e=hs(as.exec(e)[1].split(/\s*,\s*/).map((function(t){return Number(t)})))};const ys={rgb2arr:fs,gradient:function(t){var e=pe(t)?t.split("-"):t,n=An(e,(function(t){return fs(-1===t.indexOf("#")?gs(t):t)}));return function(t){return function(t,e){var n=isNaN(Number(e))||e<0?0:e>1?1:Number(e),A=t.length-1,r=Math.floor(A*n),i=A*n-r,o=t[r],a=r===A?o:t[r+1];return hs([cs(o,a,i,0),cs(o,a,i,1),cs(o,a,i,2)])}(n,t)}},toRGB:Je(gs),toCSSGradient:function(t){if(/^[r,R,L,l]{1}[\s]*\(/.test(t)){var e,n=void 0;if("l"===t[0]){var A=+(r=ss.exec(t))[1]+90;n=r[2],e="linear-gradient("+A+"deg, "}else if("r"===t[0]){var r;e="radial-gradient(",n=(r=ls.exec(t))[4]}var i=n.match(us);return $t(i,(function(t,n){var A=t.split(":");e+=A[1]+" "+100*A[0]+"%",n!==i.length-1&&(e+=", ")})),e+=")"}return t}};var vs=function(t){function e(e){var n=t.call(this,e)||this;return n.type="color",n.names=["color"],pe(n.values)&&(n.linear=!0),n.gradient=ys.gradient(n.values),n}return Tt(e,t),e.prototype.getLinearValue=function(t){return this.gradient(t)},e}(os),ms=function(t){function e(e){var n=t.call(this,e)||this;return n.type="opacity",n.names=["opacity"],n}return Tt(e,t),e}(os),Bs=function(t){function e(e){var n=t.call(this,e)||this;return n.names=["x","y"],n.type="position",n}return Tt(e,t),e.prototype.mapping=function(t,e){var n=this.scales,A=n[0],r=n[1];return Jt(t)||Jt(e)?[]:[qt(t)?t.map((function(t){return A.scale(t)})):A.scale(t),qt(e)?e.map((function(t){return r.scale(t)})):r.scale(e)]},e}(os),xs=function(t){function e(e){var n=t.call(this,e)||this;return n.type="shape",n.names=["shape"],n}return Tt(e,t),e.prototype.getLinearValue=function(t){var e=Math.round((this.values.length-1)*t);return this.values[e]},e}(os),ws=function(t){function e(e){var n=t.call(this,e)||this;return n.type="size",n.names=["size"],n}return Tt(e,t),e}(os),Cs={};function Fs(t,e){Cs[t]=e}var bs=function(){function t(t){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=t,this.initCfg(),this.init()}return t.prototype.translate=function(t){return t},t.prototype.change=function(t){ze(this.__cfg__,t),this.init()},t.prototype.clone=function(){return this.constructor(this.__cfg__)},t.prototype.getTicks=function(){var t=this;return An(this.ticks,(function(e,n){return Zt(e)?e:{text:t.getText(e,n),tickValue:e,value:t.scale(e)}}))},t.prototype.getText=function(t,e){var n=this.formatter,A=n?n(t,e):t;return Jt(A)||!jt(A.toString)?"":A.toString()},t.prototype.getConfig=function(t){return this.__cfg__[t]},t.prototype.init=function(){ze(this,this.__cfg__),this.setDomain(),en(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},t.prototype.initCfg=function(){},t.prototype.setDomain=function(){},t.prototype.calculateTicks=function(){var t=this.tickMethod,e=[];if(pe(t)){var n=Cs[t];if(!n)throw new Error("There is no method to to calculate ticks!");e=n(this)}else jt(t)&&(e=t(this));return e},t.prototype.rangeMin=function(){return this.range[0]},t.prototype.rangeMax=function(){return this.range[1]},t.prototype.calcPercent=function(t,e,n){return be(t)?(t-e)/(n-e):NaN},t.prototype.calcValue=function(t,e,n){return e+t*(n-e)},t}(),Qs=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="cat",e.isCategory=!0,e}return Tt(e,t),e.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var t=0;t<this.values.length;t++)this.translateIndexMap.set(this.values[t],t)}},e.prototype.translate=function(t){this.buildIndexMap();var e=this.translateIndexMap.get(t);return void 0===e&&(e=be(t)?t:NaN),e},e.prototype.scale=function(t){var e=this.translate(t),n=this.calcPercent(e,this.min,this.max);return this.calcValue(n,this.rangeMin(),this.rangeMax())},e.prototype.invert=function(t){var e=this.max-this.min,n=this.calcPercent(t,this.rangeMin(),this.rangeMax()),A=Math.round(e*n)+this.min;return A<this.min||A>this.max?NaN:this.values[A]},e.prototype.getText=function(e){for(var n=[],A=1;A<arguments.length;A++)n[A-1]=arguments[A];var r=e;return be(e)&&!this.values.includes(e)&&(r=this.values[r]),t.prototype.getText.apply(this,Gt([r],n))},e.prototype.initCfg=function(){this.tickMethod="cat"},e.prototype.setDomain=function(){if(Jt(this.getConfig("min"))&&(this.min=0),Jt(this.getConfig("max"))){var t=this.values.length;this.max=t>1?t-1:t}this.translateIndexMap&&(this.translateIndexMap=void 0)},e}(bs),Us=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,Es="\\d\\d?",Ms="\\d\\d",Ss="[^\\s]+",Is=/\[([^]*?)\]/gm;function ks(t,e){for(var n=[],A=0,r=t.length;A<r;A++)n.push(t[A].substr(0,e));return n}var Ls=function(t){return function(e,n){var A=n[t].map((function(t){return t.toLowerCase()})).indexOf(e.toLowerCase());return A>-1?A:null}};function Hs(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var A=0,r=e;A<r.length;A++){var i=r[A];for(var o in i)t[o]=i[o]}return t}var Ts=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Ds=["January","February","March","April","May","June","July","August","September","October","November","December"],Ps=ks(Ds,3),Os={dayNamesShort:ks(Ts,3),dayNames:Ts,monthNamesShort:Ps,monthNames:Ds,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!=10?1:0)*t%10]}},Rs=Hs({},Os),Ks=function(t){return Rs=Hs(Rs,t)},Vs=function(t){return t.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},Gs=function(t,e){for(void 0===e&&(e=2),t=String(t);t.length<e;)t="0"+t;return t},Ns={D:function(t){return String(t.getDate())},DD:function(t){return Gs(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return String(t.getDay())},dd:function(t){return Gs(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return String(t.getMonth()+1)},MM:function(t){return Gs(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return Gs(String(t.getFullYear()),4).substr(2)},YYYY:function(t){return Gs(t.getFullYear(),4)},h:function(t){return String(t.getHours()%12||12)},hh:function(t){return Gs(t.getHours()%12||12)},H:function(t){return String(t.getHours())},HH:function(t){return Gs(t.getHours())},m:function(t){return String(t.getMinutes())},mm:function(t){return Gs(t.getMinutes())},s:function(t){return String(t.getSeconds())},ss:function(t){return Gs(t.getSeconds())},S:function(t){return String(Math.round(t.getMilliseconds()/100))},SS:function(t){return Gs(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return Gs(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+Gs(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)},Z:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+Gs(Math.floor(Math.abs(e)/60),2)+":"+Gs(Math.abs(e)%60,2)}},_s=function(t){return+t-1},Xs=[null,Es],Ys=[null,Ss],zs=["isPm",Ss,function(t,e){var n=t.toLowerCase();return n===e.amPm[0]?0:n===e.amPm[1]?1:null}],Ws=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(t){var e=(t+"").match(/([+-]|\d\d)/gi);if(e){var n=60*+e[1]+parseInt(e[2],10);return"+"===e[0]?n:-n}return 0}],js={D:["day",Es],DD:["day",Ms],Do:["day",Es+Ss,function(t){return parseInt(t,10)}],M:["month",Es,_s],MM:["month",Ms,_s],YY:["year",Ms,function(t){var e=+(""+(new Date).getFullYear()).substr(0,2);return+(""+(+t>68?e-1:e)+t)}],h:["hour",Es,void 0,"isPm"],hh:["hour",Ms,void 0,"isPm"],H:["hour",Es],HH:["hour",Ms],m:["minute",Es],mm:["minute",Ms],s:["second",Es],ss:["second",Ms],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(t){return 100*+t}],SS:["millisecond",Ms,function(t){return 10*+t}],SSS:["millisecond","\\d{3}"],d:Xs,dd:Xs,ddd:Ys,dddd:Ys,MMM:["month",Ss,Ls("monthNamesShort")],MMMM:["month",Ss,Ls("monthNames")],a:zs,A:zs,ZZ:Ws,Z:Ws},Js={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},qs=function(t){return Hs(Js,t)},Zs=function(t,e,n){if(void 0===e&&(e=Js.default),void 0===n&&(n={}),"number"==typeof t&&(t=new Date(t)),"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error("Invalid Date pass to format");var A=[];e=(e=Js[e]||e).replace(Is,(function(t,e){return A.push(e),"@@@"}));var r=Hs(Hs({},Rs),n);return(e=e.replace(Us,(function(e){return Ns[e](t,r)}))).replace(/@@@/g,(function(){return A.shift()}))};function $s(t,e,n){if(void 0===n&&(n={}),"string"!=typeof e)throw new Error("Invalid format in fecha parse");if(e=Js[e]||e,t.length>1e3)return null;var A={year:(new Date).getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},r=[],i=[],o=e.replace(Is,(function(t,e){return i.push(Vs(e)),"@@@"})),a={},s={};o=Vs(o).replace(Us,(function(t){var e=js[t],n=e[0],A=e[1],i=e[3];if(a[n])throw new Error("Invalid format. "+n+" specified twice in format");return a[n]=!0,i&&(s[i]=!0),r.push(e),"("+A+")"})),Object.keys(s).forEach((function(t){if(!a[t])throw new Error("Invalid format. "+t+" is required in specified format")})),o=o.replace(/@@@/g,(function(){return i.shift()}));var l=t.match(new RegExp(o,"i"));if(!l)return null;for(var u,c=Hs(Hs({},Rs),n),h=1;h<l.length;h++){var p=r[h-1],f=p[0],d=p[2],g=d?d(l[h],c):+l[h];if(null==g)return null;A[f]=g}if(1===A.isPm&&null!=A.hour&&12!=+A.hour?A.hour=+A.hour+12:0===A.isPm&&12==+A.hour&&(A.hour=0),null==A.timezoneOffset){u=new Date(A.year,A.month,A.day,A.hour,A.minute,A.second,A.millisecond);for(var y=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],v=(h=0,y.length);h<v;h++)if(a[y[h][0]]&&A[y[h][0]]!==u[y[h][1]]())return null}else if(u=new Date(Date.UTC(A.year,A.month,A.day,A.hour,A.minute-A.timezoneOffset,A.second,A.millisecond)),A.month>11||A.month<0||A.day>31||A.day<1||A.hour>23||A.hour<0||A.minute>59||A.minute<0||A.second>59||A.second<0)return null;return u}var tl={format:Zs,parse:$s,defaultI18n:Os,setGlobalDateI18n:Ks,setGlobalDateMasks:qs};const el=Object.freeze(Object.defineProperty({__proto__:null,assign:Hs,default:tl,defaultI18n:Os,format:Zs,parse:$s,setGlobalDateI18n:Ks,setGlobalDateMasks:qs},Symbol.toStringTag,{value:"Module"}));var nl="format";function Al(t,e){return(el[nl]||tl[nl])(t,e)}function rl(t){return pe(t)&&(t=t.indexOf("T")>0?new Date(t).getTime():new Date(t.replace(/-/gi,"/")).getTime()),Ve(t)&&(t=t.getTime()),t}var il=1e3,ol=6e4,al=36e5,sl=24*al,ll=31*sl,ul=365*sl,cl=[["HH:mm:ss",il],["HH:mm:ss",1e4],["HH:mm:ss",3e4],["HH:mm",ol],["HH:mm",6e5],["HH:mm",18e5],["HH",al],["HH",6*al],["HH",12*al],["YYYY-MM-DD",sl],["YYYY-MM-DD",4*sl],["YYYY-WW",7*sl],["YYYY-MM",ll],["YYYY-MM",4*ll],["YYYY-MM",6*ll],["YYYY",380*sl]];function hl(t,e,n){var A,r=(A=function(t){return t[1]},function(t,e,n,r){for(var i=Jt(n)?0:n,o=Jt(r)?t.length:r;i<o;){var a=i+o>>>1;A(t[a])>e?o=a:i=a+1}return i})(cl,(e-t)/n)-1,i=cl[r];return r<0?i=cl[0]:r>=cl.length&&(i=ye(cl)),i}var pl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="timeCat",e}return Tt(e,t),e.prototype.translate=function(t){t=rl(t);var e=this.values.indexOf(t);return-1===e&&(e=be(t)&&t<this.values.length?t:NaN),e},e.prototype.getText=function(t,e){var n=this.translate(t);if(n>-1){var A=this.values[n],r=this.formatter;return A=r?r(A,e):Al(A,this.mask)}return t},e.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},e.prototype.setDomain=function(){var e=this.values;$t(e,(function(t,n){e[n]=rl(t)})),e.sort((function(t,e){return t-e})),t.prototype.setDomain.call(this)},e}(Qs),fl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isContinuous=!0,e}return Tt(e,t),e.prototype.scale=function(t){if(Jt(t))return NaN;var e=this.rangeMin(),n=this.rangeMax();return this.max===this.min?e:e+this.getScalePercent(t)*(n-e)},e.prototype.init=function(){t.prototype.init.call(this);var e=this.ticks,n=ge(e),A=ye(e);n<this.min&&(this.min=n),A>this.max&&(this.max=A),Jt(this.minLimit)||(this.min=n),Jt(this.maxLimit)||(this.max=A)},e.prototype.setDomain=function(){var t=le(this.values),e=t.min,n=t.max;Jt(this.min)&&(this.min=e),Jt(this.max)&&(this.max=n),this.min>this.max&&(this.min=e,this.max=n)},e.prototype.calculateTicks=function(){var e=this,n=t.prototype.calculateTicks.call(this);return this.nice||(n=Yt(n,(function(t){return t>=e.min&&t<=e.max}))),n},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;return(t-n)/(e-n)},e.prototype.getInvertPercent=function(t){return(t-this.rangeMin())/(this.rangeMax()-this.rangeMin())},e}(bs),dl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="linear",e.isLinear=!0,e}return Tt(e,t),e.prototype.invert=function(t){var e=this.getInvertPercent(t);return this.min+e*(this.max-this.min)},e.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},e}(fl);function gl(t,e){var n=Math.E;return e>=0?Math.pow(n,Math.log(e)/t):-1*Math.pow(n,Math.log(-e)/t)}function yl(t,e){return 1===t?1:Math.log(e)/Math.log(t)}function vl(t,e,n){Jt(n)&&(n=Math.max.apply(null,t));var A=n;return $t(t,(function(t){t>0&&t<A&&(A=t)})),A===n&&(A=n/e),A>1&&(A=1),A}var ml=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="log",e}return Tt(e,t),e.prototype.invert=function(t){var e,n=this.base,A=yl(n,this.max),r=this.rangeMin(),i=this.rangeMax()-r,o=this.positiveMin;if(o){if(0===t)return 0;var a=1/(A-(e=yl(n,o/n)))*i;if(t<a)return t/a*o}else e=yl(n,this.min);var s=(t-r)/i*(A-e)+e;return Math.pow(n,s)},e.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},e.prototype.setDomain=function(){t.prototype.setDomain.call(this);var e=this.min;if(e<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");0===e&&(this.positiveMin=vl(this.values,this.base,this.max))},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;if(t<=0)return 0;var A=this.base,r=this.positiveMin;return r&&(n=1*r/A),t<r?t/r/(yl(A,e)-yl(A,n)):(yl(A,t)-yl(A,n))/(yl(A,e)-yl(A,n))},e}(fl),Bl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="pow",e}return Tt(e,t),e.prototype.invert=function(t){var e=this.getInvertPercent(t),n=this.exponent,A=gl(n,this.max),r=gl(n,this.min),i=e*(A-r)+r,o=i>=0?1:-1;return Math.pow(i,n)*o},e.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;var A=this.exponent;return(gl(A,t)-gl(A,n))/(gl(A,e)-gl(A,n))},e}(fl),xl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="time",e}return Tt(e,t),e.prototype.getText=function(t,e){var n=this.translate(t),A=this.formatter;return A?A(n,e):Al(n,this.mask)},e.prototype.scale=function(e){var n=e;return(pe(n)||Ve(n))&&(n=this.translate(n)),t.prototype.scale.call(this,n)},e.prototype.translate=function(t){return rl(t)},e.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},e.prototype.setDomain=function(){var t=this.values,e=this.getConfig("min"),n=this.getConfig("max");if(Jt(e)&&be(e)||(this.min=this.translate(this.min)),Jt(n)&&be(n)||(this.max=this.translate(this.max)),t&&t.length){var A=[],r=1/0,i=r,o=0;$t(t,(function(t){var e=rl(t);if(isNaN(e))throw new TypeError("Invalid Time: "+t+" in time scale!");r>e?(i=r,r=e):i>e&&(i=e),o<e&&(o=e),A.push(e)})),t.length>1&&(this.minTickInterval=i-r),Jt(e)&&(this.min=r),Jt(n)&&(this.max=o)}},e}(dl),wl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="quantize",e}return Tt(e,t),e.prototype.invert=function(t){var e=this.ticks,n=e.length,A=this.getInvertPercent(t),r=Math.floor(A*(n-1));if(r>=n-1)return ye(e);if(r<0)return ge(e);var i=e[r],o=r/(n-1);return i+(A-o)/((r+1)/(n-1)-o)*(e[r+1]-i)},e.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},e.prototype.calculateTicks=function(){var e=t.prototype.calculateTicks.call(this);return this.nice||(ye(e)!==this.max&&e.push(this.max),ge(e)!==this.min&&e.unshift(this.min)),e},e.prototype.getScalePercent=function(t){var e=this.ticks;if(t<ge(e))return 0;if(t>ye(e))return 1;var n=0;return $t(e,(function(e,A){if(!(t>=e))return!1;n=A})),n/(e.length-1)},e}(fl),Cl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="quantile",e}return Tt(e,t),e.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},e}(wl),Fl={};function bl(t){return Fl[t]}function Ql(t,e){if(bl(t))throw new Error("type '"+t+"' existed.");Fl[t]=e}var Ul=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="identity",e.isIdentity=!0,e}return Tt(e,t),e.prototype.calculateTicks=function(){return this.values},e.prototype.scale=function(t){return this.values[0]!==t&&be(t)?t:this.range[0]},e.prototype.invert=function(t){var e=this.range;return t<e[0]||t>e[1]?NaN:this.values[0]},e}(bs);function El(t){var e=t.values,n=t.tickInterval,A=t.tickCount,r=t.showLast;if(be(n)){var i=Yt(e,(function(t,e){return e%n==0})),o=ye(e);return r&&ye(i)!==o&&i.push(o),i}var a=e.length,s=t.min,l=t.max;if(Jt(s)&&(s=0),Jt(l)&&(l=e.length-1),!be(A)||A>=a)return e.slice(s,l+1);if(A<=0||l<=0)return[];for(var u=1===A?a:Math.floor(a/(A-1)),c=[],h=s,p=0;p<A&&!(h>=l);p++)h=Math.min(s+p*u,l),p===A-1&&r?c.push(e[l]):c.push(e[h]);return c}var Ml=Math.sqrt(50),Sl=Math.sqrt(10),Il=Math.sqrt(2),kl=function(){function t(){this._domain=[0,1]}return t.prototype.domain=function(t){return t?(this._domain=Array.from(t,Number),this):this._domain.slice()},t.prototype.nice=function(t){var e,n;void 0===t&&(t=5);var A,r=this._domain.slice(),i=0,o=this._domain.length-1,a=this._domain[i],s=this._domain[o];return s<a&&(a=(e=[s,a])[0],s=e[1],i=(n=[o,i])[0],o=n[1]),(A=Ll(a,s,t))>0?A=Ll(a=Math.floor(a/A)*A,s=Math.ceil(s/A)*A,t):A<0&&(A=Ll(a=Math.ceil(a*A)/A,s=Math.floor(s*A)/A,t)),A>0?(r[i]=Math.floor(a/A)*A,r[o]=Math.ceil(s/A)*A,this.domain(r)):A<0&&(r[i]=Math.ceil(a*A)/A,r[o]=Math.floor(s*A)/A,this.domain(r)),this},t.prototype.ticks=function(t){return void 0===t&&(t=5),function(t,e,n){var A,r,i,o,a=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];(A=e<t)&&(r=t,t=e,e=r);if(0===(o=Ll(t,e,n))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),i=new Array(r=Math.ceil(e-t+1));++a<r;)i[a]=(t+a)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),i=new Array(r=Math.ceil(t-e+1));++a<r;)i[a]=(t-a)/o;A&&i.reverse();return i}(this._domain[0],this._domain[this._domain.length-1],t||5)},t}();function Ll(t,e,n){var A=(e-t)/Math.max(0,n),r=Math.floor(Math.log(A)/Math.LN10),i=A/Math.pow(10,r);return r>=0?(i>=Ml?10:i>=Sl?5:i>=Il?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(i>=Ml?10:i>=Sl?5:i>=Il?2:1)}function Hl(t,e,n){return("ceil"===n?Math.ceil(t/e):"floor"===n?Math.floor(t/e):Math.round(t/e))*e}function Tl(t,e,n){var A=Hl(t,n,"floor"),r=Hl(e,n,"ceil");A=Fe(A,n),r=Fe(r,n);for(var i=[],o=Math.max((r-A)/(Math.pow(2,12)-1),n),a=A;a<=r;a+=o){var s=Fe(a,o);i.push(s)}return{min:A,max:r,ticks:i}}function Dl(t,e,n){var A,r=t.minLimit,i=t.maxLimit,o=t.min,a=t.max,s=t.tickCount,l=void 0===s?5:s,u=Jt(r)?Jt(e)?o:e:r,c=Jt(i)?Jt(n)?a:n:i;if(u>c&&(c=(A=[u,c])[0],u=A[1]),l<=2)return[u,c];for(var h=(c-u)/(l-1),p=[],f=0;f<l;f++)p.push(u+h*f);return p}function Pl(t){return Math.abs(t)<1e-15?t:parseFloat(t.toFixed(15))}var Ol=[1,5,2,2.5,4,3],Rl=100*Number.EPSILON;function Kl(t,e,n,A,r,i){var o=gn(e),a=$e(e,t),s=0,l=function(t,e){return(t%e+e)%e}(A,i);return(l<Rl||i-l<Rl)&&A<=0&&r>=0&&(s=1),1-a/(o-1)-n+s}function Vl(t,e,n){var A=gn(e);return 1-$e(e,t)/(A-1)-n+1}function Gl(t,e,n,A,r,i){var o=(t-1)/(i-r),a=(e-1)/(Math.max(i,A)-Math.min(n,r));return 2-Math.max(o/a,a/o)}function Nl(t,e){return t>=e?2-(t-1)/(e-1):1}function _l(t,e,n,A){var r=e-t;return 1-.5*(Math.pow(e-A,2)+Math.pow(t-n,2))/Math.pow(.1*r,2)}function Xl(t,e,n){var A=e-t;if(n>A){var r=(n-A)/2;return 1-Math.pow(r,2)/Math.pow(.1*A,2)}return 1}function Yl(t,e,n,A,r,i){void 0===n&&(n=5),void 0===A&&(A=!0),void 0===r&&(r=Ol),void 0===i&&(i=[.25,.2,.5,.05]);var o=n<0?0:Math.round(n);if(Number.isNaN(t)||Number.isNaN(e)||"number"!=typeof t||"number"!=typeof e||!o)return{min:0,max:0,ticks:[]};if(e-t<1e-15||1===o)return{min:t,max:e,ticks:[t]};if(e-t>1e148){var a=(e-t)/(x=n||5);return{min:t,max:e,ticks:Array(x).fill(null).map((function(e,n){return Pl(t+a*n)}))}}for(var s={score:-2,lmin:0,lmax:0,lstep:0},l=1;l<1/0;){for(var u=0;u<r.length;u+=1){var c=r[u],h=Vl(c,r,l);if(i[0]*h+i[1]+i[2]+i[3]<s.score){l=1/0;break}for(var p=2;p<1/0;){var f=Nl(p,o);if(i[0]*h+i[1]+i[2]*f+i[3]<s.score)break;for(var d=(e-t)/(p+1)/l/c,g=Math.ceil(Math.log10(d));g<1/0;){var y=l*c*Math.pow(10,g),v=Xl(t,e,y*(p-1));if(i[0]*h+i[1]*v+i[2]*f+i[3]<s.score)break;var m=Math.floor(e/y)*l-(p-1)*l,B=Math.ceil(t/y)*l;if(m<=B)for(var x=B-m,w=0;w<=x;w+=1){var C=(m+w)*(y/l),F=C+y*(p-1),b=y,Q=Kl(c,r,l,C,F,b),U=_l(t,e,C,F),E=Gl(p,o,t,e,C,F),M=i[0]*Q+i[1]*U+i[2]*E+1*i[3];M>s.score&&(!A||C<=t&&F>=e)&&(s.lmin=C,s.lmax=F,s.lstep=b,s.score=M)}g+=1}p+=1}}l+=1}var S=Pl(s.lmax),I=Pl(s.lmin),k=Pl(s.lstep),L=Math.floor(function(t){return Math.round(1e12*t)/1e12}((S-I)/k))+1,H=new Array(L);H[0]=Pl(I);for(u=1;u<L;u++)H[u]=Pl(H[u-1]+k);return{min:Math.min(t,ge(H)),max:Math.max(e,ye(H)),ticks:H}}function zl(t,e,n){if(void 0===n&&(n=5),t===e)return{max:e,min:t,ticks:[t]};var A=n<0?0:Math.round(n);if(0===A)return{max:e,min:t,ticks:[]};var r=(e-t)/A,i=Math.pow(10,Math.floor(Math.log10(r))),o=i;2*i-r<1.5*(r-o)&&5*i-r<2.75*(r-(o=2*i))&&10*i-r<1.5*(r-(o=5*i))&&(o=10*i);for(var a=Math.ceil(e/o),s=Math.floor(t/o),l=Math.max(a*o,e),u=Math.min(s*o,t),c=Math.floor((l-u)/o)+1,h=new Array(c),p=0;p<c;p++)h[p]=Pl(u+p*o);return{min:u,max:l,ticks:h}}function Wl(t,e){var n=t.length*e;return 1===e?t[t.length-1]:0===e?t[0]:n%1!=0?t[Math.ceil(n)-1]:t.length%2==0?(t[n-1]+t[n])/2:t[n]}function jl(t){return new Date(t).getFullYear()}function Jl(t){return new Date(t,0,1).getTime()}function ql(t){return new Date(t).getMonth()}function Zl(t,e){return new Date(t,e,1).getTime()}Fs("cat",El),Fs("time-cat",(function(t){return El(Dt({showLast:!0},t))})),Fs("wilkinson-extended",(function(t){var e=t.min,n=t.max,A=t.tickCount,r=t.nice,i=t.tickInterval,o=t.minLimit,a=t.maxLimit,s=Yl(e,n,A,r).ticks;return Jt(o)&&Jt(a)?i?Tl(e,n,i).ticks:s:Dl(t,ge(s),ye(s))})),Fs("r-pretty",(function(t){var e=t.min,n=t.max,A=t.tickCount,r=t.tickInterval,i=t.minLimit,o=t.maxLimit,a=zl(e,n,A).ticks;return Jt(i)&&Jt(o)?r?Tl(e,n,r).ticks:a:Dl(t,ge(a),ye(a))})),Fs("time",(function(t){var e=t.min,n=t.max,A=t.minTickInterval,r=t.tickInterval,i=t.tickCount;if(r)i=Math.ceil((n-e)/r);else{var o=(n-e)/(r=hl(e,n,i)[1])/i;o>1&&(r*=Math.ceil(o)),A&&r<A&&(r=A)}r=Math.max(Math.floor((n-e)/(Math.pow(2,12)-1)),r);for(var a=[],s=e;s<n+r;s+=r)a.push(s);return a})),Fs("time-pretty",(function(t){var e=t.min,n=t.max,A=t.minTickInterval,r=t.tickCount,i=t.tickInterval,o=[];i||(i=(n-e)/r,A&&i<A&&(i=A)),i=Math.max(Math.floor((n-e)/(Math.pow(2,12)-1)),i);var a=jl(e);if(i>ul)for(var s=jl(n),l=Math.ceil(i/ul),u=a;u<=s+l;u+=l)o.push(Jl(u));else if(i>ll){var c=Math.ceil(i/ll),h=ql(e),p=function(t,e){var n=jl(t),A=jl(e),r=ql(t);return 12*(A-n)+(ql(e)-r)%12}(e,n);for(u=0;u<=p+c;u+=c)o.push(Zl(a,u+h))}else if(i>sl){var f=(m=new Date(e)).getFullYear(),d=m.getMonth(),g=m.getDate(),y=Math.ceil(i/sl),v=function(t,e){return Math.ceil((e-t)/sl)}(e,n);for(u=0;u<v+y;u+=y)o.push(new Date(f,d,g+u).getTime())}else if(i>al){f=(m=new Date(e)).getFullYear(),d=m.getMonth(),y=m.getDate();var m,B=m.getHours(),x=Math.ceil(i/al),w=function(t,e){return Math.ceil((e-t)/al)}(e,n);for(u=0;u<=w+x;u+=x)o.push(new Date(f,d,y,B+u).getTime())}else if(i>ol){var C=function(t,e){return Math.ceil((e-t)/6e4)}(e,n),F=Math.ceil(i/ol);for(u=0;u<=C+F;u+=F)o.push(e+u*ol)}else{var b=i;b<il&&(b=il);var Q=Math.floor(e/il)*il,U=Math.ceil((n-e)/il),E=Math.ceil(b/il);for(u=0;u<U+E;u+=E)o.push(Q+u*il)}return o.length>=512&&console.warn("Notice: current ticks length("+o.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+i+") is too small, increase the value to solve the problem!"),o})),Fs("log",(function(t){var e,n=t.base,A=t.tickCount,r=t.min,i=t.max,o=t.values,a=yl(n,i);if(r>0)e=Math.floor(yl(n,r));else{var s=vl(o,n,i);e=Math.floor(yl(n,s))}for(var l=a-e,u=Math.ceil(l/A),c=[],h=e;h<a+u;h+=u)c.push(Math.pow(n,h));return r<=0&&c.unshift(0),c})),Fs("pow",(function(t){var e=t.exponent,n=t.tickCount,A=Math.ceil(gl(e,t.max));return zl(Math.floor(gl(e,t.min)),A,n).ticks.map((function(t){var n=t>=0?1:-1;return Math.pow(t,e)*n}))})),Fs("quantile",(function(t){var e=t.tickCount,n=t.values;if(!n||!n.length)return[];for(var A=n.slice().sort((function(t,e){return t-e})),r=[],i=0;i<e;i++){var o=i/(e-1);r.push(Wl(A,o))}return r})),Fs("d3-linear",(function(t){var e=t.min,n=t.max,A=t.tickInterval,r=t.minLimit,i=t.maxLimit,o=function(t){var e=t.min,n=t.max,A=t.nice,r=t.tickCount,i=new kl;return i.domain([e,n]),A&&i.nice(r),i.ticks(r)}(t);return Jt(r)&&Jt(i)?A?Tl(e,n,A).ticks:o:Dl(t,ge(o),ye(o))})),Ql("cat",Qs),Ql("category",Qs),Ql("identity",Ul),Ql("linear",dl),Ql("log",ml),Ql("pow",Bl),Ql("time",xl),Ql("timeCat",pl),Ql("quantize",wl),Ql("quantile",Cl);var $l={},tu=function(t){return $l[t.toLowerCase()]},eu=function(t,e){if(tu(t))throw new Error("Attribute type '".concat(t,"' existed."));$l[t.toLowerCase()]=e};eu("Color",vs),eu("Opacity",ms),eu("Position",Bs),eu("Shape",xs),eu("Size",ws);var nu=function(){function t(t){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var e=t.start,n=t.end,A=t.matrix,r=void 0===A?[1,0,0,0,1,0,0,0,1]:A,i=t.isTransposed,o=void 0!==i&&i;this.start=e,this.end=n,this.matrix=r,this.originalMatrix=Nt([],r),this.isTransposed=o}return t.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},t.prototype.update=function(t){ze(this,t),this.initial()},t.prototype.convertDim=function(t,e){var n,A=this[e],r=A.start,i=A.end;return this.isReflect(e)&&(r=(n=[i,r])[0],i=n[1]),r+t*(i-r)},t.prototype.invertDim=function(t,e){var n,A=this[e],r=A.start,i=A.end;return this.isReflect(e)&&(r=(n=[i,r])[0],i=n[1]),(t-r)/(i-r)},t.prototype.applyMatrix=function(t,e,n){void 0===n&&(n=0);var A=[t,e,n];return er(A,A,this.matrix),A},t.prototype.invertMatrix=function(t,e,n){void 0===n&&(n=0);var A=function(t,e){var n=e[0],A=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=u*o-a*l,h=-u*i+a*s,p=l*i-o*s,f=n*c+A*h+r*p;return f?(f=1/f,t[0]=c*f,t[1]=(-u*A+r*l)*f,t[2]=(a*A-r*o)*f,t[3]=h*f,t[4]=(u*n-r*s)*f,t[5]=(-a*n+r*i)*f,t[6]=p*f,t[7]=(-l*n+A*s)*f,t[8]=(o*n-A*i)*f,t):null}([0,0,0,0,0,0,0,0,0],this.matrix),r=[t,e,n];return A&&er(r,r,A),r},t.prototype.convert=function(t){var e=this.convertPoint(t),n=e.x,A=e.y,r=this.applyMatrix(n,A,1);return{x:r[0],y:r[1]}},t.prototype.invert=function(t){var e=this.invertMatrix(t.x,t.y,1);return this.invertPoint({x:e[0],y:e[1]})},t.prototype.rotate=function(t){var e=this.matrix,n=this.center;return hr(e,e,[-n.x,-n.y]),pr(e,e,t),hr(e,e,[n.x,n.y]),this},t.prototype.reflect=function(t){return"x"===t?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},t.prototype.scale=function(t,e){var n=this.matrix,A=this.center;return hr(n,n,[-A.x,-A.y]),fr(n,n,[t,e]),hr(n,n,[A.x,A.y]),this},t.prototype.translate=function(t,e){var n=this.matrix;return hr(n,n,[t,e]),this},t.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},t.prototype.getCenter=function(){return this.center},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRadius=function(){return this.radius},t.prototype.isReflect=function(t){return"x"===t?this.isReflectX:this.isReflectY},t.prototype.resetMatrix=function(t){this.matrix=t||Nt([],this.originalMatrix)},t}(),Au=function(t){function e(e){var n=t.call(this,e)||this;return n.isRect=!0,n.type="cartesian",n.initial(),n}return Tt(e,t),e.prototype.initial=function(){t.prototype.initial.call(this);var e=this.start,n=this.end;this.x={start:e.x,end:n.x},this.y={start:e.y,end:n.y}},e.prototype.convertPoint=function(t){var e,n=t.x,A=t.y;return this.isTransposed&&(n=(e=[A,n])[0],A=e[1]),{x:this.convertDim(n,"x"),y:this.convertDim(A,"y")}},e.prototype.invertPoint=function(t){var e,n=this.invertDim(t.x,"x"),A=this.invertDim(t.y,"y");return this.isTransposed&&(n=(e=[A,n])[0],A=e[1]),{x:n,y:A}},e}(nu),ru=function(t){function e(e){var n=t.call(this,e)||this;n.isHelix=!0,n.type="helix";var A=e.startAngle,r=void 0===A?1.25*Math.PI:A,i=e.endAngle,o=void 0===i?7.25*Math.PI:i,a=e.innerRadius,s=void 0===a?0:a,l=e.radius;return n.startAngle=r,n.endAngle=o,n.innerRadius=s,n.radius=l,n.initial(),n}return Tt(e,t),e.prototype.initial=function(){t.prototype.initial.call(this);var e=(this.endAngle-this.startAngle)/(2*Math.PI)+1,n=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(n*=this.radius),this.d=Math.floor(n*(1-this.innerRadius)/e),this.a=this.d/(2*Math.PI),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*n,end:this.innerRadius*n+.99*this.d}},e.prototype.convertPoint=function(t){var e,n=t.x,A=t.y;this.isTransposed&&(n=(e=[A,n])[0],A=e[1]);var r=this.convertDim(n,"x"),i=this.a*r,o=this.convertDim(A,"y");return{x:this.center.x+Math.cos(r)*(i+o),y:this.center.y+Math.sin(r)*(i+o)}},e.prototype.invertPoint=function(t){var e,n=this.d+this.y.start,A=Ar([0,0],[t.x,t.y],[this.center.x,this.center.y]),r=yr(A,[1,0],!0),i=r*this.a;sr(A)<i&&(i=sr(A)),r=2*Math.floor((sr(A)-i)/n)*Math.PI+r;var o=this.a*r,a=sr(A)-o;a=Ue(a,0)?0:a;var s=this.invertDim(r,"x"),l=this.invertDim(a,"y");return s=Ue(s,0)?0:s,l=Ue(l,0)?0:l,this.isTransposed&&(s=(e=[l,s])[0],l=e[1]),{x:s,y:l}},e}(nu),iu=function(t){function e(e){var n=t.call(this,e)||this;n.isPolar=!0,n.type="polar";var A=e.startAngle,r=void 0===A?-Math.PI/2:A,i=e.endAngle,o=void 0===i?3*Math.PI/2:i,a=e.innerRadius,s=void 0===a?0:a,l=e.radius;return n.startAngle=r,n.endAngle=o,n.innerRadius=s,n.radius=l,n.initial(),n}return Tt(e,t),e.prototype.initial=function(){for(t.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=2*Math.PI;var e,n=this.getOneBox(),A=n.maxX-n.minX,r=n.maxY-n.minY,i=Math.abs(n.minX)/A,o=Math.abs(n.minY)/r;this.height/r>this.width/A?(e=this.width/A,this.circleCenter={x:this.center.x-(.5-i)*this.width,y:this.center.y-(.5-o)*e*r}):(e=this.height/r,this.circleCenter={x:this.center.x-(.5-i)*e*A,y:this.center.y-(.5-o)*this.height}),this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=e*this.radius:(this.radius<=0||this.radius>e)&&(this.polarRadius=e):this.polarRadius=e,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},e.prototype.getRadius=function(){return this.polarRadius},e.prototype.convertPoint=function(t){var e,n=this.getCenter(),A=t.x,r=t.y;return this.isTransposed&&(A=(e=[r,A])[0],r=e[1]),A=this.convertDim(A,"x"),r=this.convertDim(r,"y"),{x:n.x+Math.cos(A)*r,y:n.y+Math.sin(A)*r}},e.prototype.invertPoint=function(t){var e,n=this.getCenter(),A=[t.x-n.x,t.y-n.y],r=this.startAngle,i=this.endAngle;this.isReflect("x")&&(r=(e=[i,r])[0],i=e[1]);var o=[1,0,0,0,1,0,0,0,1];pr(o,o,r);var a=[1,0,0];er(a,a,o);var s=yr([a[0],a[1]],A,i<r);Ue(s,2*Math.PI)&&(s=0);var l=sr(A),u=s/(i-r);u=i-r>0?u:-u;var c=this.invertDim(l,"y"),h={x:0,y:0};return h.x=this.isTransposed?c:u,h.y=this.isTransposed?u:c,h},e.prototype.getCenter=function(){return this.circleCenter},e.prototype.getOneBox=function(){var t=this.startAngle,e=this.endAngle;if(Math.abs(e-t)>=2*Math.PI)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var n=[0,Math.cos(t),Math.cos(e)],A=[0,Math.sin(t),Math.sin(e)],r=Math.min(t,e);r<Math.max(t,e);r+=Math.PI/18)n.push(Math.cos(r)),A.push(Math.sin(r));return{minX:Math.min.apply(Math,n),maxX:Math.max.apply(Math,n),minY:Math.min.apply(Math,A),maxY:Math.max.apply(Math,A)}},e}(nu),ou={},au=function(t,e){ou[t.toLowerCase()]=e};function su(t,e,n){var A=new HA(e,n);A.target=t,A.propagationPath.push(t),t.emitDelegation(e,A);for(var r=t.getParent();r;)r.emitDelegation(e,A),A.propagationPath.push(r),r=r.getParent()}au("rect",Au),au("cartesian",Au),au("polar",iu),au("helix",ru);var lu=[1,0,0,0,1,0,0,0,1];function uu(t,e,n){return void 0===n&&(n=lu),e?gr(n,[["t",-t.x,-t.y],["r",e],["t",t.x,t.y]]):null}function cu(t,e){return t.x||t.y?gr(e||lu,[["t",t.x,t.y]]):null}function hu(t,e){var n=[0,0];return function(t,e,n){var A=e[0],r=e[1];t[0]=n[0]*A+n[3]*r+n[6],t[1]=n[1]*A+n[4]*r+n[7]}(n,e,t),n}function pu(t,e,n,A){if(e){var r=uu({x:n,y:A},e,t.getMatrix());t.setMatrix(r)}}function fu(t,e,n){var A=cu({x:e,y:n});t.attr("matrix",A)}function du(t){var e=0,n=0,A=0,r=0;return be(t)?e=n=A=r=t:qt(t)&&(e=t[0],A=Jt(t[1])?t[0]:t[1],r=Jt(t[2])?t[0]:t[2],n=Jt(t[3])?A:t[3]),[e,A,r,n]}function gu(t){for(var e=t.childNodes,n=e.length-1;n>=0;n--)t.removeChild(e[n])}function yu(t){var e=t.start,n=t.end,A=Math.min(e.x,n.x),r=Math.min(e.y,n.y),i=Math.max(e.x,n.x),o=Math.max(e.y,n.y);return{x:A,y:r,minX:A,minY:r,maxX:i,maxY:o,width:i-A,height:o-r}}function vu(t,e,n,A){var r=t+n,i=e+A;return{x:t,y:e,width:n,height:A,minX:t,minY:e,maxX:isNaN(r)?0:r,maxY:isNaN(i)?0:i}}function mu(t,e,n){return(1-n)*t+e*n}function Bu(t,e,n){return{x:t.x+Math.cos(n)*e,y:t.y+Math.sin(n)*e}}var xu=function(t,e,n){return void 0===n&&(n=Math.pow(Number.EPSILON,.5)),[t,e].includes(1/0)?Math.abs(t)===Math.abs(e):Math.abs(t-e)<n};function wu(t){var e,n,A,r,i,o=t.getClip(),a=o&&o.getBBox();if(t.isGroup()){var s=1/0,l=-1/0,u=1/0,c=-1/0,h=t.getChildren();h.length>0?$t(h,(function(t){if(t.get("visible")){if(t.isGroup()&&0===t.get("children").length)return!0;var e=wu(t),n=t.applyToMatrix([e.minX,e.minY,1]),A=t.applyToMatrix([e.minX,e.maxY,1]),r=t.applyToMatrix([e.maxX,e.minY,1]),i=t.applyToMatrix([e.maxX,e.maxY,1]),o=Math.min(n[0],A[0],r[0],i[0]),a=Math.max(n[0],A[0],r[0],i[0]),h=Math.min(n[1],A[1],r[1],i[1]),p=Math.max(n[1],A[1],r[1],i[1]);o<s&&(s=o),a>l&&(l=a),h<u&&(u=h),p>c&&(c=p)}})):(s=0,l=0,u=0,c=0),e=vu(s,u,l-s,c-u)}else e=t.getBBox();return a?(n=e,A=a,r=Math.max(n.minX,A.minX),i=Math.max(n.minY,A.minY),vu(r,i,Math.min(n.maxX,A.maxX)-r,Math.min(n.maxY,A.maxY)-i)):e}function Cu(t){return t+"px"}function Fu(t,e,n,A){var r,i,o,a,s=A/(r=t,o=(i=e).x-r.x,a=i.y-r.y,Math.sqrt(o*o+a*a)),l=0;return"start"===n?l=0-s:"end"===n&&(l=1+s),{x:mu(t.x,e.x,l),y:mu(t.y,e.y,l)}}var bu={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},Qu=function(t){function e(e){var n=t.call(this,e)||this;return n.initCfg(),n}return Tt(e,t),e.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},e.prototype.clear=function(){},e.prototype.update=function(t){var e=this,n=this.get("defaultCfg")||{};$t(t,(function(t,A){var r=t;e.get(A)!==t&&(Zt(t)&&n[A]&&(r=Ze({},n[A],t)),e.set(A,r))})),this.updateInner(t),this.afterUpdate(t)},e.prototype.updateInner=function(t){},e.prototype.afterUpdate=function(t){ke(t,"visible")&&(t.visible?this.show():this.hide()),ke(t,"capture")&&this.setCapture(t.capture)},e.prototype.getLayoutBBox=function(){return this.getBBox()},e.prototype.getLocationType=function(){return this.get("locationType")},e.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},e.prototype.setOffset=function(t,e){this.update({offsetX:t,offsetY:e})},e.prototype.setLocation=function(t){var e=Dt({},t);this.update(e)},e.prototype.getLocation=function(){var t=this,e={},n=this.get("locationType");return $t(bu[n],(function(n){e[n]=t.get(n)})),e},e.prototype.isList=function(){return!1},e.prototype.isSlider=function(){return!1},e.prototype.init=function(){},e.prototype.initCfg=function(){var t=this;$t(this.get("defaultCfg"),(function(e,n){var A=t.get(n);if(Zt(A)){var r=Ze({},e,A);t.set(n,r)}}))},e}(RA),Uu="update_status",Eu=["visible","tip","delegateObject"],Mu=["container","group","shapesMap","isRegister","isUpdating","destroyed"],Su=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Dt(Dt({},e),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},e.prototype.remove=function(){this.clear(),this.get("group").remove()},e.prototype.clear=function(){this.get("group").clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},e.prototype.getChildComponentById=function(t){var e=this.getElementById(t);return e&&e.get("component")},e.prototype.getElementById=function(t){return this.get("shapesMap")[t]},e.prototype.getElementByLocalId=function(t){var e=this.getElementId(t);return this.getElementById(e)},e.prototype.getElementsByName=function(t){var e=[];return $t(this.get("shapesMap"),(function(n){n.get("name")===t&&e.push(n)})),e},e.prototype.getContainer=function(){return this.get("container")},e.prototype.updateInner=function(t){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},e.prototype.render=function(){var t=this.get("offScreenGroup");t||(t=this.offScreenRender());var e=this.get("group");this.updateElements(t,e),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},e.prototype.show=function(){this.get("group").show(),this.set("visible",!0)},e.prototype.hide=function(){this.get("group").hide(),this.set("visible",!1)},e.prototype.setCapture=function(t){this.get("group").set("capture",t),this.set("capture",t)},e.prototype.destroy=function(){this.removeEvent(),this.remove(),t.prototype.destroy.call(this)},e.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},e.prototype.getLayoutBBox=function(){var t=this.get("group"),e=this.getInnerLayoutBBox(),n=t.getTotalMatrix();return n&&(e=function(t,e){var n=hu(t,[e.minX,e.minY]),A=hu(t,[e.maxX,e.minY]),r=hu(t,[e.minX,e.maxY]),i=hu(t,[e.maxX,e.maxY]),o=Math.min(n[0],A[0],r[0],i[0]),a=Math.max(n[0],A[0],r[0],i[0]),s=Math.min(n[1],A[1],r[1],i[1]),l=Math.max(n[1],A[1],r[1],i[1]);return{x:o,y:s,minX:o,minY:s,maxX:a,maxY:l,width:a-o,height:l-s}}(n,e)),e},e.prototype.on=function(t,e,n){return this.get("group").on(t,e,n),this},e.prototype.off=function(t,e){var n=this.get("group");return n&&n.off(t,e),this},e.prototype.emit=function(t,e){this.get("group").emit(t,e)},e.prototype.init=function(){t.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},e.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},e.prototype.delegateEmit=function(t,e){var n=this.get("group");e.target=n,n.emit(t,e),su(n,t,e)},e.prototype.createOffScreenGroup=function(){return new(this.get("group").getGroupBase())({delegateObject:this.getDelegateObject()})},e.prototype.applyOffset=function(){var t=this.get("offsetX"),e=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t,y:e})},e.prototype.initGroup=function(){var t=this.get("container");this.set("group",t.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},e.prototype.offScreenRender=function(){this.clearOffScreenCache();var t=this.createOffScreenGroup();return this.renderInner(t),this.set("offScreenGroup",t),this.set("offScreenBBox",wu(t)),t},e.prototype.addGroup=function(t,e){this.appendDelegateObject(t,e);var n=t.addGroup(e);return this.get("isRegister")&&this.registerElement(n),n},e.prototype.addShape=function(t,e){this.appendDelegateObject(t,e);var n=t.addShape(e);return this.get("isRegister")&&this.registerElement(n),n},e.prototype.addComponent=function(t,e){var n=e.id,A=e.component,r=Pt(e,["id","component"]),i=new A(Dt(Dt({},r),{id:n,container:t,updateAutoRender:this.get("updateAutoRender")}));return i.init(),i.render(),this.get("isRegister")&&this.registerElement(i.get("group")),i},e.prototype.initEvent=function(){},e.prototype.removeEvent=function(){this.get("group").off()},e.prototype.getElementId=function(t){return this.get("id")+"-"+this.get("name")+"-"+t},e.prototype.registerElement=function(t){var e=t.get("id");this.get("shapesMap")[e]=t},e.prototype.unregisterElement=function(t){var e=t.get("id");delete this.get("shapesMap")[e]},e.prototype.moveElementTo=function(t,e){var n=cu(e);t.attr("matrix",n)},e.prototype.addAnimation=function(t,e,n){var A=e.attr("opacity");Jt(A)&&(A=1),e.attr("opacity",0),e.animate({opacity:A},n)},e.prototype.removeAnimation=function(t,e,n){e.animate({opacity:0},n)},e.prototype.updateAnimation=function(t,e,n,A){e.animate(n,A)},e.prototype.updateElements=function(t,e){var n,A=this,r=this.get("animate"),i=this.get("animateOption");$t(t.getChildren().slice(0),(function(t){var o,a,s=t.get("id"),l=A.getElementById(s),u=t.get("name");if(l)if(t.get("isComponent")){var c=t.get("component"),h=l.get("component"),p=ln(c.cfg,(o=te(c.cfg),void 0===(a=Mu)&&(a=[]),Yt(o,(function(t){return!Xt(a,t)}))));h.update(p),l.set(Uu,"update")}else{var f=A.getReplaceAttrs(l,t);r&&i.update?A.updateAnimation(u,l,f,i.update):l.attr(f),t.isGroup()&&A.updateElements(t,l),$t(Eu,(function(e){l.set(e,t.get(e))})),function(t,e){if(t.getClip()||e.getClip()){var n=e.getClip();if(n){var A={type:n.get("type"),attrs:n.attr()};t.setClip(A)}else t.setClip(null)}}(l,t),n=l,l.set(Uu,"update")}else{e.add(t);var d=e.getChildren();if(d.splice(d.length-1,1),n){var g=d.indexOf(n);d.splice(g+1,0,t)}else d.unshift(t);if(A.registerElement(t),t.set(Uu,"add"),t.get("isComponent"))(c=t.get("component")).set("container",e);else t.isGroup()&&A.registerNewGroup(t);if(n=t,r){var y=A.get("isInit")?i.appear:i.enter;y&&A.addAnimation(u,t,y)}}}))},e.prototype.clearUpdateStatus=function(t){$t(t.getChildren(),(function(t){t.set(Uu,null)}))},e.prototype.clearOffScreenCache=function(){var t=this.get("offScreenGroup");t&&t.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},e.prototype.getDelegateObject=function(){var t;return(t={})[this.get("name")]=this,t.component=this,t},e.prototype.appendDelegateObject=function(t,e){var n=t.get("delegateObject");e.delegateObject||(e.delegateObject={}),ze(e.delegateObject,n)},e.prototype.getReplaceAttrs=function(t,e){var n=t.attr(),A=e.attr();return $t(n,(function(t,e){void 0===A[e]&&(A[e]=void 0)})),A},e.prototype.registerNewGroup=function(t){var e=this;$t(t.getChildren(),(function(t){e.registerElement(t),t.set(Uu,"add"),t.isGroup()&&e.registerNewGroup(t)}))},e.prototype.deleteElements=function(){var t=this,e=this.get("shapesMap"),n=[];$t(e,(function(t,e){!t.get(Uu)||t.destroyed?n.push([e,t]):t.set(Uu,null)}));var A=this.get("animate"),r=this.get("animateOption");$t(n,(function(n){var i=n[0],o=n[1];if(!o.destroyed){var a=o.get("name");if(A&&r.leave){var s=ze({callback:function(){t.removeElement(o)}},r.leave);t.removeAnimation(a,o,s)}else t.removeElement(o)}delete e[i]}))},e.prototype.removeElement=function(t){if(t.get("isGroup")){var e=t.get("component");e&&e.destroy()}t.remove()},e}(Qu),Iu="…";function ku(t,e){return t.charCodeAt(e)>0&&t.charCodeAt(e)<128?1:2}var Lu="…",Hu=2,Tu=400;function Du(t){if(t.length>Tu)return function(t){for(var e=t.map((function(t){var e=t.attr("text");return Jt(e)?"":""+e})),n=0,A=0,r=0;r<e.length;r+=1){for(var i=0,o=0;o<=e[r].length;o+=1){var a=e[r].charCodeAt(o);i+=a>=19968&&a<=40869?2:1}i>n&&(n=i,A=r)}return t[A].getBBox().width}(t);var e=0;return $t(t,(function(t){var n=t.getBBox().width;e<n&&(e=n)})),e}function Pu(t,e,n,A){var r;void 0===A&&(A="tail");var i=null!==(r=e.attr("text"))&&void 0!==r?r:"";if("tail"===A){var o=ln(e.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),a=mn(i,n,o,"…");return i!==a?(e.attr("text",a),e.set("tip",i),!0):(e.set("tip",null),!1)}var s=function(t,e){var n=e.getCanvasBBox();return t?n.width:n.height}(t,e),l=function(t){for(var e=0,n=0;n<t.length;n++)e+=ku(t,n);return e}(i),u=!1;if(n<s){var c=Math.floor(n/s*l)-Hu,h=void 0;h=c>=0?function(t,e,n){void 0===n&&(n="tail");var A=t.length,r="";if("tail"===n){for(var i=0,o=0;i<e&&i+ku(t,o)<=e;)r+=t[o],i+=ku(t,o),o++;r+=Iu}else if("head"===n){for(i=0,o=A-1;i<e&&i+ku(t,o)<=e;)r+=t[o],i+=ku(t,o),o--;r=Iu+r}else{for(var a="",s="",l=(i=0,0),u=A-1;i<e;){var c=ku(t,l),h=!1;c+i<=e&&(a+=t[l],l++,i+=c,h=!0);var p=ku(t,u);if(p+i<=e&&(s=t[u]+s,i+=p,u--,h=!0),!h)break}r=a+Iu+s}return r}(i,c,A):Lu,h&&(e.attr("text",h),u=!0)}return u?e.set("tip",i):e.set("tip",null),u}function Ou(t,e){var n=e.x,A=e.y,r=e.content,i=e.style,o=e.id,a=e.name,s=e.rotate,l=e.maxLength,u=e.autoEllipsis,c=e.isVertical,h=e.ellipsisPosition,p=e.background,f=t.addGroup({id:o+"-group",name:a+"-group",attrs:{x:n,y:A}}),d=f.addShape({type:"text",id:o,name:a,attrs:Dt({x:0,y:0,text:r},i)}),g=du(on(p,"padding",0));l&&u&&Pu(!c,d,l-(g[1]+g[3]),h);if(p){var y=on(p,"style",{}),v=d.getCanvasBBox(),m=v.minX,B=v.minY,x=v.width,w=v.height;f.addShape("rect",{id:o+"-bg",name:o+"-bg",attrs:Dt({x:m-g[3],y:B-g[0],width:x+g[1]+g[3],height:w+g[0]+g[2]},y)}).toBack()}fu(f,n,A),pu(f,s,n,A)}const Ru={fontFamily:'\n  BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",\n  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",\n  SimSun, "sans-serif"',textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4,descriptionIconStroke:"#fff",descriptionIconFill:"rgba(58, 73, 101, .25)"};var Ku=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Dt(Dt({},e),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:Ru.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:Ru.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:Ru.lineColor,lineWidth:1}}}})},e.prototype.renderInner=function(t){this.renderLine(t),this.get("text")&&this.renderLabel(t)},e.prototype.renderLine=function(t){var e=this.get("start"),n=this.get("end"),A=this.get("style");this.addShape(t,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:Dt({x1:e.x,y1:e.y,x2:n.x,y2:n.y},A)})},e.prototype.getLabelPoint=function(t,e,n){var A;return((A="start"===n?0:"center"===n?.5:pe(n)&&-1!==n.indexOf("%")?parseInt(n,10)/100:be(n)?n:1)>1||A<0)&&(A=1),{x:mu(t.x,e.x,A),y:mu(t.y,e.y,A)}},e.prototype.renderLabel=function(t){var e=this.get("text"),n=this.get("start"),A=this.get("end"),r=e.position,i=e.content,o=e.style,a=e.offsetX,s=e.offsetY,l=e.autoRotate,u=e.maxLength,c=e.autoEllipsis,h=e.ellipsisPosition,p=e.background,f=e.isVertical,d=void 0!==f&&f,g=this.getLabelPoint(n,A,r),y=g.x+a,v=g.y+s,m={id:this.getElementId("line-text"),name:"annotation-line-text",x:y,y:v,content:i,style:o,maxLength:u,autoEllipsis:c,ellipsisPosition:h,background:p,isVertical:d};if(l){var B=[A.x-n.x,A.y-n.y];m.rotate=Math.atan2(B[1],B[0])}Ou(t,m)},e}(Su),Vu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Dt(Dt({},e),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:Ru.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:Ru.fontFamily}}})},e.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},e.prototype.renderInner=function(t){var e=this.getLocation(),n=e.x,A=e.y,r=this.get("content"),i=this.get("style");Ou(t,{id:this.getElementId("text"),name:this.get("name")+"-text",x:n,y:A,content:r,style:i,maxLength:this.get("maxLength"),autoEllipsis:this.get("autoEllipsis"),isVertical:this.get("isVertical"),ellipsisPosition:this.get("ellipsisPosition"),background:this.get("background"),rotate:this.get("rotate")})},e.prototype.resetLocation=function(){var t=this.getElementByLocalId("text-group");if(t){var e=this.getLocation(),n=e.x,A=e.y,r=this.get("rotate");fu(t,n,A),pu(t,r,n,A)}},e}(Su),Gu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Dt(Dt({},e),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:3*Math.PI/2,style:{stroke:"#999",lineWidth:1}})},e.prototype.renderInner=function(t){this.renderArc(t)},e.prototype.getArcPath=function(){var t=this.getLocation(),e=t.center,n=t.radius,A=t.startAngle,r=t.endAngle,i=Bu(e,n,A),o=Bu(e,n,r),a=r-A>Math.PI?1:0,s=[["M",i.x,i.y]];if(r-A==2*Math.PI){var l=Bu(e,n,A+Math.PI);s.push(["A",n,n,0,a,1,l.x,l.y]),s.push(["A",n,n,0,a,1,o.x,o.y])}else s.push(["A",n,n,0,a,1,o.x,o.y]);return s},e.prototype.renderArc=function(t){var e=this.getArcPath(),n=this.get("style");this.addShape(t,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:Dt({path:e},n)})},e}(Su),Nu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Dt(Dt({},e),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:Ru.regionColor,opacity:.4}}})},e.prototype.renderInner=function(t){this.renderRegion(t)},e.prototype.renderRegion=function(t){var e=this.get("start"),n=this.get("end"),A=this.get("style"),r=yu({start:e,end:n});this.addShape(t,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:Dt({x:r.x,y:r.y,width:r.width,height:r.height},A)})},e}(Su),_u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Dt(Dt({},e),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},e.prototype.renderInner=function(t){this.renderImage(t)},e.prototype.getImageAttrs=function(){var t=this.get("start"),e=this.get("end"),n=this.get("style"),A=yu({start:t,end:e}),r=this.get("src");return Dt({x:A.x,y:A.y,img:r,width:A.width,height:A.height},n)},e.prototype.renderImage=function(t){this.addShape(t,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},e}(Su),Xu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Dt(Dt({},e),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:Ru.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:Ru.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:Ru.fontFamily}}}})},e.prototype.renderInner=function(t){on(this.get("line"),"display")&&this.renderLine(t),on(this.get("text"),"display")&&this.renderText(t),on(this.get("point"),"display")&&this.renderPoint(t),this.get("autoAdjust")&&this.autoAdjust(t)},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},e.prototype.renderPoint=function(t){var e=this.getShapeAttrs().point;this.addShape(t,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:e})},e.prototype.renderLine=function(t){var e=this.getShapeAttrs().line;this.addShape(t,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:e})},e.prototype.renderText=function(t){var e=this.getShapeAttrs().text,n=e.x,A=e.y,r=e.text,i=Pt(e,["x","y","text"]),o=this.get("text"),a=o.background,s=o.maxLength,l=o.autoEllipsis,u=o.isVertival,c=o.ellipsisPosition;Ou(t,{x:n,y:A,id:this.getElementId("text"),name:"annotation-text",content:r,style:i,background:a,maxLength:s,autoEllipsis:l,isVertival:u,ellipsisPosition:c})},e.prototype.autoAdjust=function(t){var e=this.get("direction"),n=this.get("x"),A=this.get("y"),r=on(this.get("line"),"length",0),i=this.get("coordinateBBox"),o=t.getBBox(),a=o.minX,s=o.maxX,l=o.minY,u=o.maxY,c=t.findById(this.getElementId("text-group")),h=t.findById(this.getElementId("text")),p=t.findById(this.getElementId("line"));if(i&&c){var f=c.attr("x"),d=c.attr("y"),g=h.getCanvasBBox(),y=g.width,v=g.height,m=0,B=0;if(n+a<=i.minX)if("leftward"===e)m=1;else{var x=i.minX-(n+a);f=c.attr("x")+x}else if(n+s>=i.maxX)if("rightward"===e)m=-1;else{x=n+s-i.maxX;f=c.attr("x")-x}if(m&&(p&&p.attr("path",[["M",0,0],["L",r*m,0]]),f=(r+2+y)*m),A+l<=i.minY)if("upward"===e)B=1;else{x=i.minY-(A+l);d=c.attr("y")+x}else if(A+u>=i.maxY)if("downward"===e)B=-1;else{x=A+u-i.maxY;d=c.attr("y")-x}B&&(p&&p.attr("path",[["M",0,0],["L",0,r*B]]),d=(r+2+v)*B),f===c.attr("x")&&d===c.attr("y")||fu(c,f,d)}},e.prototype.getShapeAttrs=function(){var t=on(this.get("line"),"display"),e=on(this.get("point"),"style",{}),n=on(this.get("line"),"style",{}),A=on(this.get("text"),"style",{}),r=this.get("direction"),i=t?on(this.get("line"),"length",0):0,o=0,a=0,s="top",l="start";switch(r){case"upward":a=-1,s="bottom";break;case"downward":a=1,s="top";break;case"leftward":o=-1,l="end";break;case"rightward":o=1,l="start"}return{point:Dt({x:0,y:0},e),line:Dt({path:[["M",0,0],["L",i*o,i*a]]},n),text:Dt({x:(i+2)*o,y:(i+2)*a,text:on(this.get("text"),"content",""),textBaseline:s,textAlign:l},A)}},e}(Su),Yu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Dt(Dt({},e),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:Ru.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:Ru.textColor,fontFamily:Ru.fontFamily}}}})},e.prototype.renderInner=function(t){var e=on(this.get("region"),"style",{});on(this.get("text"),"style",{});var n=this.get("lineLength")||0,A=this.get("points");if(A.length){var r=function(t){var e=t.map((function(t){return t.x})),n=t.map((function(t){return t.y})),A=Math.min.apply(Math,e),r=Math.min.apply(Math,n),i=Math.max.apply(Math,e),o=Math.max.apply(Math,n);return{x:A,y:r,minX:A,minY:r,maxX:i,maxY:o,width:i-A,height:o-r}}(A),i=[];i.push(["M",A[0].x,r.minY-n]),A.forEach((function(t){i.push(["L",t.x,t.y])})),i.push(["L",A[A.length-1].x,A[A.length-1].y-n]),this.addShape(t,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:Dt({path:i},e)}),Ou(t,Dt({id:this.getElementId("text"),name:"annotation-text",x:(r.minX+r.maxX)/2,y:r.minY-n},this.get("text")))}},e}(Su),zu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Dt(Dt({},e),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},e.prototype.renderInner=function(t){var e=this,n=this.get("start"),A=this.get("end"),r=this.addGroup(t,{id:this.getElementId("region-filter"),capture:!1});$t(this.get("shapes"),(function(t,n){var A=t.get("type"),i=We(t.attr());e.adjustShapeAttrs(i),e.addShape(r,{id:e.getElementId("shape-"+A+"-"+n),capture:!1,type:A,attrs:i})}));var i=yu({start:n,end:A});r.setClip({type:"rect",attrs:{x:i.minX,y:i.minY,width:i.width,height:i.height}})},e.prototype.adjustShapeAttrs=function(t){var e=this.get("color");t.fill&&(t.fill=t.fillStyle=e),t.stroke=t.strokeStyle=e},e}(Su),Wu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Dt(Dt({},e),{name:"annotation",type:"shape",draw:dn})},e.prototype.renderInner=function(t){var e=this.get("render");jt(e)&&e(t)},e}(Su),ju=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Dt(Dt({},e),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},e.prototype.getContainer=function(){return this.get("container")},e.prototype.show=function(){this.get("container").style.display="",this.set("visible",!0)},e.prototype.hide=function(){this.get("container").style.display="none",this.set("visible",!1)},e.prototype.setCapture=function(t){var e=t?"auto":"none";this.getContainer().style.pointerEvents=e,this.set("capture",t)},e.prototype.getBBox=function(){var t=this.getContainer();return vu(parseFloat(t.style.left)||0,parseFloat(t.style.top)||0,t.clientWidth,t.clientHeight)},e.prototype.clear=function(){gu(this.get("container"))},e.prototype.destroy=function(){this.removeEvent(),this.removeDom(),t.prototype.destroy.call(this)},e.prototype.init=function(){t.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},e.prototype.initCapture=function(){this.setCapture(this.get("capture"))},e.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},e.prototype.initDom=function(){},e.prototype.initContainer=function(){var t=this.get("container");if(Jt(t)){t=this.createDom();var e=this.get("parent");pe(e)&&(e=document.getElementById(e),this.set("parent",e)),e.appendChild(t),this.get("containerId")&&t.setAttribute("id",this.get("containerId")),this.set("container",t)}else pe(t)&&(t=document.getElementById(t),this.set("container",t));this.get("parent")||this.set("parent",t.parentNode)},e.prototype.resetStyles=function(){var t=this.get("domStyles"),e=this.get("defaultStyles");t=t?Ze({},e,t):e,this.set("domStyles",t)},e.prototype.applyStyles=function(){var t=this.get("domStyles");if(t){var e=this.getContainer();this.applyChildrenStyles(e,t);var n,A=this.get("containerClassName");if(A&&(n=A,e.className.match(new RegExp("(\\s|^)"+n+"(\\s|$)"))))qn(e,t[A])}},e.prototype.applyChildrenStyles=function(t,e){$t(e,(function(e,n){$t(t.getElementsByClassName(n),(function(t){qn(t,e)}))}))},e.prototype.applyStyle=function(t,e){qn(e,this.get("domStyles")[t])},e.prototype.createDom=function(){return zn(this.get("containerTpl"))},e.prototype.initEvent=function(){},e.prototype.removeDom=function(){var t=this.get("container");t&&t.parentNode&&t.parentNode.removeChild(t)},e.prototype.removeEvent=function(){},e.prototype.updateInner=function(t){ke(t,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},e.prototype.resetPosition=function(){},e}(Qu),Ju=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Dt(Dt({},e),{name:"annotation",type:"html",locationType:"point",x:0,y:0,containerTpl:'<div class="g2-html-annotation" style="position:absolute"></div>',alignX:"left",alignY:"top",html:"",zIndex:7})},e.prototype.render=function(){var t=this.getContainer(),e=this.get("html");gu(t);var n=jt(e)?e(t):e;if(Xe(n))t.appendChild(n);else if(pe(n)||be(n)){var A=zn(""+n);A&&t.appendChild(A)}this.resetPosition()},e.prototype.resetPosition=function(){var t=this.getContainer(),e=this.getLocation(),n=e.x,A=e.y,r=this.get("alignX"),i=this.get("alignY"),o=this.get("offsetX"),a=this.get("offsetY"),s=Jn(t),l=jn(t),u={x:n,y:A};"middle"===r?u.x-=Math.round(s/2):"right"===r&&(u.x-=Math.round(s)),"middle"===i?u.y-=Math.round(l/2):"bottom"===i&&(u.y-=Math.round(l)),o&&(u.x+=o),a&&(u.y+=a),qn(t,{position:"absolute",left:u.x+"px",top:u.y+"px",zIndex:this.get("zIndex")})},e}(ju);const qu=Object.freeze(Object.defineProperty({__proto__:null,Arc:Gu,DataMarker:Xu,DataRegion:Yu,Html:Ju,Image:_u,Line:Ku,Region:Nu,RegionFilter:zu,Shape:Wu,Text:Vu},Symbol.toStringTag,{value:"Module"}));function Zu(t,e,n){var A=e+"Style",r=null;return $t(n,(function(e,n){t[n]&&e[A]&&(r||(r={}),ze(r,e[A]))})),r}var $u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Dt(Dt({},e),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},optimize:{},defaultCfg:{line:{style:{lineWidth:1,stroke:Ru.lineColor}},tickLine:{style:{lineWidth:1,stroke:Ru.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:Ru.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:Ru.textColor,fontFamily:Ru.fontFamily,fontWeight:"normal"},offset:10,offsetX:0,offsetY:0},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:Ru.textColor,textBaseline:"middle",fontFamily:Ru.fontFamily,textAlign:"center"},iconStyle:{fill:Ru.descriptionIconFill,stroke:Ru.descriptionIconStroke},description:""},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:Ru.uncheckedColor}}},optimize:{enable:!0,threshold:400}},theme:{}})},e.prototype.renderInner=function(t){this.get("line")&&this.drawLine(t),this.drawTicks(t),this.get("title")&&this.drawTitle(t)},e.prototype.isList=function(){return!0},e.prototype.getItems=function(){return this.get("ticks")},e.prototype.setItems=function(t){this.update({ticks:t})},e.prototype.updateItem=function(t,e){ze(t,e),this.clear(),this.render()},e.prototype.clearItems=function(){var t=this.getElementByLocalId("label-group");t&&t.clear()},e.prototype.setItemState=function(t,e,n){t[e]=n,this.updateTickStates(t)},e.prototype.hasState=function(t,e){return!!t[e]},e.prototype.getItemStates=function(t){var e=this.get("tickStates"),n=[];return $t(e,(function(e,A){t[A]&&n.push(A)})),n},e.prototype.clearItemsState=function(t){var e=this;$t(this.getItemsByState(t),(function(n){e.setItemState(n,t,!1)}))},e.prototype.getItemsByState=function(t){var e=this,n=this.getItems();return Yt(n,(function(n){return e.hasState(n,t)}))},e.prototype.getSidePoint=function(t,e){var n=this.getSideVector(e,t);return{x:t.x+n[0],y:t.y+n[1]}},e.prototype.getTextAnchor=function(t){var e;return Ue(t[0],0)?e="center":t[0]>0?e="start":t[0]<0&&(e="end"),e},e.prototype.getTextBaseline=function(t){var e;return Ue(t[1],0)?e="middle":t[1]>0?e="top":t[1]<0&&(e="bottom"),e},e.prototype.processOverlap=function(t){},e.prototype.drawLine=function(t){var e=this.getLinePath(),n=this.get("line");this.addShape(t,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:ze({path:e},n.style)})},e.prototype.getTickLineItems=function(t){var e=this,n=[],A=this.get("tickLine"),r=A.alignTick,i=A.length,o=1;return t.length>=2&&(o=t[1].value-t[0].value),$t(t,(function(t){var A=t.point;r||(A=e.getTickPoint(t.value-o/2));var a=e.getSidePoint(A,i);n.push({startPoint:A,tickValue:t.value,endPoint:a,tickId:t.id,id:"tickline-"+t.id})})),n},e.prototype.getSubTickLineItems=function(t){var e=[],n=this.get("subTickLine"),A=n.count,r=t.length;if(r>=2)for(var i=0;i<r-1;i++)for(var o=t[i],a=t[i+1],s=0;s<A;s++){var l=(s+1)/(A+1),u=(1-l)*o.tickValue+l*a.tickValue,c=this.getTickPoint(u),h=this.getSidePoint(c,n.length);e.push({startPoint:c,endPoint:h,tickValue:u,id:"sub-"+o.id+"-"+s})}return e},e.prototype.getTickLineAttrs=function(t,e,n,A){var r=this.get(e).style,i={points:[t.startPoint,t.endPoint]},o=on(this.get("theme"),["tickLine","style"],{});r=jt(r)?ze({},o,r(i,n,A)):r;var a=t.startPoint,s=t.endPoint;return Dt({x1:a.x,y1:a.y,x2:s.x,y2:s.y},r)},e.prototype.drawTick=function(t,e,n,A,r){this.addShape(e,{type:"line",id:this.getElementId(t.id),name:"axis-"+n,attrs:this.getTickLineAttrs(t,n,A,r)})},e.prototype.drawTickLines=function(t){var e=this,n=this.get("ticks"),A=this.get("subTickLine"),r=this.getTickLineItems(n),i=this.addGroup(t,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),o=this.get("tickLine");if($t(r,(function(n,A){if(o.displayWithLabel){var a=e.getElementId("label-"+n.tickId);t.findById(a)&&e.drawTick(n,i,"tickLine",A,r)}else e.drawTick(n,i,"tickLine",A,r)})),A){var a=this.getSubTickLineItems(r);$t(a,(function(t,n){e.drawTick(t,i,"subTickLine",n,a)}))}},e.prototype.processTicks=function(){var t=this;$t(this.get("ticks"),(function(e){e.point=t.getTickPoint(e.value),Jt(e.id)&&(e.id=e.name)}))},e.prototype.drawTicks=function(t){var e=this;this.optimizeTicks(),this.processTicks(),this.get("label")&&this.drawLabels(t),this.get("tickLine")&&this.drawTickLines(t),$t(this.get("ticks"),(function(n){e.applyTickStates(n,t)}))},e.prototype.optimizeTicks=function(){var t=this.get("optimize"),e=this.get("ticks");if(t&&t.enable&&t.threshold>0){var n=gn(e);if(n>t.threshold){var A=Math.ceil(n/t.threshold),r=e.filter((function(t,e){return e%A==0}));this.set("ticks",r),this.set("originalTicks",e)}}},e.prototype.getLabelAttrs=function(t,e,n){var A=this.get("label"),r=A.offset,i=A.offsetX,o=A.offsetY,a=A.rotate,s=A.formatter,l=this.getSidePoint(t.point,r),u=this.getSideVector(r,l),c=s?s(t.name,t,e):t.name,h=A.style;h=jt(h)?on(this.get("theme"),["label","style"],{}):h;var p=ze({x:l.x+i,y:l.y+o,text:c,textAlign:this.getTextAnchor(u),textBaseline:this.getTextBaseline(u)},h);return a&&(p.matrix=uu(l,a)),p},e.prototype.drawLabels=function(t){var e=this,n=this.get("ticks"),A=this.addGroup(t,{name:"axis-label-group",id:this.getElementId("label-group")});$t(n,(function(t,r){e.addShape(A,{type:"text",name:"axis-label",id:e.getElementId("label-"+t.id),attrs:e.getLabelAttrs(t,r,n),delegateObject:{tick:t,item:t,index:r}})})),this.processOverlap(A);var r=A.getChildren(),i=on(this.get("theme"),["label","style"],{}),o=this.get("label"),a=o.style,s=o.formatter;if(jt(a)){var l=r.map((function(t){return on(t.get("delegateObject"),"tick")}));$t(r,(function(t,e){var n=t.get("delegateObject").tick,A=s?s(n.name,n,e):n.name,r=ze({},i,a(A,e,l));t.attr(r)}))}},e.prototype.getTitleAttrs=function(){var t=this.get("title"),e=t.style,n=t.position,A=t.offset,r=t.spacing,i=void 0===r?0:r,o=t.autoRotate,a=e.fontSize,s=.5;"start"===n?s=0:"end"===n&&(s=1);var l=this.getTickPoint(s),u=this.getSidePoint(l,A||i+a/2),c=ze({x:u.x,y:u.y,text:t.text},e),h=t.rotate,p=h;if(Jt(h)&&o){p=yr(this.getAxisVector(l),[1,0],!0)}if(p){var f=uu(u,p);c.matrix=f}return c},e.prototype.drawTitle=function(t){var e,n=this.getTitleAttrs(),A=this.addShape(t,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:n});(null===(e=this.get("title"))||void 0===e?void 0:e.description)&&this.drawDescriptionIcon(t,A,n.matrix)},e.prototype.drawDescriptionIcon=function(t,e,n){var A=this.addGroup(t,{name:"axis-description",id:this.getElementById("description")}),r=e.getBBox(),i=r.maxX,o=r.maxY,a=r.height,s=this.get("title").iconStyle,l=a/2,u=l/6,c=i+4,h=o-a/2,p=[c+l,h-l],f=p[0],d=p[1],g=[f+l,d+l],y=g[0],v=g[1],m=[f,v+l],B=m[0],x=m[1],w=[c,d+l],C=w[0],F=w[1],b=[c+l,h-a/4],Q=b[0],U=b[1],E=[Q,U+u],M=E[0],S=E[1],I=[M,S+u],k=I[0],L=I[1],H=[k,L+3*l/4],T=H[0],D=H[1];this.addShape(A,{type:"path",id:this.getElementId("title-description-icon"),name:"axis-title-description-icon",attrs:Dt({path:[["M",f,d],["A",l,l,0,0,1,y,v],["A",l,l,0,0,1,B,x],["A",l,l,0,0,1,C,F],["A",l,l,0,0,1,f,d],["M",Q,U],["L",M,S],["M",k,L],["L",T,D]],lineWidth:u,matrix:n},s)}),this.addShape(A,{type:"rect",id:this.getElementId("title-description-rect"),name:"axis-title-description-rect",attrs:{x:c,y:h-a/2,width:a,height:a,stroke:"#000",fill:"#000",opacity:0,matrix:n,cursor:"pointer"}})},e.prototype.applyTickStates=function(t,e){if(this.getItemStates(t).length){var n=this.get("tickStates"),A=this.getElementId("label-"+t.id),r=e.findById(A);if(r){var i=Zu(t,"label",n);i&&r.attr(i)}var o=this.getElementId("tickline-"+t.id),a=e.findById(o);if(a){var s=Zu(t,"tickLine",n);s&&a.attr(s)}}},e.prototype.updateTickStates=function(t){var e=this.getItemStates(t),n=this.get("tickStates"),A=this.get("label"),r=this.getElementByLocalId("label-"+t.id),i=this.get("tickLine"),o=this.getElementByLocalId("tickline-"+t.id);if(e.length){if(r){var a=Zu(t,"label",n);a&&r.attr(a)}if(o){var s=Zu(t,"tickLine",n);s&&o.attr(s)}}else r&&r.attr(A.style),o&&o.attr(i.style)},e}(Su);function tc(t,e,n,A){var r=e.getChildren(),i=!1;return $t(r,(function(e){var r=Pu(t,e,n,A);i=i||r})),i}function ec(t,e,n){return tc(t,e,n,"tail")}const nc=Object.freeze(Object.defineProperty({__proto__:null,ellipsisHead:function(t,e,n){return tc(t,e,n,"head")},ellipsisMiddle:function(t,e,n){return tc(t,e,n,"middle")},ellipsisTail:ec,getDefault:function(){return ec}},Symbol.toStringTag,{value:"Module"}));function Ac(t){var e=function(t){var e=t.attr("matrix");return e&&1!==e[0]}(t)?function(t){var e=[0,0,0];return er(e,[1,0,0],t),Math.atan2(e[1],e[0])}(t.attr("matrix")):0;return e%360}function rc(t,e,n,A){var r=!1,i=Ac(e),o=t?Math.abs(n.attr("y")-e.attr("y")):Math.abs(n.attr("x")-e.attr("x")),a=(t?n.attr("y")>e.attr("y"):n.attr("x")>e.attr("x"))?e.getBBox():n.getBBox();if(t){var s=Math.abs(Math.cos(i));r=xu(s,0,Math.PI/180)?a.width+A>o:a.height/s+A>o}else{s=Math.abs(Math.sin(i));r=xu(s,0,Math.PI/180)?a.width+A>o:a.height/s+A>o}return r}function ic(t,e,n,A){var r=(null==A?void 0:A.minGap)||0,i=e.getChildren().slice().filter((function(t){return t.get("visible")}));if(!i.length)return!1;var o=!1;n&&i.reverse();for(var a=i.length,s=i[0],l=1;l<a;l++){var u=i[l];u.getBBox(),rc(t,s,u,r)?(u.hide(),o=!0):s=u}return o}function oc(t,e,n){var A=(null==n?void 0:n.minGap)||0,r=e.getChildren().slice();if(r.length<2)return!1;var i=!1,o=r[0],a=o.getBBox(),s=r[1],l=r.length,u=Ac(o),c=t?Math.abs(s.attr("y")-o.attr("y")):Math.abs(s.attr("x")-o.attr("x")),h=0;if(t){var p=Math.abs(Math.cos(u));if(xu(p,0,Math.PI/180))h=(Du(r)+A)/c;else h=(a.height/p+A)/c}else{p=Math.abs(Math.sin(u));if(xu(p,0,Math.PI/180))h=(Du(r)+A)/c;else h=(a.height/p+A)/c}if(h>1){h=Math.ceil(h);for(var f=0;f<l;f++)f%h!=0&&(r[f].hide(),i=!0)}return i}function ac(t,e,n,A){var r=oc(t,e,A);return ic(t,e,!1)&&(r=!0),r}const sc=Object.freeze(Object.defineProperty({__proto__:null,equidistance:ac,equidistanceWithReverseBoth:function(t,e,n,A){var r=e.getChildren().slice(),i=oc(t,e,A);if(r.length>2){var o=r[0],a=r[r.length-1];o.get("visible")||(o.show(),ic(t,e,!1,A)&&(i=!0)),a.get("visible")||(a.show(),ic(t,e,!0,A)&&(i=!0))}return i},getDefault:function(){return ac},reserveBoth:function(t,e,n,A){var r=(null==A?void 0:A.minGap)||0,i=e.getChildren().slice();if(i.length<=2)return!1;for(var o=!1,a=i.length,s=i[0],l=i[a-1],u=s,c=1;c<a-1;c++){var h=i[c];h.getBBox(),rc(t,u,h,r)?(h.hide(),o=!0):u=h}return rc(t,u,l,r)&&(u.hide(),o=!0),o},reserveFirst:function(t,e,n,A){return ic(t,e,!1,A)},reserveLast:function(t,e,n,A){return ic(t,e,!0,A)}},Symbol.toStringTag,{value:"Module"}));function lc(t,e,n,A){var r=e.getChildren();if(!r.length)return!1;if(!t&&r.length<2)return!1;var i=Du(r),o=!1;t?o=!!n&&i>n:o=i>Math.abs(r[1].attr("x")-r[0].attr("x"));o&&function(t,e){$t(t,(function(t){var n=uu({x:t.attr("x"),y:t.attr("y")},e);t.attr("matrix",n)}))}(r,A(n,i));return o}function uc(t,e,n,A){return lc(t,e,n,(function(){return be(A)?A:t?Ru.verticalAxisRotate:Ru.horizontalAxisRotate}))}const cc=Object.freeze(Object.defineProperty({__proto__:null,fixedAngle:uc,getDefault:function(){return uc},unfixedAngle:function(t,e,n){return lc(t,e,n,(function(e,n){if(!e)return t?Ru.verticalAxisRotate:Ru.horizontalAxisRotate;if(t)return-Math.acos(e/n);var A=0;return(e>n||(A=Math.asin(e/n))>Math.PI/4)&&(A=Math.PI/4),A}))}},Symbol.toStringTag,{value:"Module"})),hc=Object.freeze(Object.defineProperty({__proto__:null,autoEllipsis:nc,autoHide:sc,autoRotate:cc},Symbol.toStringTag,{value:"Module"}));var pc,fc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Dt(Dt({},e),{type:"line",locationType:"region",start:null,end:null})},e.prototype.getLinePath=function(){var t=this.get("start"),e=this.get("end"),n=[];return n.push(["M",t.x,t.y]),n.push(["L",e.x,e.y]),n},e.prototype.getInnerLayoutBBox=function(){var e=this.get("start"),n=this.get("end"),A=t.prototype.getInnerLayoutBBox.call(this),r=Math.min(e.x,n.x,A.x),i=Math.min(e.y,n.y,A.y),o=Math.max(e.x,n.x,A.maxX),a=Math.max(e.y,n.y,A.maxY);return{x:r,y:i,minX:r,minY:i,maxX:o,maxY:a,width:o-r,height:a-i}},e.prototype.isVertical=function(){var t=this.get("start"),e=this.get("end");return Ue(t.x,e.x)},e.prototype.isHorizontal=function(){var t=this.get("start"),e=this.get("end");return Ue(t.y,e.y)},e.prototype.getTickPoint=function(t){var e=this.get("start"),n=this.get("end"),A=n.x-e.x,r=n.y-e.y;return{x:e.x+A*t,y:e.y+r*t}},e.prototype.getSideVector=function(t){var e=lr([0,0],this.getAxisVector()),n=this.get("verticalFactor");return or([0,0],[e[1],-1*e[0]],t*n)},e.prototype.getAxisVector=function(){var t=this.get("start"),e=this.get("end");return[e.x-t.x,e.y-t.y]},e.prototype.processOverlap=function(t){var e=this,n=this.isVertical(),A=this.isHorizontal();if(n||A){var r=this.get("label"),i=this.get("title"),o=this.get("verticalLimitLength"),a=r.offset,s=o,l=0,u=0;if(i&&(l=i.style.fontSize,u=i.spacing),s&&(s=s-a-u-l),$t(this.get("overlapOrder"),(function(n){r[n]&&e.canProcessOverlap(n)&&e.autoProcessOverlap(n,r[n],t,s)})),i&&Jt(i.offset)){var c=t.getCanvasBBox(),h=n?c.width:c.height;i.offset=a+h+u+l/2}}},e.prototype.canProcessOverlap=function(t){var e=this.get("label");return"autoRotate"!==t||Jt(e.rotate)},e.prototype.autoProcessOverlap=function(t,e,n,A){var r=this,i=this.isVertical(),o=!1,a=hc[t];if(!0===e)this.get("label"),o=a.getDefault()(i,n,A);else if(jt(e))o=e(i,n,A);else if(Zt(e)){var s=e;a[s.type]&&(o=a[s.type](i,n,A,s.cfg))}else a[e]&&(o=a[e](i,n,A));if("autoRotate"===t){if(o){var l=n.getChildren(),u=this.get("verticalFactor");$t(l,(function(t){if("center"===t.attr("textAlign")){var e=u>0?"end":"start";t.attr("textAlign",e)}}))}}else if("autoHide"===t){$t(n.getChildren().slice(0),(function(t){t.get("visible")||(r.get("isRegister")&&r.unregisterElement(t),t.remove())}))}},e}($u),dc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Dt(Dt({},e),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:3*Math.PI/2})},e.prototype.getLinePath=function(){var t=this.get("center"),e=t.x,n=t.y,A=this.get("radius"),r=A,i=this.get("startAngle"),o=this.get("endAngle"),a=[];if(Math.abs(o-i)===2*Math.PI)a=[["M",e,n-r],["A",A,r,0,1,1,e,n+r],["A",A,r,0,1,1,e,n-r],["Z"]];else{var s=this.getCirclePoint(i),l=this.getCirclePoint(o),u=Math.abs(o-i)>Math.PI?1:0,c=i>o?0:1;a=[["M",e,n],["L",s.x,s.y],["A",A,r,0,u,c,l.x,l.y],["L",e,n]]}return a},e.prototype.getTickPoint=function(t){var e=this.get("startAngle"),n=e+(this.get("endAngle")-e)*t;return this.getCirclePoint(n)},e.prototype.getSideVector=function(t,e){var n=this.get("center"),A=[e.x-n.x,e.y-n.y];return or(A,A,this.get("verticalFactor")*t/sr(A)),A},e.prototype.getAxisVector=function(t){var e=this.get("center"),n=[t.x-e.x,t.y-e.y];return[n[1],-1*n[0]]},e.prototype.getCirclePoint=function(t,e){var n=this.get("center");return e=e||this.get("radius"),{x:n.x+Math.cos(t)*e,y:n.y+Math.sin(t)*e}},e.prototype.canProcessOverlap=function(t){var e=this.get("label");return"autoRotate"!==t||Jt(e.rotate)},e.prototype.processOverlap=function(t){var e=this,n=this.get("label"),A=this.get("title"),r=this.get("verticalLimitLength"),i=n.offset,o=r,a=0,s=0;if(A&&(a=A.style.fontSize,s=A.spacing),o&&(o=o-i-s-a),$t(this.get("overlapOrder"),(function(A){n[A]&&e.canProcessOverlap(A)&&e.autoProcessOverlap(A,n[A],t,o)})),A&&Jt(A.offset)){var l=t.getCanvasBBox().height;A.offset=i+l+s+a/2}},e.prototype.autoProcessOverlap=function(t,e,n,A){var r=this,i=!1,o=hc[t];if(A>0)if(!0===e)i=o.getDefault()(!1,n,A);else if(jt(e))i=e(!1,n,A);else if(Zt(e)){var a=e;o[a.type]&&(i=o[a.type](!1,n,A,a.cfg))}else o[e]&&(i=o[e](!1,n,A));if("autoRotate"===t){if(i){var s=n.getChildren(),l=this.get("verticalFactor");$t(s,(function(t){if("center"===t.attr("textAlign")){var e=l>0?"end":"start";t.attr("textAlign",e)}}))}}else if("autoHide"===t){$t(n.getChildren().slice(0),(function(t){t.get("visible")||(r.get("isRegister")&&r.unregisterElement(t),t.remove())}))}},e}($u),gc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Dt(Dt({},e),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:Ru.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:Ru.textColor,textAlign:"center",textBaseline:"middle",fontFamily:Ru.fontFamily}},textBackground:{padding:5,style:{stroke:Ru.lineColor}}}})},e.prototype.renderInner=function(t){this.get("line")&&this.renderLine(t),this.get("text")&&(this.renderText(t),this.renderBackground(t))},e.prototype.renderText=function(t){var e=this.get("text"),n=e.style,A=e.autoRotate,r=e.content;if(!Jt(r)){var i=this.getTextPoint(),o=null;if(A)o=uu(i,this.getRotateAngle());this.addShape(t,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:Dt(Dt(Dt({},i),{text:r,matrix:o}),n)})}},e.prototype.renderLine=function(t){var e=this.getLinePath(),n=this.get("line").style;this.addShape(t,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:Dt({path:e},n)})},e.prototype.renderBackground=function(t){var e=this.getElementId("text"),n=t.findById(e),A=this.get("textBackground");if(A&&n){var r=n.getBBox(),i=du(A.padding),o=A.style;this.addShape(t,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:Dt({x:r.x-i[3],y:r.y-i[0],width:r.width+i[1]+i[3],height:r.height+i[0]+i[2],matrix:n.attr("matrix")},o)}).toBack()}},e}(Su),yc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Dt(Dt({},e),{type:"line",locationType:"region",start:null,end:null})},e.prototype.getRotateAngle=function(){var t=this.getLocation(),e=t.start,n=t.end,A=this.get("text").position,r=Math.atan2(n.y-e.y,n.x-e.x);return"start"===A?r-Math.PI/2:r+Math.PI/2},e.prototype.getTextPoint=function(){var t=this.getLocation(),e=t.start,n=t.end,A=this.get("text");return Fu(e,n,A.position,A.offset)},e.prototype.getLinePath=function(){var t=this.getLocation(),e=t.start,n=t.end;return[["M",e.x,e.y],["L",n.x,n.y]]},e}(gc),vc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Dt(Dt({},e),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:3*Math.PI/2})},e.prototype.getRotateAngle=function(){var t=this.getLocation(),e=t.startAngle,n=t.endAngle;return"start"===this.get("text").position?e+Math.PI/2:n-Math.PI/2},e.prototype.getTextPoint=function(){var t=this.get("text"),e=t.position,n=t.offset,A=this.getLocation(),r=A.center,i=A.radius,o=A.startAngle,a=A.endAngle,s="start"===e?o:a,l=this.getRotateAngle()-Math.PI,u=Bu(r,i,s),c=Math.cos(l)*n,h=Math.sin(l)*n;return{x:u.x+c,y:u.y+h}},e.prototype.getLinePath=function(){var t=this.getLocation(),e=t.center,n=t.radius,A=t.startAngle,r=t.endAngle,i=null;if(r-A==2*Math.PI){var o=e.x,a=e.y;i=[["M",o,a-n],["A",n,n,0,1,1,o,a+n],["A",n,n,0,1,1,o,a-n],["Z"]]}else{var s=Bu(e,n,A),l=Bu(e,n,r),u=Math.abs(r-A)>Math.PI?1:0,c=A>r?0:1;i=[["M",s.x,s.y],["A",n,n,0,u,c,l.x,l.y]]}return i},e}(gc),mc="g2-crosshair",Bc=mc+"-line",xc=mc+"-text";const wc=((pc={})[""+mc]={position:"relative"},pc[""+Bc]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},pc[""+xc]={position:"absolute",color:Ru.textColor,fontFamily:Ru.fontFamily},pc);var Cc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Dt(Dt({},e),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+mc+'"></div>',crosshairTpl:'<div class="'+Bc+'"></div>',textTpl:'<span class="'+xc+'">{content}</span>',domStyles:null,containerClassName:mc,defaultStyles:wc,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},e.prototype.render=function(){this.resetText(),this.resetPosition()},e.prototype.initCrossHair=function(){var t=this.getContainer(),e=zn(this.get("crosshairTpl"));t.appendChild(e),this.applyStyle(Bc,e),this.set("crosshairEl",e)},e.prototype.getTextPoint=function(){var t=this.getLocation(),e=t.start,n=t.end,A=this.get("text");return Fu(e,n,A.position,A.offset)},e.prototype.resetText=function(){var t=this.get("text"),e=this.get("textEl");if(t){var n=t.content;if(!e){var A=this.getContainer();e=zn(De(this.get("textTpl"),t)),A.appendChild(e),this.applyStyle(xc,e),this.set("textEl",e)}e.innerHTML=n}else e&&e.remove()},e.prototype.isVertical=function(t,e){return t.x===e.x},e.prototype.resetPosition=function(){var t=this.get("crosshairEl");t||(this.initCrossHair(),t=this.get("crosshairEl"));var e=this.get("start"),n=this.get("end"),A=Math.min(e.x,n.x),r=Math.min(e.y,n.y);this.isVertical(e,n)?qn(t,{width:"1px",height:Cu(Math.abs(n.y-e.y))}):qn(t,{height:"1px",width:Cu(Math.abs(n.x-e.x))}),qn(t,{top:Cu(r),left:Cu(A)}),this.alignText()},e.prototype.alignText=function(){var t=this.get("textEl");if(t){var e=this.get("text").align,n=t.clientWidth,A=this.getTextPoint();switch(e){case"center":A.x=A.x-n/2;break;case"right":A.x=A.x-n}qn(t,{top:Cu(A.y),left:Cu(A.x)})}},e.prototype.updateInner=function(e){ke(e,"text")&&this.resetText(),t.prototype.updateInner.call(this,e)},e}(ju);const Fc=Object.freeze(Object.defineProperty({__proto__:null,Base:gc,Circle:vc,Html:Cc,Line:yc},Symbol.toStringTag,{value:"Module"}));var bc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Dt(Dt({},e),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:Ru.lineColor}}}})},e.prototype.getLineType=function(){return(this.get("line")||this.get("defaultCfg").line).type},e.prototype.renderInner=function(t){this.drawGrid(t)},e.prototype.getAlternatePath=function(t,e){var n=this.getGridPath(t),A=e.slice(0).reverse(),r=this.getGridPath(A,!0);return this.get("closed")?n=n.concat(r):(r[0][0]="L",(n=n.concat(r)).push(["Z"])),n},e.prototype.getPathStyle=function(){return this.get("line").style},e.prototype.drawGrid=function(t){var e=this,n=this.get("line"),A=this.get("items"),r=this.get("alternateColor"),i=null;$t(A,(function(o,a){var s=o.id||a;if(n){var l=e.getPathStyle();l=jt(l)?l(o,a,A):l;var u=e.getElementId("line-"+s),c=e.getGridPath(o.points);e.addShape(t,{type:"path",name:"grid-line",id:u,attrs:ze({path:c},l)})}if(r&&a>0){var h=e.getElementId("region-"+s),p=a%2==0;if(pe(r))p&&e.drawAlternateRegion(h,t,i.points,o.points,r);else{var f=p?r[1]:r[0];e.drawAlternateRegion(h,t,i.points,o.points,f)}}i=o}))},e.prototype.drawAlternateRegion=function(t,e,n,A,r){var i=this.getAlternatePath(n,A);this.addShape(e,{type:"path",id:t,name:"grid-region",attrs:{path:i,fill:r}})},e}(Su);var Qc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Dt(Dt({},e),{type:"circle",center:null,closed:!0})},e.prototype.getGridPath=function(t,e){var n,A,r,i,o,a,s=this.getLineType(),l=this.get("closed"),u=[];if(t.length)if("circle"===s){var c=this.get("center"),h=t[0],p=(n=c.x,A=c.y,r=h.x,i=h.y,o=r-n,a=i-A,Math.sqrt(o*o+a*a)),f=e?0:1;l?(u.push(["M",c.x,c.y-p]),u.push(["A",p,p,0,0,f,c.x,c.y+p]),u.push(["A",p,p,0,0,f,c.x,c.y-p]),u.push(["Z"])):$t(t,(function(t,e){0===e?u.push(["M",t.x,t.y]):u.push(["A",p,p,0,0,f,t.x,t.y])}))}else $t(t,(function(t,e){0===e?u.push(["M",t.x,t.y]):u.push(["L",t.x,t.y])})),l&&u.push(["Z"]);return u},e}(bc),Uc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Dt(Dt({},e),{type:"line"})},e.prototype.getGridPath=function(t){var e=[];return $t(t,(function(t,n){0===n?e.push(["M",t.x,t.y]):e.push(["L",t.x,t.y])})),e},e}(bc),Ec=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Dt(Dt({},e),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},e.prototype.getLayoutBBox=function(){var e=t.prototype.getLayoutBBox.call(this),n=this.get("maxWidth"),A=this.get("maxHeight"),r=e.width,i=e.height;return n&&(r=Math.min(r,n)),A&&(i=Math.min(i,A)),vu(e.minX,e.minY,r,i)},e.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},e.prototype.resetLocation=function(){var t=this.get("x"),e=this.get("y"),n=this.get("offsetX"),A=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t+n,y:e+A})},e.prototype.applyOffset=function(){this.resetLocation()},e.prototype.getDrawPoint=function(){return this.get("currentPoint")},e.prototype.setDrawPoint=function(t){return this.set("currentPoint",t)},e.prototype.renderInner=function(t){this.resetDraw(),this.get("title")&&this.drawTitle(t),this.drawLegendContent(t),this.get("background")&&this.drawBackground(t)},e.prototype.drawBackground=function(t){var e=this.get("background"),n=t.getBBox(),A=du(e.padding),r=Dt({x:0,y:0,width:n.width+A[1]+A[3],height:n.height+A[0]+A[2]},e.style);this.addShape(t,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:r}).toBack()},e.prototype.drawTitle=function(t){var e=this.get("currentPoint"),n=this.get("title"),A=n.spacing,r=n.style,i=n.text,o=this.addShape(t,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:Dt({text:i,x:e.x,y:e.y},r)}).getBBox();this.set("currentPoint",{x:e.x,y:o.maxY+A})},e.prototype.resetDraw=function(){var t=this.get("background"),e={x:0,y:0};if(t){var n=du(t.padding);e.x=n[3],e.y=n[0]}this.set("currentPoint",e)},e}(Su),Mc={marker:{style:{inactiveFill:"#000",inactiveOpacity:.45,fill:"#000",opacity:1,size:12}},text:{style:{fill:"#ccc",fontSize:12}}},Sc={fill:Ru.textColor,fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:Ru.fontFamily,fontWeight:"normal",lineHeight:12},Ic="navigation-arrow-right",kc="navigation-arrow-left",Lc={right:90*Math.PI/180,left:270*Math.PI/180,up:0,down:180*Math.PI/180},Hc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentPageIndex=1,e.totalPagesCnt=1,e.pageWidth=0,e.pageHeight=0,e.startX=0,e.startY=0,e.onNavigationBack=function(){var t=e.getElementByLocalId("item-group");if(e.currentPageIndex>1){e.currentPageIndex-=1,e.updateNavigation();var n=e.getCurrentNavigationMatrix();e.get("animate")?t.animate({matrix:n},100):t.attr({matrix:n})}},e.onNavigationAfter=function(){var t=e.getElementByLocalId("item-group");if(e.currentPageIndex<e.totalPagesCnt){e.currentPageIndex+=1,e.updateNavigation();var n=e.getCurrentNavigationMatrix();e.get("animate")?t.animate({matrix:n},100):t.attr({matrix:n})}},e}return Tt(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Dt(Dt({},e),{name:"legend",type:"category",itemSpacing:24,itemMarginBottom:8,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},radio:null,items:[],itemStates:{},itemBackground:{},pageNavigator:{},defaultCfg:{title:{spacing:5,style:{fill:Ru.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:Ru.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},pageNavigator:Mc,itemName:{spacing:16,style:Sc},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:Sc,spacing:6},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:Ru.uncheckedColor},markerStyle:{fill:Ru.uncheckedColor,stroke:Ru.uncheckedColor}},inactive:{nameStyle:{fill:Ru.uncheckedColor},markerStyle:{opacity:.2}}}}})},e.prototype.isList=function(){return!0},e.prototype.getItems=function(){return this.get("items")},e.prototype.setItems=function(t){this.update({items:t})},e.prototype.updateItem=function(t,e){ze(t,e),this.clear(),this.render()},e.prototype.clearItems=function(){var t=this.getElementByLocalId("item-group");t&&t.clear()},e.prototype.setItemState=function(t,e,n){t[e]=n;var A=this.getElementByLocalId("item-"+t.id);if(A){var r=this.getItems().indexOf(t),i=this.createOffScreenGroup(),o=this.drawItem(t,r,this.getItemHeight(),i);this.updateElements(o,A),this.clearUpdateStatus(A)}},e.prototype.hasState=function(t,e){return!!t[e]},e.prototype.getItemStates=function(t){var e=this.get("itemStates"),n=[];return $t(e,(function(e,A){t[A]&&n.push(A)})),n},e.prototype.clearItemsState=function(t){var e=this;$t(this.getItemsByState(t),(function(n){e.setItemState(n,t,!1)}))},e.prototype.getItemsByState=function(t){var e=this,n=this.getItems();return Yt(n,(function(n){return e.hasState(n,t)}))},e.prototype.drawLegendContent=function(t){this.processItems(),this.drawItems(t)},e.prototype.processItems=function(){$t(this.get("items"),(function(t){t.id||(t.id=t.name)}))},e.prototype.drawItems=function(t){var e=this,n=this.addGroup(t,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),A=this.addGroup(n,{id:this.getElementId("item-group"),name:"legend-item-group"}),r=this.getItemHeight(),i=this.get("itemWidth"),o=this.get("itemSpacing"),a=this.get("itemMarginBottom"),s=this.get("currentPoint"),l=s.x,u=s.y,c=this.get("layout"),h=this.get("items"),p=!1,f=0,d=this.get("maxWidth"),g=this.get("maxHeight");$t(h,(function(t,n){var h=e.drawItem(t,n,r,A),y=h.getBBox(),v=i||y.width;v>f&&(f=v),"horizontal"===c?(d&&d<s.x+v-l&&(p=!0,s.x=l,s.y+=r+a),e.moveElementTo(h,s),s.x+=v+o):(g&&g<s.y+r+a-u&&(p=!0,s.x+=f+o,s.y=u,f=0),e.moveElementTo(h,s),s.y+=r+a)})),p&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=l,this.startY=u,this.adjustNavigation(t,A))},e.prototype.getItemHeight=function(){var t=this.get("itemHeight");if(!t){var e=(this.get("itemName")||{}).style;if(jt(e)){var n=this.getItems();n.forEach((function(A,r){var i=Dt(Dt({},Sc),e(A,r,n)).fontSize;t<i&&(t=i)}))}else e&&(t=e.fontSize)}return t},e.prototype.drawMarker=function(t,e,n,A){var r=Dt(Dt(Dt({x:0,y:A/2},e.style),{symbol:on(n.marker,"symbol","circle")}),on(n.marker,"style",{})),i=this.addShape(t,{type:"marker",id:this.getElementId("item-"+n.id+"-marker"),name:"legend-item-marker",attrs:r}),o=i.getBBox();i.attr("x",o.width/2);var a=i.attr(),s=a.stroke,l=a.fill;return s&&i.set("isStroke",!0),l&&i.set("isFill",!0),i},e.prototype.drawItemText=function(t,e,n,A,r,i,o){var a=n.formatter,s=n.style,l=Dt(Dt({x:i,y:r/2,text:a?a(A[e],A,o):A[e]},Sc),jt(s)?s(A,o,this.getItems()):s);return this.addShape(t,{type:"text",id:this.getElementId("item-"+A.id+"-"+e),name:"legend-item-"+e,attrs:l})},e.prototype.drawRadio=function(t,e,n,A,r){var i,o,a=e.style||{},s=null!==(i=a.r)&&void 0!==i?i:A/2,l=3.6*s/8,u=[r+s,A/2-s],c=u[0],h=u[1],p=[c+s,h+s],f=p[0],d=p[1],g=[c,d+s],y=g[0],v=g[1],m=[r,h+s],B=m[0],x=m[1],w=n.showRadio,C=Dt(Dt({path:[["M",c,h],["A",s,s,0,0,1,f,d],["L",f-l,d],["L",f,d],["A",s,s,0,0,1,y,v],["L",y,v-l],["L",y,v],["A",s,s,0,0,1,B,x],["L",B+l,x],["L",B,x],["A",s,s,0,0,1,c,h],["L",c,h+l]],stroke:"#000000",fill:"#ffffff"},a),{opacity:w?null!==(o=null==a?void 0:a.opacity)&&void 0!==o?o:.45:0}),F=this.addShape(t,{type:"path",id:this.getElementId("item-"+n.id+"-radio"),name:"legend-item-radio",attrs:C});return F.set("tip",e.tip),F},e.prototype.drawItem=function(t,e,n,A){var r="item-"+t.id,i=this.addGroup(A,{name:"legend-item-container",id:this.getElementId("item-container-"+r),delegateObject:{item:t,index:e}}),o=this.addGroup(i,{name:"legend-item",id:this.getElementId(r),delegateObject:{item:t,index:e}}),a=this.get("marker"),s=this.get("itemName"),l=this.get("itemValue"),u=this.get("itemBackground"),c=this.get("radio"),h=this.getLimitItemWidth(),p=0;if(a){var f=this.drawMarker(o,a,t,n),d=a.spacing,g=on(t,["marker","spacing"]);be(g)&&(d=g),p=f.getBBox().maxX+d}if(s){var y=this.drawItemText(o,"name",s,t,n,p,e);h&&Pu(!0,y,Ce(h-p,0,h)),p=y.getBBox().maxX+s.spacing}if(l){var v=this.drawItemText(o,"value",l,t,n,p,e);h&&(l.alignRight?(v.attr({textAlign:"right",x:h}),Pu(!0,v,Ce(h-p,0,h),"head")):Pu(!0,v,Ce(h-p,0,h))),p=v.getBBox().maxX+l.spacing}if(c&&this.drawRadio(o,c,t,n,p),u){var m=o.getBBox();this.addShape(o,{type:"rect",name:"legend-item-background",id:this.getElementId(r+"-background"),attrs:Dt({x:0,y:0,width:m.width,height:n},u.style)}).toBack()}return this.applyItemStates(t,o),o},e.prototype.adjustNavigation=function(t,e){var n=this,A=this.startX,r=this.startY,i=this.get("layout"),o=e.findAll((function(t){return"legend-item"===t.get("name")})),a=this.get("maxWidth"),s=this.get("maxHeight"),l=this.get("itemWidth"),u=this.get("itemSpacing"),c=this.getItemHeight(),h=Ze({},Mc,this.get("pageNavigator")),p=this.drawNavigation(t,i,"00/00",h),f=p.getBBox(),d={x:A,y:r},g=1,y=0,v=0,m=0,B=this.get("itemMarginBottom");if("horizontal"===i){var x=this.get("maxRow")||1,w=c+(1===x?0:B),C=a-u-f.width-f.minX;this.pageHeight=w*x,this.pageWidth=C,$t(o,(function(t){var e=t.getBBox(),r=l||e.width;(y&&y<d.x+r+u||function(t,e){var n=t.getBBox(),A=l||n.width;return e.x+A+u+f.width>a}(t,d))&&(1===g&&(y=d.x+u,n.moveElementTo(p,{x:C,y:d.y+c/2-f.height/2-f.minY})),g+=1,d.x=A,d.y+=w),n.moveElementTo(t,d),t.getParent().setClip({type:"rect",attrs:{x:d.x,y:d.y,width:r+u,height:c}}),d.x+=r+u}))}else{$t(o,(function(t){var e=t.getBBox();e.width>v&&(v=e.width)})),m=v,v+=u,a&&(v=Math.min(a,v),m=Math.min(a,m)),this.pageWidth=v,this.pageHeight=s-Math.max(f.height,c+B);var F=Math.floor(this.pageHeight/(c+B));$t(o,(function(t,e){0!==e&&e%F==0&&(g+=1,d.x+=v,d.y=r),n.moveElementTo(t,d),t.getParent().setClip({type:"rect",attrs:{x:d.x,y:d.y,width:v,height:c}}),d.y+=c+B})),this.totalPagesCnt=g,this.moveElementTo(p,{x:A+m/2-f.width/2-f.minX,y:s-f.height-f.minY})}this.pageHeight&&this.pageWidth&&e.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),"horizontal"===i&&this.get("maxRow")?this.totalPagesCnt=Math.ceil(g/this.get("maxRow")):this.totalPagesCnt=g,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(p),e.attr("matrix",this.getCurrentNavigationMatrix())},e.prototype.drawNavigation=function(t,e,n,A){var r={x:0,y:0},i=this.addGroup(t,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),o=on(A.marker,"style",{}),a=o.size,s=void 0===a?12:a,l=Pt(o,["size"]),u=this.drawArrow(i,r,kc,"horizontal"===e?"up":"left",s,l);u.on("click",this.onNavigationBack);var c=u.getBBox();r.x+=c.width+2;var h=this.addShape(i,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:Dt({x:r.x,y:r.y+s/2,text:n,textBaseline:"middle"},on(A.text,"style"))}).getBBox();return r.x+=h.width+2,this.drawArrow(i,r,Ic,"horizontal"===e?"down":"right",s,l).on("click",this.onNavigationAfter),i},e.prototype.updateNavigation=function(t){var e=Ze({},Mc,this.get("pageNavigator")).marker.style,n=e.fill,A=e.opacity,r=e.inactiveFill,i=e.inactiveOpacity,o=this.currentPageIndex+"/"+this.totalPagesCnt,a=t?t.getChildren()[1]:this.getElementByLocalId("navigation-text"),s=t?t.findById(this.getElementId(kc)):this.getElementByLocalId(kc),l=t?t.findById(this.getElementId(Ic)):this.getElementByLocalId(Ic);a.attr("text",o),s.attr("opacity",1===this.currentPageIndex?i:A),s.attr("fill",1===this.currentPageIndex?r:n),s.attr("cursor",1===this.currentPageIndex?"not-allowed":"pointer"),l.attr("opacity",this.currentPageIndex===this.totalPagesCnt?i:A),l.attr("fill",this.currentPageIndex===this.totalPagesCnt?r:n),l.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer");var u=s.getBBox().maxX+2;a.attr("x",u),u+=a.getBBox().width+2,this.updateArrowPath(l,{x:u,y:0})},e.prototype.drawArrow=function(t,e,n,A,r,i){var o=e.x,a=e.y,s=this.addShape(t,{type:"path",id:this.getElementId(n),name:n,attrs:Dt({size:r,direction:A,path:[["M",o+r/2,a],["L",o,a+r],["L",o+r,a+r],["Z"]],cursor:"pointer"},i)});return s.attr("matrix",uu({x:o+r/2,y:a+r/2},Lc[A])),s},e.prototype.updateArrowPath=function(t,e){var n=e.x,A=e.y,r=t.attr(),i=r.size,o=r.direction,a=uu({x:n+i/2,y:A+i/2},Lc[o]);t.attr("path",[["M",n+i/2,A],["L",n,A+i],["L",n+i,A+i],["Z"]]),t.attr("matrix",a)},e.prototype.getCurrentNavigationMatrix=function(){var t=this,e=t.currentPageIndex,n=t.pageWidth,A=t.pageHeight;return cu("horizontal"===this.get("layout")?{x:0,y:A*(1-e)}:{x:n*(1-e),y:0})},e.prototype.applyItemStates=function(t,e){if(this.getItemStates(t).length>0){var n=e.getChildren(),A=this.get("itemStates");$t(n,(function(e){var n=e.get("name").split("-")[2],r=Zu(t,n,A);r&&(e.attr(r),"marker"!==n||e.get("isStroke")&&e.get("isFill")||(e.get("isStroke")&&e.attr("fill",null),e.get("isFill")&&e.attr("stroke",null)))}))}},e.prototype.getLimitItemWidth=function(){var t=this.get("itemWidth"),e=this.get("maxItemWidth");return e?t&&(e=t<=e?t:e):t&&(e=t),e},e}(Ec),Tc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Dt(Dt({},e),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:Ru.textColor,textBaseline:"middle",fontFamily:Ru.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:Ru.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},e.prototype.isSlider=function(){return!0},e.prototype.getValue=function(){return this.getCurrentValue()},e.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},e.prototype.setRange=function(t,e){this.update({min:t,max:e})},e.prototype.setValue=function(t){var e=this.getValue();this.set("value",t);var n=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(n),this.delegateEmit("valuechanged",{originValue:e,value:t})},e.prototype.initEvent=function(){var t=this.get("group");this.bindSliderEvent(t),this.bindRailEvent(t),this.bindTrackEvent(t)},e.prototype.drawLegendContent=function(t){this.drawRail(t),this.drawLabels(t),this.fixedElements(t),this.resetTrack(t),this.resetTrackClip(t),this.get("slidable")&&this.resetHandlers(t)},e.prototype.bindSliderEvent=function(t){this.bindHandlersEvent(t)},e.prototype.bindHandlersEvent=function(t){var e=this;t.on("legend-handler-min:drag",(function(t){var n=e.getValueByCanvasPoint(t.x,t.y),A=e.getCurrentValue()[1];A<n&&(A=n),e.setValue([n,A])})),t.on("legend-handler-max:drag",(function(t){var n=e.getValueByCanvasPoint(t.x,t.y),A=e.getCurrentValue()[0];A>n&&(A=n),e.setValue([A,n])}))},e.prototype.bindRailEvent=function(t){},e.prototype.bindTrackEvent=function(t){var e=this,n=null;t.on("legend-track:dragstart",(function(t){n={x:t.x,y:t.y}})),t.on("legend-track:drag",(function(t){if(n){var A=e.getValueByCanvasPoint(n.x,n.y),r=e.getValueByCanvasPoint(t.x,t.y),i=e.getCurrentValue(),o=i[1]-i[0],a=e.getRange(),s=r-A;s<0?i[0]+s>a.min?e.setValue([i[0]+s,i[1]+s]):e.setValue([a.min,a.min+o]):s>0&&(s>0&&i[1]+s<a.max?e.setValue([i[0]+s,i[1]+s]):e.setValue([a.max-o,a.max])),n={x:t.x,y:t.y}}})),t.on("legend-track:dragend",(function(t){n=null}))},e.prototype.drawLabels=function(t){this.drawLabel("min",t),this.drawLabel("max",t)},e.prototype.drawLabel=function(t,e){var n=this.get("label"),A=n.style,r=n.align,i=n.formatter,o=this.get(t),a=this.getLabelAlignAttrs(t,r),s="label-"+t;this.addShape(e,{type:"text",id:this.getElementId(s),name:"legend-label-"+t,attrs:Dt(Dt({x:0,y:0,text:jt(i)?i(o):o},A),a)})},e.prototype.getLabelAlignAttrs=function(t,e){var n="center",A="middle";return this.isVertical()?(n="start",A="rail"!==e?"min"===t?"top":"bottom":"top"):"rail"!==e?(A="top",n="min"===t?"start":"end"):(n="start",A="middle"),{textAlign:n,textBaseline:A}},e.prototype.getRailPath=function(t,e,n,A){var r=this.get("rail"),i=r.size,o=r.defaultLength,a=r.type,s=this.isVertical(),l=n,u=A;l||(l=s?i:o),u||(u=s?o:i);var c=[];return"color"===a?(c.push(["M",t,e]),c.push(["L",t+l,e]),c.push(["L",t+l,e+u]),c.push(["L",t,e+u]),c.push(["Z"])):(c.push(["M",t+l,e]),c.push(["L",t+l,e+u]),c.push(["L",t,e+u]),c.push(["Z"])),c},e.prototype.drawRail=function(t){var e=this.get("rail").style;this.addShape(t,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:Dt({path:this.getRailPath(0,0)},e)})},e.prototype.getTrackColor=function(t){var e,n=t.length;if(!n)return null;if(1===n)return t[0];e=this.isVertical()?"l(90)":"l(0)";for(var A=0;A<n;A++){e+=" "+A/(n-1)+":"+t[A]}return e},e.prototype.getTrackPath=function(t){var e=this.getRailShape(t).attr("path");return We(e)},e.prototype.getClipTrackAttrs=function(t){var e,n,A,r,i=this.getCurrentValue(),o=i[0],a=i[1],s=this.getRailBBox(t),l=this.getPointByValue(o,t),u=this.getPointByValue(a,t);return this.isVertical()?(e=s.minX,n=l.y,A=s.width,r=u.y-l.y):(e=l.x,n=s.minY,A=u.x-l.x,r=s.height),{x:e,y:n,width:A,height:r}},e.prototype.getTrackAttrs=function(t){var e=this.get("track"),n=this.get("colors");return ze({path:this.getTrackPath(t),fill:this.getTrackColor(n)},e.style)},e.prototype.resetTrackClip=function(t){var e=t||this.get("group"),n=this.getElementId("track"),A=e.findById(n),r=A.getClip(),i=this.getClipTrackAttrs(t);r?r.attr(i):A.setClip({type:"rect",attrs:i})},e.prototype.resetTrack=function(t){var e=this.getElementId("track"),n=t.findById(e),A=this.getTrackAttrs(t);n?n.attr(A):this.addShape(t,{type:"path",id:e,draggable:this.get("slidable"),name:"legend-track",attrs:A})},e.prototype.getPointByValue=function(t,e){var n=this.getRange(),A=n.min,r=(t-A)/(n.max-A),i=this.getRailBBox(e),o={x:0,y:0};return this.isVertical()?(o.x=i.minX+i.width/2,o.y=mu(i.minY,i.maxY,r)):(o.x=mu(i.minX,i.maxX,r),o.y=i.minY+i.height/2),o},e.prototype.getRailShape=function(t){return(t||this.get("group")).findById(this.getElementId("rail"))},e.prototype.getRailBBox=function(t){return this.getRailShape(t).getBBox()},e.prototype.getRailCanvasBBox=function(){return this.get("group").findById(this.getElementId("rail")).getCanvasBBox()},e.prototype.isVertical=function(){return"vertical"===this.get("layout")},e.prototype.getValueByCanvasPoint=function(t,e){var n=this.getRange(),A=n.min,r=n.max,i=this.getRailCanvasBBox(),o=this.isVertical(),a=this.get("step"),s=mu(A,r,o?(e-i.minY)/i.height:(t-i.minX)/i.width);a&&(s=A+Math.round((s-A)/a)*a);return s>r&&(s=r),s<A&&(s=A),s},e.prototype.getCurrentValue=function(){var t=this.get("value");if(!t){var e=this.get("values");return e?[Math.max(Math.min.apply(Math,Gt(e,[this.get("max")])),this.get("min")),Math.min(Math.max.apply(Math,Gt(e,[this.get("min")])),this.get("max"))]:[this.get("min"),this.get("max")]}return t},e.prototype.resetHandlers=function(t){var e=this.getCurrentValue(),n=e[0],A=e[1];this.resetHandler(t,"min",n),this.resetHandler(t,"max",A)},e.prototype.getHandlerPath=function(t,e){var n=this.isVertical(),A=[],r=t.size,i=e.x,o=e.y,a=1.4*r,s=r/2,l=r/6;if(n){var u=i+.4*a;A.push(["M",i,o]),A.push(["L",u,o+s]),A.push(["L",i+a,o+s]),A.push(["L",i+a,o-s]),A.push(["L",u,o-s]),A.push(["Z"]),A.push(["M",u,o+l]),A.push(["L",i+a-2,o+l]),A.push(["M",u,o-l]),A.push(["L",i+a-2,o-l])}else{var c=o+.4*a;A.push(["M",i,o]),A.push(["L",i-s,c]),A.push(["L",i-s,o+a]),A.push(["L",i+s,o+a]),A.push(["L",i+s,c]),A.push(["Z"]),A.push(["M",i-l,c]),A.push(["L",i-l,o+a-2]),A.push(["M",i+l,c]),A.push(["L",i+l,o+a-2])}return A},e.prototype.resetHandler=function(t,e,n){var A=this.getPointByValue(n,t),r=this.get("handler"),i=this.getHandlerPath(r,A),o=this.getElementId("handler-"+e),a=t.findById(o),s=this.isVertical();a?a.attr("path",i):this.addShape(t,{type:"path",name:"legend-handler-"+e,draggable:!0,id:o,attrs:Dt(Dt({path:i},r.style),{cursor:s?"ns-resize":"ew-resize"})})},e.prototype.fixedElements=function(t){var e=t.findById(this.getElementId("rail")),n=t.findById(this.getElementId("label-min")),A=t.findById(this.getElementId("label-max")),r=this.getDrawPoint();this.isVertical()?this.fixedVertail(n,A,e,r):this.fixedHorizontal(n,A,e,r)},e.prototype.fitRailLength=function(t,e,n,A){var r=this.isVertical()?"height":"width",i=this.get("label"),o=i.align,a=i.spacing,s=this.get("max"+Pe(r));if(s){var l=("rail"===o?n[r]+t[r]+e[r]+2*a:n[r])-s;l>0&&this.changeRailLength(A,r,n[r]-l)}},e.prototype.changeRailLength=function(t,e,n){var A,r=t.getBBox();A="height"===e?this.getRailPath(r.x,r.y,r.width,n):this.getRailPath(r.x,r.y,n,r.height),t.attr("path",A)},e.prototype.changeRailPosition=function(t,e,n){var A=t.getBBox(),r=this.getRailPath(e,n,A.width,A.height);t.attr("path",r)},e.prototype.fixedHorizontal=function(t,e,n,A){var r=this.get("label"),i=r.align,o=r.spacing,a=n.getBBox(),s=t.getBBox(),l=e.getBBox(),u=a.height;this.fitRailLength(s,l,a,n),a=n.getBBox(),"rail"===i?(t.attr({x:A.x,y:A.y+u/2}),this.changeRailPosition(n,A.x+s.width+o,A.y),e.attr({x:A.x+s.width+a.width+2*o,y:A.y+u/2})):"top"===i?(t.attr({x:A.x,y:A.y}),e.attr({x:A.x+a.width,y:A.y}),this.changeRailPosition(n,A.x,A.y+s.height+o)):(this.changeRailPosition(n,A.x,A.y),t.attr({x:A.x,y:A.y+a.height+o}),e.attr({x:A.x+a.width,y:A.y+a.height+o}))},e.prototype.fixedVertail=function(t,e,n,A){var r=this.get("label"),i=r.align,o=r.spacing,a=n.getBBox(),s=t.getBBox(),l=e.getBBox();if(this.fitRailLength(s,l,a,n),a=n.getBBox(),"rail"===i)t.attr({x:A.x,y:A.y}),this.changeRailPosition(n,A.x,A.y+s.height+o),e.attr({x:A.x,y:A.y+s.height+a.height+2*o});else if("right"===i)t.attr({x:A.x+a.width+o,y:A.y}),this.changeRailPosition(n,A.x,A.y),e.attr({x:A.x+a.width+o,y:A.y+a.height});else{var u=Math.max(s.width,l.width);t.attr({x:A.x,y:A.y}),this.changeRailPosition(n,A.x+u+o,A.y),e.attr({x:A.x,y:A.y+a.height})}},e}(Ec),Dc="g2-tooltip",Pc="g2-tooltip-title",Oc="g2-tooltip-list",Rc="g2-tooltip-list-item",Kc="g2-tooltip-marker",Vc="g2-tooltip-value",Gc="g2-tooltip-name",Nc="g2-tooltip-crosshair-x",_c="g2-tooltip-crosshair-y";const Xc=Object.freeze(Object.defineProperty({__proto__:null,CONTAINER_CLASS:Dc,CROSSHAIR_X:Nc,CROSSHAIR_Y:_c,LIST_CLASS:Oc,LIST_ITEM_CLASS:Rc,MARKER_CLASS:Kc,NAME_CLASS:Gc,TITLE_CLASS:Pc,VALUE_CLASS:Vc},Symbol.toStringTag,{value:"Module"}));var Yc;const zc=((Yc={})[""+Dc]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:Ru.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},Yc[""+Pc]={marginBottom:"4px"},Yc[""+Oc]={margin:"0px",listStyleType:"none",padding:"0px"},Yc[""+Rc]={listStyleType:"none",marginBottom:"4px"},Yc[""+Kc]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},Yc[""+Vc]={display:"inline-block",float:"right",marginLeft:"30px"},Yc[""+Nc]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},Yc[""+_c]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},Yc);var Wc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Dt(Dt({},e),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+Dc+'"><div class="'+Pc+'"></div><ul class="'+Oc+'"></ul></div>',itemTpl:'<li class="'+Rc+'" data-index={index}>\n          <span class="'+Kc+'" style="background:{color}"></span>\n          <span class="'+Gc+'">{name}</span>:\n          <span class="'+Vc+'">{value}</span>\n        </li>',xCrosshairTpl:'<div class="'+Nc+'"></div>',yCrosshairTpl:'<div class="'+_c+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:Dc,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:zc})},e.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},e.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},e.prototype.show=function(){var t=this.getContainer();t&&!this.destroyed&&(this.set("visible",!0),qn(t,{visibility:"visible"}),this.setCrossHairsVisible(!0))},e.prototype.hide=function(){var t=this.getContainer();t&&!this.destroyed&&(this.set("visible",!1),qn(t,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},e.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},e.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetPosition()},e.prototype.setCrossHairsVisible=function(t){var e=t?"":"none",n=this.get("xCrosshairDom"),A=this.get("yCrosshairDom");n&&qn(n,{display:e}),A&&qn(A,{display:e})},e.prototype.initContainer=function(){if(t.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var e=this.getHtmlContentNode();this.get("parent").appendChild(e),this.set("container",e),this.resetStyles(),this.applyStyles()}},e.prototype.updateInner=function(e){var n,A;this.get("customContent")?this.renderCustomContent():(n=e,A=!1,$t(["title","showTitle"],(function(t){if(ke(n,t))return A=!0,!1})),A&&this.resetTitle(),ke(e,"items")&&this.renderItems()),t.prototype.updateInner.call(this,e)},e.prototype.initDom=function(){this.cacheDoms()},e.prototype.removeDom=function(){t.prototype.removeDom.call(this),this.clearCrosshairs()},e.prototype.resetPosition=function(){var t,e=this.get("x"),n=this.get("y"),A=this.get("offset"),r=this.getOffset(),i=r.offsetX,o=r.offsetY,a=this.get("position"),s=this.get("region"),l=this.getContainer(),u=this.getBBox(),c=u.width,h=u.height;s&&(t=yu(s));var p=function(t,e,n,A,r,i,o){var a=function(t,e,n,A,r,i){var o=t,a=e;switch(i){case"left":o=t-A-n,a=e-r/2;break;case"right":o=t+n,a=e-r/2;break;case"top":o=t-A/2,a=e-r-n;break;case"bottom":o=t-A/2,a=e+n;break;default:o=t+n,a=e-r-n}return{x:o,y:a}}(t,e,n,A,r,i);if(o){var s=function(t,e,n,A,r){return{left:t<r.x,right:t+n>r.x+r.width,top:e<r.y,bottom:e+A>r.y+r.height}}(a.x,a.y,A,r,o);"auto"===i?(s.right&&(a.x=Math.max(0,t-A-n)),s.top&&(a.y=Math.max(0,e-r-n))):"top"===i||"bottom"===i?(s.left&&(a.x=o.x),s.right&&(a.x=o.x+o.width-A),"top"===i&&s.top&&(a.y=e+n),"bottom"===i&&s.bottom&&(a.y=e-r-n)):(s.top&&(a.y=o.y),s.bottom&&(a.y=o.y+o.height-r),"left"===i&&s.left&&(a.x=t+n),"right"===i&&s.right&&(a.x=t-A-n))}return a}(e,n,A,c,h,a,t);qn(l,{left:Cu(p.x+i),top:Cu(p.y+o)}),this.resetCrosshairs()},e.prototype.renderCustomContent=function(){var t=this.getHtmlContentNode(),e=this.get("parent"),n=this.get("container");n&&n.parentNode===e?e.replaceChild(t,n):e.appendChild(t),this.set("container",t),this.resetStyles(),this.applyStyles()},e.prototype.getHtmlContentNode=function(){var t,e=this.get("customContent");if(e){var n=e(this.get("title"),this.get("items"));t=Xe(n)?n:zn(n)}return t},e.prototype.cacheDoms=function(){var t=this.getContainer(),e=t.getElementsByClassName(Pc)[0],n=t.getElementsByClassName(Oc)[0];this.set("titleDom",e),this.set("listDom",n)},e.prototype.resetTitle=function(){var t=this.get("title");this.get("showTitle")&&t?this.setTitle(t):this.setTitle("")},e.prototype.setTitle=function(t){var e=this.get("titleDom");e&&(e.innerText=t)},e.prototype.resetCrosshairs=function(){var t=this.get("crosshairsRegion"),e=this.get("crosshairs");if(t&&e){var n=yu(t),A=this.get("xCrosshairDom"),r=this.get("yCrosshairDom");"x"===e?(this.resetCrosshair("x",n),r&&(r.remove(),this.set("yCrosshairDom",null))):"y"===e?(this.resetCrosshair("y",n),A&&(A.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",n),this.resetCrosshair("y",n)),this.setCrossHairsVisible(this.get("visible"))}else this.clearCrosshairs()},e.prototype.resetCrosshair=function(t,e){var n=this.checkCrosshair(t),A=this.get(t);qn(n,"x"===t?{left:Cu(A),top:Cu(e.y),height:Cu(e.height)}:{top:Cu(A),left:Cu(e.x),width:Cu(e.width)})},e.prototype.checkCrosshair=function(t){var e=t+"CrosshairDom",n=t+"CrosshairTpl",A="CROSSHAIR_"+t.toUpperCase(),r=Xc[A],i=this.get(e),o=this.get("parent");return i||(i=zn(this.get(n)),this.applyStyle(r,i),o.appendChild(i),this.set(e,i)),i},e.prototype.renderItems=function(){this.clearItemDoms();var t=this.get("items"),e=this.get("itemTpl"),n=this.get("listDom");n&&($t(t,(function(t){var A=ys.toCSSGradient(t.color),r=Dt(Dt({},t),{color:A}),i=zn(De(e,r));n.appendChild(i)})),this.applyChildrenStyles(n,this.get("domStyles")))},e.prototype.clearItemDoms=function(){this.get("listDom")&&gu(this.get("listDom"))},e.prototype.clearCrosshairs=function(){var t=this.get("xCrosshairDom"),e=this.get("yCrosshairDom");t&&t.remove(),e&&e.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},e}(ju),jc={opacity:0},Jc={stroke:"#C5C5C5",strokeOpacity:.85},qc={fill:"#CACED4",opacity:.85};function Zc(t){return function(t){return An(t,(function(t,e){return[0===e?"M":"L",t[0],t[1]]}))}(t)}function $c(t,e,n,A){void 0===A&&(A=!0);var r=new dl({values:t}),i=new Qs({values:An(t,(function(t,e){return e}))}),o=An(t,(function(t,A){return[i.scale(A)*e,n-r.scale(t)*n]}));return A?function(t){if(t.length<=2)return Zc(t);var e=[];$t(t,(function(t){nn(t,e.slice(e.length-2))||e.push(t[0],t[1])}));var n=Ca(e,!1),A=ge(t),r=A[0],i=A[1];return n.unshift(["M",r,i]),n}(o):Zc(o)}function th(t,e,n,A){var r=Gt(t),i=function(t,e){var n=new dl({values:t}),A=n.max<0?n.max:Math.max(0,n.min);return e-n.scale(A)*e}(A,n);return r.push(["L",e,i]),r.push(["L",0,i]),r.push(["Z"]),r}var eh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Dt(Dt({},e),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:jc,lineStyle:Jc,areaStyle:qc})},e.prototype.renderInner=function(t){var e=this.cfg,n=e.width,A=e.height,r=e.data,i=e.smooth,o=e.isArea,a=e.backgroundStyle,s=e.lineStyle,l=e.areaStyle;this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:Dt({x:0,y:0,width:n,height:A},a)});var u=$c(r,n,A,i);if(this.addShape(t,{id:this.getElementId("line"),type:"path",attrs:Dt({path:u},s)}),o){var c=th(u,n,A,r);this.addShape(t,{id:this.getElementId("area"),type:"path",attrs:Dt({path:c},l)})}},e.prototype.applyOffset=function(){var t=this.cfg,e=t.x,n=t.y;this.moveElementTo(this.get("group"),{x:e,y:n})},e}(Su),nh={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},Ah=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Dt(Dt({},e),{name:"handler",x:0,y:0,width:10,height:24,style:nh})},e.prototype.renderInner=function(t){var e=this.cfg,n=e.width,A=e.height,r=e.style,i=r.fill,o=r.stroke,a=r.radius,s=r.opacity,l=r.cursor;this.addShape(t,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:n,height:A,fill:i,stroke:o,radius:a,opacity:s,cursor:l}});var u=1/3*n,c=2/3*n,h=1/4*A,p=3/4*A;this.addShape(t,{id:this.getElementId("line-left"),type:"line",attrs:{x1:u,y1:h,x2:u,y2:p,stroke:o,cursor:l}}),this.addShape(t,{id:this.getElementId("line-right"),type:"line",attrs:{x1:c,y1:h,x2:c,y2:p,stroke:o,cursor:l}})},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},e.prototype.initEvent=function(){this.bindEvents()},e.prototype.bindEvents=function(){var t=this;this.get("group").on("mouseenter",(function(){var e=t.get("style").highLightFill;t.getElementByLocalId("background").attr("fill",e),t.draw()})),this.get("group").on("mouseleave",(function(){var e=t.get("style").fill;t.getElementByLocalId("background").attr("fill",e),t.draw()}))},e.prototype.draw=function(){var t=this.get("container").get("canvas");t&&t.draw()},e}(Su),rh={fill:"#416180",opacity:.05},ih={fill:"#5B8FF9",opacity:.15,cursor:"move"},oh={width:10,height:24},ah={textBaseline:"middle",fill:"#000",opacity:.45},sh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onMouseDown=function(t){return function(n){e.currentTarget=t;var A=n.originalEvent;A.stopPropagation(),A.preventDefault(),e.prevX=on(A,"touches.0.pageX",A.pageX),e.prevY=on(A,"touches.0.pageY",A.pageY);var r=e.getContainerDOM();r.addEventListener("mousemove",e.onMouseMove),r.addEventListener("mouseup",e.onMouseUp),r.addEventListener("mouseleave",e.onMouseUp),r.addEventListener("touchmove",e.onMouseMove),r.addEventListener("touchend",e.onMouseUp),r.addEventListener("touchcancel",e.onMouseUp)}},e.onMouseMove=function(t){var n=e.cfg.width,A=[e.get("start"),e.get("end")];t.stopPropagation(),t.preventDefault();var r=on(t,"touches.0.pageX",t.pageX),i=on(t,"touches.0.pageY",t.pageY),o=r-e.prevX,a=e.adjustOffsetRange(o/n);e.updateStartEnd(a),e.updateUI(e.getElementByLocalId("foreground"),e.getElementByLocalId("minText"),e.getElementByLocalId("maxText")),e.prevX=r,e.prevY=i,e.draw(),e.emit("sliderchange",[e.get("start"),e.get("end")].sort()),e.delegateEmit("valuechanged",{originValue:A,value:[e.get("start"),e.get("end")]})},e.onMouseUp=function(){e.currentTarget&&(e.currentTarget=void 0);var t=e.getContainerDOM();t&&(t.removeEventListener("mousemove",e.onMouseMove),t.removeEventListener("mouseup",e.onMouseUp),t.removeEventListener("mouseleave",e.onMouseUp),t.removeEventListener("touchmove",e.onMouseMove),t.removeEventListener("touchend",e.onMouseUp),t.removeEventListener("touchcancel",e.onMouseUp))},e}return Tt(e,t),e.prototype.setRange=function(t,e){this.set("minLimit",t),this.set("maxLimit",e);var n=this.get("start"),A=this.get("end"),r=Ce(n,t,e),i=Ce(A,t,e);this.get("isInit")||n===r&&A===i||this.setValue([r,i])},e.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},e.prototype.setValue=function(t){var e=this.getRange();if(qt(t)&&2===t.length){var n=[this.get("start"),this.get("end")];this.update({start:Ce(t[0],e.min,e.max),end:Ce(t[1],e.min,e.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:n,value:t})}},e.prototype.getValue=function(){return[this.get("start"),this.get("end")]},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Dt(Dt({},e),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:rh,foregroundStyle:ih,handlerStyle:oh,textStyle:ah}})},e.prototype.update=function(e){var n=e.start,A=e.end,r=Dt({},e);Jt(n)||(r.start=Ce(n,0,1)),Jt(A)||(r.end=Ce(A,0,1)),t.prototype.update.call(this,r),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler")),this.trend=this.getChildComponentById(this.getElementId("trend"))},e.prototype.init=function(){this.set("start",Ce(this.get("start"),0,1)),this.set("end",Ce(this.get("end"),0,1)),t.prototype.init.call(this)},e.prototype.render=function(){t.prototype.render.call(this),this.updateUI(this.getElementByLocalId("foreground"),this.getElementByLocalId("minText"),this.getElementByLocalId("maxText"))},e.prototype.renderInner=function(t){var e=this.cfg;e.start,e.end;var n=e.width,A=e.height,r=e.trendCfg,i=void 0===r?{}:r,o=e.minText,a=e.maxText,s=e.backgroundStyle,l=void 0===s?{}:s,u=e.foregroundStyle,c=void 0===u?{}:u,h=e.textStyle,p=void 0===h?{}:h,f=Ze({},nh,this.cfg.handlerStyle);gn(on(i,"data"))&&(this.trend=this.addComponent(t,Dt({component:eh,id:this.getElementId("trend"),x:0,y:0,width:n,height:A},i))),this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:Dt({x:0,y:0,width:n,height:A},l)}),this.addShape(t,{id:this.getElementId("minText"),type:"text",attrs:Dt({y:A/2,textAlign:"right",text:o,silent:!1},p)}),this.addShape(t,{id:this.getElementId("maxText"),type:"text",attrs:Dt({y:A/2,textAlign:"left",text:a,silent:!1},p)}),this.addShape(t,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:Dt({y:0,height:A},c)});var d=on(f,"width",10),g=on(f,"height",24);this.minHandler=this.addComponent(t,{component:Ah,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(A-g)/2,width:d,height:g,cursor:"ew-resize",style:f}),this.maxHandler=this.addComponent(t,{component:Ah,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(A-g)/2,width:d,height:g,cursor:"ew-resize",style:f})},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},e.prototype.initEvent=function(){this.bindEvents()},e.prototype.updateUI=function(t,e,n){var A=this.cfg,r=A.start,i=A.end,o=A.width,a=A.minText,s=A.maxText,l=A.handlerStyle,u=A.height,c=r*o,h=i*o;this.trend&&(this.trend.update({width:o,height:u}),this.get("updateAutoRender")||this.trend.render()),t.attr("x",c),t.attr("width",h-c);var p=on(l,"width",10);e.attr("text",a),n.attr("text",s);var f=this._dodgeText([c,h],e,n),d=f[0],g=f[1];this.minHandler&&(this.minHandler.update({x:c-p/2}),this.get("updateAutoRender")||this.minHandler.render()),$t(d,(function(t,n){return e.attr(n,t)})),this.maxHandler&&(this.maxHandler.update({x:h-p/2}),this.get("updateAutoRender")||this.maxHandler.render()),$t(g,(function(t,e){return n.attr(e,t)}))},e.prototype.bindEvents=function(){var t=this.get("group");t.on("handler-min:mousedown",this.onMouseDown("minHandler")),t.on("handler-min:touchstart",this.onMouseDown("minHandler")),t.on("handler-max:mousedown",this.onMouseDown("maxHandler")),t.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var e=t.findById(this.getElementId("foreground"));e.on("mousedown",this.onMouseDown("foreground")),e.on("touchstart",this.onMouseDown("foreground"))},e.prototype.adjustOffsetRange=function(t){var e=this.cfg,n=e.start,A=e.end;switch(this.currentTarget){case"minHandler":var r=0-n,i=1-n;return Math.min(i,Math.max(r,t));case"maxHandler":r=0-A,i=1-A;return Math.min(i,Math.max(r,t));case"foreground":r=0-n,i=1-A;return Math.min(i,Math.max(r,t))}},e.prototype.updateStartEnd=function(t){var e=this.cfg,n=e.start,A=e.end;switch(this.currentTarget){case"minHandler":n+=t;break;case"maxHandler":A+=t;break;case"foreground":n+=t,A+=t}this.set("start",n),this.set("end",A)},e.prototype._dodgeText=function(t,e,n){var A,r,i=this.cfg,o=i.handlerStyle,a=i.width,s=on(o,"width",10),l=t[0],u=t[1],c=!1;l>u&&(l=(A=[u,l])[0],u=A[1],e=(r=[n,e])[0],n=r[1],c=!0);var h=e.getBBox(),p=n.getBBox(),f=h.width>l-2?{x:l+s/2+2,textAlign:"left"}:{x:l-s/2-2,textAlign:"right"},d=p.width>a-u-2?{x:u-s/2-2,textAlign:"right"}:{x:u+s/2+2,textAlign:"left"};return c?[d,f]:[f,d]},e.prototype.draw=function(){var t=this.get("container"),e=t&&t.get("canvas");e&&e.draw()},e.prototype.getContainerDOM=function(){var t=this.get("container"),e=t&&t.get("canvas");return e&&e.get("container")},e}(Su),lh={default:{trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},hover:{thumbColor:"rgba(0,0,0,0.2)"}},uh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.clearEvents=dn,e.onStartEvent=function(t){return function(n){e.isMobile=t,n.originalEvent.preventDefault();var A=t?on(n.originalEvent,"touches.0.clientX"):n.clientX,r=t?on(n.originalEvent,"touches.0.clientY"):n.clientY;e.startPos=e.cfg.isHorizontal?A:r,e.bindLaterEvent()}},e.bindLaterEvent=function(){var t=e.getContainerDOM(),n=[];n=e.isMobile?[Yn(t,"touchmove",e.onMouseMove),Yn(t,"touchend",e.onMouseUp),Yn(t,"touchcancel",e.onMouseUp)]:[Yn(t,"mousemove",e.onMouseMove),Yn(t,"mouseup",e.onMouseUp),Yn(t,"mouseleave",e.onMouseUp)],e.clearEvents=function(){n.forEach((function(t){t.remove()}))}},e.onMouseMove=function(t){var n=e.cfg,A=n.isHorizontal,r=n.thumbOffset;t.preventDefault();var i=e.isMobile?on(t,"touches.0.clientX"):t.clientX,o=e.isMobile?on(t,"touches.0.clientY"):t.clientY,a=A?i:o,s=a-e.startPos;e.startPos=a,e.updateThumbOffset(r+s)},e.onMouseUp=function(t){t.preventDefault(),e.clearEvents()},e.onTrackClick=function(t){var n=e.cfg,A=n.isHorizontal,r=n.x,i=n.y,o=n.thumbLen,a=e.getContainerDOM().getBoundingClientRect(),s=t.clientX,l=t.clientY,u=A?s-a.left-r-o/2:l-a.top-i-o/2,c=e.validateRange(u);e.updateThumbOffset(c)},e.onThumbMouseOver=function(){var t=e.cfg.theme.hover.thumbColor;e.getElementByLocalId("thumb").attr("stroke",t),e.draw()},e.onThumbMouseOut=function(){var t=e.cfg.theme.default.thumbColor;e.getElementByLocalId("thumb").attr("stroke",t),e.draw()},e}return Tt(e,t),e.prototype.setRange=function(t,e){this.set("minLimit",t),this.set("maxLimit",e);var n=this.getValue(),A=Ce(n,t,e);n===A||this.get("isInit")||this.setValue(A)},e.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},e.prototype.setValue=function(t){var e=this.getRange(),n=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*Ce(t,e.min,e.max)}),this.delegateEmit("valuechange",{originalValue:n,value:this.getValue()})},e.prototype.getValue=function(){return Ce(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Dt(Dt({},e),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:lh})},e.prototype.renderInner=function(t){this.renderTrackShape(t),this.renderThumbShape(t)},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},e.prototype.initEvent=function(){this.bindEvents()},e.prototype.renderTrackShape=function(t){var e=this.cfg,n=e.trackLen,A=e.theme,r=Ze({},lh,void 0===A?{default:{}}:A).default,i=r.lineCap,o=r.trackColor,a=r.size,s=on(this.cfg,"size",a),l=this.get("isHorizontal")?{x1:0+s/2,y1:s/2,x2:n-s/2,y2:s/2,lineWidth:s,stroke:o,lineCap:i}:{x1:s/2,y1:0+s/2,x2:s/2,y2:n-s/2,lineWidth:s,stroke:o,lineCap:i};return this.addShape(t,{id:this.getElementId("track"),name:"track",type:"line",attrs:l})},e.prototype.renderThumbShape=function(t){var e=this.cfg,n=e.thumbOffset,A=e.thumbLen,r=e.theme,i=Ze({},lh,r).default,o=i.size,a=i.lineCap,s=i.thumbColor,l=on(this.cfg,"size",o),u=this.get("isHorizontal")?{x1:n+l/2,y1:l/2,x2:n+A-l/2,y2:l/2,lineWidth:l,stroke:s,lineCap:a,cursor:"default"}:{x1:l/2,y1:n+l/2,x2:l/2,y2:n+A-l/2,lineWidth:l,stroke:s,lineCap:a,cursor:"default"};return this.addShape(t,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:u})},e.prototype.bindEvents=function(){var t=this.get("group");t.on("mousedown",this.onStartEvent(!1)),t.on("mouseup",this.onMouseUp),t.on("touchstart",this.onStartEvent(!0)),t.on("touchend",this.onMouseUp),t.findById(this.getElementId("track")).on("click",this.onTrackClick);var e=t.findById(this.getElementId("thumb"));e.on("mouseover",this.onThumbMouseOver),e.on("mouseout",this.onThumbMouseOut)},e.prototype.getContainerDOM=function(){var t=this.get("container"),e=t&&t.get("canvas");return e&&e.get("container")},e.prototype.validateRange=function(t){var e=this.cfg,n=e.thumbLen,A=e.trackLen,r=t;return t+n>A?r=A-n:t+n<n&&(r=0),r},e.prototype.draw=function(){var t=this.get("container"),e=t&&t.get("canvas");e&&e.draw()},e.prototype.updateThumbOffset=function(t){var e=this.cfg,n=e.thumbOffset,A=e.isHorizontal,r=e.thumbLen,i=e.size,o=this.validateRange(t);if(o!==n){var a=this.getElementByLocalId("thumb");A?a.attr({x1:o+i/2,x2:o+r-i/2}):a.attr({y1:o+i/2,y2:o+r-i/2}),this.emitOffsetChange(o)}},e.prototype.emitOffsetChange=function(t){var e=this.cfg,n=e.thumbOffset,A=e.trackLen,r=e.thumbLen;this.cfg.thumbOffset=t,this.emit("scrollchange",{thumbOffset:t,ratio:Ce(t/(A-r),0,1)}),this.delegateEmit("valuechange",{originalValue:n,value:t})},e}(Su),ch=fc,hh=dc,ph=Uc,fh=Qc,dh=Hc,gh=Tc,yh=Wc;function vh(t){return 1===Array.from(new Set(t)).length}function mh(t){return(se(t)+ae(t))/2}function Bh(t,e,n,A){return{x:t+n*Math.cos(A),y:e+n*Math.sin(A)}}function xh(t,e,n,A,r,i){void 0===i&&(i=0);var o=Bh(t,e,n,A),a=Bh(t,e,n,r),s=Bh(t,e,i,A),l=Bh(t,e,i,r);if(r-A==2*Math.PI){var u=Bh(t,e,n,A+Math.PI),c=Bh(t,e,i,A+Math.PI),h=[["M",o.x,o.y],["A",n,n,0,1,1,u.x,u.y],["A",n,n,0,1,1,a.x,a.y],["M",s.x,s.y]];return i&&(h.push(["A",i,i,0,1,0,c.x,c.y]),h.push(["A",i,i,0,1,0,l.x,l.y])),h.push(["M",o.x,o.y]),h.push(["Z"]),h}var p=r-A<=Math.PI?0:1,f=[["M",o.x,o.y],["A",n,n,0,p,1,a.x,a.y],["L",l.x,l.y]];return i&&f.push(["A",i,i,0,p,0,s.x,s.y]),f.push(["L",o.x,o.y]),f.push(["Z"]),f}function wh(t,e,n,A,r){var i=Bh(t,e,n,A),o=Bh(t,e,n,r);if(Ue(r-A,2*Math.PI)){var a=Bh(t,e,n,A+Math.PI);return[["M",i.x,i.y],["A",n,n,0,1,1,a.x,a.y],["A",n,n,0,1,1,i.x,i.y],["A",n,n,0,1,0,a.x,a.y],["A",n,n,0,1,0,i.x,i.y],["Z"]]}var s=r-A<=Math.PI?0:1;return[["M",i.x,i.y],["A",n,n,0,s,1,o.x,o.y]]}function Ch(t,e){var n,A,r=function(t){if(en(t))return null;var e=t[0].x,n=t[0].x,A=t[0].y,r=t[0].y;return $t(t,(function(t){e=e>t.x?t.x:e,n=n<t.x?t.x:n,A=A>t.y?t.y:A,r=r<t.y?t.y:r})),{minX:e,maxX:n,minY:A,maxY:r,centerX:(e+n)/2,centerY:(A+r)/2}}(t.points),i=e.startAngle,o=e.endAngle-i;return e.isTransposed?(n=r.maxY*o,A=r.minY*o):(n=r.maxX*o,A=r.minX*o),{startAngle:A+=i,endAngle:n+=i}}function Fh(t,e){var n=t.attr(),A=e.attr();return $t(n,(function(t,e){void 0===A[e]&&(A[e]=void 0)})),A}function bh(t,e,n){var A=Math.min(e,n),r=Math.max(e,n);return t>=A&&t<=r}function Qh(t,e){return"object"==typeof t&&e.forEach((function(e){delete t[e]})),t}function Uh(t,e,n){var A,r;void 0===e&&(e=[]),void 0===n&&(n=new Map);try{for(var i=Kt(t),o=i.next();!o.done;o=i.next()){var a=o.value;n.has(a)||(e.push(a),n.set(a,!0))}}catch(s){A={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(A)throw A.error}}return e}var Eh=function(){function t(t,e,n,A){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===A&&(A=0),this.x=t,this.y=e,this.height=A,this.width=n}return t.fromRange=function(e,n,A,r){return new t(e,n,A-e,r-n)},t.fromObject=function(e){return new t(e.minX,e.minY,e.width,e.height)},Object.defineProperty(t.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},t.prototype.contains=function(t){return t.minX>=this.minX&&t.maxX<=this.maxX&&t.minY>=this.minY&&t.maxY<=this.maxY},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.add=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.clone();return $t(t,(function(t){n.x=Math.min(t.x,n.x),n.y=Math.min(t.y,n.y),n.width=Math.max(t.maxX,n.maxX)-n.x,n.height=Math.max(t.maxY,n.maxY)-n.y})),n},t.prototype.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.clone();return $t(t,(function(t){n.x=Math.max(t.x,n.x),n.y=Math.max(t.y,n.y),n.width=Math.min(t.maxX,n.maxX)-n.x,n.height=Math.min(t.maxY,n.maxY)-n.y})),n},t.prototype.cut=function(e,n){var A=e.width,r=e.height;switch(n){case wn.TOP:case wn.TOP_LEFT:case wn.TOP_RIGHT:return t.fromRange(this.minX,this.minY+r,this.maxX,this.maxY);case wn.RIGHT:case wn.RIGHT_TOP:case wn.RIGHT_BOTTOM:return t.fromRange(this.minX,this.minY,this.maxX-A,this.maxY);case wn.BOTTOM:case wn.BOTTOM_LEFT:case wn.BOTTOM_RIGHT:return t.fromRange(this.minX,this.minY,this.maxX,this.maxY-r);case wn.LEFT:case wn.LEFT_TOP:case wn.LEFT_BOTTOM:return t.fromRange(this.minX+A,this.minY,this.maxX,this.maxY);default:return this}},t.prototype.shrink=function(e){var n=Vt(e,4),A=n[0],r=n[1],i=n[2],o=n[3];return new t(this.x+o,this.y+A,this.width-o-r,this.height-A-i)},t.prototype.expand=function(e){var n=Vt(e,4),A=n[0],r=n[1],i=n[2],o=n[3];return new t(this.x-o,this.y-A,this.width+o+r,this.height+A+i)},t.prototype.exceed=function(t){return[Math.max(-this.minY+t.minY,0),Math.max(this.maxX-t.maxX,0),Math.max(this.maxY-t.maxY,0),Math.max(-this.minX+t.minX,0)]},t.prototype.collide=function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY},t.prototype.size=function(){return this.width*this.height},t.prototype.isPointIn=function(t){return t.x>=this.minX&&t.x<=this.maxX&&t.y>=this.minY&&t.y<=this.maxY},t}();function Mh(t){if(t.isPolar&&!t.isTransposed)return(t.endAngle-t.startAngle)*t.getRadius();var e=t.convert({x:0,y:0}),n=t.convert({x:1,y:0});return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function Sh(t,e){var n=t.getCenter();return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function Ih(t,e){var n=t.getCenter();return Math.atan2(e.y-n.y,e.x-n.x)}function kh(t,e){void 0===e&&(e=0);var n,A=t.start,r=t.end,i=t.getWidth(),o=t.getHeight();if(t.isPolar){var a=t.startAngle,s=t.endAngle,l=t.getCenter(),u=t.getRadius();return{type:"path",startState:{path:xh(l.x,l.y,u+e,a,a)},endState:function(t){var n=(s-a)*t+a;return{path:xh(l.x,l.y,u+e,a,n)}},attrs:{path:xh(l.x,l.y,u+e,a,s)}}}return n=t.isTransposed?{height:o+2*e}:{width:i+2*e},{type:"rect",startState:{x:A.x-e,y:r.y-e,width:t.isTransposed?i+2*e:0,height:t.isTransposed?0:o+2*e},endState:n,attrs:{x:A.x-e,y:r.y-e,width:i+2*e,height:o+2*e}}}var Lh=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function Hh(t,e,n,A){return void 0===e&&(e={}),e.type?e.type:"identity"!==t.type&&Gn.includes(n)&&["interval"].includes(A)||t.isCategory?"cat":t.type}function Th(t,e,n){var A=e||[];if(be(t)||Jt(function(t,e){for(var n=null,A=0;A<t.length;A++){var r=t[A][e];if(!Jt(r)){n=qt(r)?r[0]:r;break}}return n}(A,t))&&en(n))return new(bl("identity"))({field:t.toString(),values:[t]});var r=de(A,t);return new(bl(on(n,"type",function(t){var e="linear";return Lh.test(t)?e="timeCat":pe(t)&&(e="cat"),e}(r[0]))))(Dt({field:t,values:r},n))}function Dh(t){return t.alias||t.field}function Ph(t,e,n){var A,r=t.values.length;if(1===r)A=[.5,1];else{var i=0;A=function(t){if(t.isPolar){var e=t.startAngle;return t.endAngle-e==2*Math.PI}return!1}(e)?e.isTransposed?[(i=1/r*on(n,"widthRatio.multiplePie",1/1.3))/2,1-i/2]:[0,1-1/r]:[i=1/r/2,1-i]}return A}function Oh(t,e){var n={start:{x:0,y:0},end:{x:0,y:0}};t.isRect?n=function(t){var e,n;switch(t){case wn.TOP:e={x:0,y:1},n={x:1,y:1};break;case wn.RIGHT:e={x:1,y:0},n={x:1,y:1};break;case wn.BOTTOM:e={x:0,y:0},n={x:1,y:0};break;case wn.LEFT:e={x:0,y:0},n={x:0,y:1};break;default:e=n={x:0,y:0}}return{start:e,end:n}}(e):t.isPolar&&(n=function(t){var e,n;return t.isTransposed?(e={x:0,y:0},n={x:1,y:0}):(e={x:0,y:0},n={x:0,y:1}),{start:e,end:n}}(t));var A=n.start,r=n.end;return{start:t.convert(A),end:t.convert(r)}}function Rh(t){var e=t.start,n=t.end;return e.x===n.x}function Kh(t,e){var n=t.start,A=t.end;return Rh(t)?(n.y-A.y)*(e.x-n.x)>0?1:-1:(A.x-n.x)*(n.y-e.y)>0?-1:1}function Vh(t,e){var n=on(t,["components","axis"],{});return Ze({},on(n,["common"],{}),Ze({},on(n,[e],{})))}function Gh(t,e,n){var A=on(t,["components","axis"],{});return Ze({},on(A,["common","title"],{}),Ze({},on(A,[e,"title"],{})),n)}function Nh(t){var e=t.x,n=t.y,A=t.circleCenter,r=n.start>n.end,i=t.isTransposed?t.convert({x:r?0:1,y:0}):t.convert({x:0,y:r?0:1}),o=[i.x-A.x,i.y-A.y],a=[1,0],s=i.y>A.y?ur(o,a):-1*ur(o,a),l=s+(e.end-e.start);return{center:A,radius:Math.sqrt(Math.pow(i.x-A.x,2)+Math.pow(i.y-A.y,2)),startAngle:s,endAngle:l}}function _h(t,e){return Ke(t)?!1!==t&&{}:on(t,[e])}function Xh(t,e){return on(t,"position",e)}function Yh(t,e){return on(e,["title","text"],Dh(t))}var zh=function(){function t(t,e){this.destroyed=!1,this.facets=[],this.view=t,this.cfg=Ze({},this.getDefaultCfg(),e)}return t.prototype.init=function(){this.container||(this.container=this.createContainer());var t=this.view.getData();this.facets=this.generateFacets(t)},t.prototype.render=function(){this.renderViews()},t.prototype.update=function(){},t.prototype.clear=function(){this.clearFacetViews()},t.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},t.prototype.facetToView=function(t){var e=t.region,n=t.data,A=t.padding,r=void 0===A?this.cfg.padding:A,i=this.view.createView({region:e,padding:r});i.data(n||[]),t.view=i,this.beforeEachView(i,t);var o=this.cfg.eachView;return o&&o(i,t),this.afterEachView(i,t),i},t.prototype.createContainer=function(){return this.view.getLayer(Bn.FORE).addGroup()},t.prototype.renderViews=function(){this.createFacetViews()},t.prototype.createFacetViews=function(){var t=this;return this.facets.map((function(e){return t.facetToView(e)}))},t.prototype.clearFacetViews=function(){var t=this;$t(this.facets,(function(e){e.view&&(t.view.removeView(e.view),e.view=void 0)}))},t.prototype.parseSpacing=function(){var t=this.view.viewBBox,e=t.width,n=t.height;return this.cfg.spacing.map((function(t,A){return be(t)?t/(0===A?e:n):parseFloat(t)/100}))},t.prototype.getFieldValues=function(t,e){var n=[],A={};return $t(t,(function(t){var r=t[e];Jt(r)||A[r]||(n.push(r),A[r]=!0)})),n},t.prototype.getRegion=function(t,e,n,A){var r=Vt(this.parseSpacing(),2),i=r[0],o=r[1],a=(1+i)/(0===e?1:e)-i,s=(1+o)/(0===t?1:t)-o,l={x:(a+i)*n,y:(s+o)*A};return{start:l,end:{x:l.x+a,y:l.y+s}}},t.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,spacing:[0,0],padding:10,fields:[]}},t.prototype.getDefaultTitleCfg=function(){return{style:{fontSize:14,fill:"#666",fontFamily:this.view.getTheme().fontFamily}}},t.prototype.processAxis=function(t,e){var n=t.getOptions(),A=n.coordinate,r=t.geometries;if("rect"===on(A,"type","rect")&&r.length){Jt(n.axes)&&(n.axes={});var i=n.axes,o=Vt(r[0].getXYFields(),2),a=o[0],s=o[1],l=_h(i,a),u=_h(i,s);!1!==l&&(n.axes[a]=this.getXAxisOption(a,i,l,e)),!1!==u&&(n.axes[s]=this.getYAxisOption(s,i,u,e))}},t.prototype.getFacetDataFilter=function(t){return function(e){return ve(t,(function(t){var n=t.field,A=t.value;return!(!Jt(A)&&n)||e[n]===A}))}},t}(),Wh={},jh=function(t,e){Wh[Te(t)]=e},Jh=function(){function t(t,e){this.context=t,this.cfg=e,t.addAction(this)}return t.prototype.applyCfg=function(t){ze(this,t)},t.prototype.init=function(){this.applyCfg(this.cfg)},t.prototype.destroy=function(){this.context.removeAction(this),this.context=null},t}(),qh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.execute=function(){this.callback&&this.callback(this.context)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.callback=null},e}(Jh),Zh={};function $h(t){var e=Zh[t];return on(e,"ActionClass")}function tp(t,e,n){Zh[t]={ActionClass:e,cfg:n}}function ep(t,e){var n=new qh(e);return n.callback=t,n.name="callback",n}function np(t,e){for(var n=[t[0]],A=1,r=t.length;A<r;A+=2){var i=e.convert({x:t[A],y:t[A+1]});n.push(i.x,i.y)}return n}function Ap(t,e){var n=e.isTransposed,A=t[1],r=t[6],i=t[7],o=e.convert({x:r,y:i});return["A",A,A,0,0,n?0:1,o.x,o.y]}var rp=function(t,e,n,A){var r,i,o,a,s,l,u,c,h=[],p=!!A;if(p){a=(r=Vt(A,2))[0],s=r[1];for(var f=0,d=t.length;f<d;f++){a=rr([0,0],a,y=t[f]),s=ir([0,0],s,y)}}f=0;for(var g=t.length;f<g;f++){var y=t[f];if(0!==f||n)if(f!==g-1||n){i=t[n?f?f-1:g-1:f-1],o=t[n?(f+1)%g:f+1];var v=[0,0];v=or(v=cr(v,o,i),v,e);var m=ar(y,i),B=ar(y,o),x=m+B;0!==x&&(m/=x,B/=x);var w=or([0,0],v,-m),C=or([0,0],v,B);u=nr([0,0],y,w),l=rr([0,0],l=nr([0,0],y,C),ir([0,0],o,y)),l=ir([0,0],l,rr([0,0],o,y)),u=rr([0,0],u=nr([0,0],y,w=or([0,0],w=cr([0,0],l,y),-m/B)),ir([0,0],i,y)),u=ir([0,0],u,rr([0,0],i,y)),l=nr([0,0],y,C=or([0,0],C=cr([0,0],y,u),B/m)),p&&(u=rr([0,0],u=ir([0,0],u,a),s),l=rr([0,0],l=ir([0,0],l,a),s)),h.push(c),h.push(u),c=l}else u=y,h.push(c),h.push(u);else c=y}return n&&h.push(h.shift()),h};function ip(t,e,n){for(var A=!!e,r=[],i=0,o=t.length;i<o;i+=2)r.push([t[i],t[i+1]]);var a,s,l,u=rp(r,.4,A,n),c=r.length,h=[];for(i=0;i<c-1;i++)a=u[2*i],s=u[2*i+1],l=r[i+1],h.push(["C",a[0],a[1],s[0],s[1],l[0],l[1]]);return A&&(a=u[c],s=u[c+1],l=r[0],h.push(["C",a[0],a[1],s[0],s[1],l[0],l[1]])),h}function op(t,e){return function(t,e){var n=[];if(t.length){n.push(["M",t[0].x,t[0].y]);for(var A=1,r=t.length;A<r;A+=1){var i=t[A];n.push(["L",i.x,i.y])}e&&n.push(["Z"])}return n}(t,e)}function ap(t,e,n){var A=[],r=t[0],i=null;if(t.length<=2)return op(t,e);for(var o=0,a=t.length;o<a;o++){var s=t[o];i&&i.x===s.x&&i.y===s.y||(A.push(s.x),A.push(s.y),i=s)}var l=ip(A,e,n||[[0,0],[1,1]]);return l.unshift(["M",r.x,r.y]),l}function sp(t,e){var n,A,r,i=[];return $t(e,(function(o,a){switch(o[0].toLowerCase()){case"m":case"c":case"q":i.push(np(o,t));break;case"l":n=e[a-1],A=o,r=t.isTransposed,(r?n[n.length-2]===A[1]:n[n.length-1]===A[2])?i=i.concat(function(t,e,n){var A=n.isTransposed,r=n.startAngle,i=n.endAngle,o="a"===t[0].toLowerCase()?{x:t[6],y:t[7]}:{x:t[1],y:t[2]},a={x:e[1],y:e[2]},s=[],l=A?"y":"x",u=Math.abs(a[l]-o[l])*(i-r),c=a[l]>=o[l]?1:0,h=u>Math.PI?1:0,p=n.convert(a),f=Sh(n,p);if(f>=.5)if(u===2*Math.PI){var d={x:(a.x+o.x)/2,y:(a.y+o.y)/2},g=n.convert(d);s.push(["A",f,f,0,h,c,g.x,g.y]),s.push(["A",f,f,0,h,c,p.x,p.y])}else s.push(["A",f,f,0,h,c,p.x,p.y]);return s}(n,A,t)):i.push(np(o,t));break;case"a":i.push(Ap(o,t));break;default:i.push(o)}})),function(t){$t(t,(function(e,n){if("a"===e[0].toLowerCase()){var A=t[n-1],r=t[n+1];r&&"a"===r[0].toLowerCase()?A&&"l"===A[0].toLowerCase()&&(A[0]="M"):A&&"a"===A[0].toLowerCase()&&r&&"l"===r[0].toLowerCase()&&(r[0]="M")}}))}(i),i}function lp(t,e){return cp(t.event.target,e)}function up(t,e){var n=t.getCanvasBBox(),A=n.width,r=n.height;return A>0&&r>0&&(A>=e||r>=e)}function cp(t,e){var n=t.getCanvasBBox();return up(t,e)?n:null}function hp(t,e){return t.event.maskShapes.map((function(t){return cp(t,e)})).filter((function(t){return!!t}))}function pp(t,e){return up(t,e)?t.attr("path"):null}function fp(t){var e,n=t.event.target;return n&&(e=n.get("element")),e}function dp(t){var e,n=t.event.target;return n&&(e=n.get("delegateObject")),e}function gp(t){var e=t.event.gEvent;return!(e&&e.fromShape&&e.toShape&&e.fromShape.get("element")===e.toShape.get("element"))}function yp(t){return t&&t.component&&t.component.isList()}function vp(t){return t&&t.component&&t.component.isSlider()}function mp(t){var e=t.event.target;return e&&"mask"===(null==e?void 0:e.get("name"))||Bp(t)}function Bp(t){var e;return"multi-mask"===(null===(e=t.event.target)||void 0===e?void 0:e.get("name"))}function xp(t,e){var n=t.event.target;if(Bp(t))return function(t,e){var n=t.event.target;if("path"===n.get("type")){var A=function(t,e){return t.event.maskShapes.map((function(t){return pp(t,e)}))}(t,e);return A.length>0?A.flatMap((function(e){return Mp(t.view,e)})):null}var r=hp(t,e);if(r.length>0)return r.flatMap((function(e){return Up(t.view,e)}));return null}(t,e);if("path"===n.get("type")){var A=function(t,e){return pp(t.event.target,e)}(t,e);if(!A)return;return Mp(t.view,A)}var r=lp(t,e);return r?Up(t.view,r):null}function wp(t,e,n){if(Bp(t))return function(t,e,n){var A=hp(t,n);if(A.length>0)return A.flatMap((function(n){return Cp(n,t,e)}));return null}(t,e,n);var A=lp(t,n);return A?Cp(A,t,e):null}function Cp(t,e,n){var A=e.view,r=Hp(A,n,{x:t.x,y:t.y}),i=Hp(A,n,{x:t.maxX,y:t.maxY});return Up(n,{minX:r.x,minY:r.y,maxX:i.x,maxY:i.y})}function Fp(t){var e=t.geometries,n=[];return $t(e,(function(t){var e=t.elements;n=n.concat(e)})),t.views&&t.views.length&&$t(t.views,(function(t){n=n.concat(Fp(t))})),n}function bp(t,e){var n=t.geometries,A=[];return $t(n,(function(t){var n=t.getElementsBy((function(t){return t.hasState(e)}));A=A.concat(n)})),A}function Qp(t,e){var n=t.getModel().data;return qt(n)?n[0][e]:n[e]}function Up(t,e){var n=Fp(t),A=[];return $t(n,(function(t){var n=t.shape.getCanvasBBox();(function(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)})(e,n)&&A.push(t)})),A}function Ep(t){var e=[];return $t(t,(function(t){if("A"!==t[0])for(var n=1;n<t.length;n+=2)e.push([t[n],t[n+1]]);else{var A=t.length;e.push([t[A-2],t[A-1]])}})),e}function Mp(t,e){var n=Fp(t),A=Ep(e),r=n.filter((function(t){var e,n,r=t.shape;if("path"===r.get("type"))e=Ep(r.attr("path"));else{var i=r.getCanvasBBox();e=[[(n=i).minX,n.minY],[n.maxX,n.minY],[n.maxX,n.maxY],[n.minX,n.maxY]]}return function(t,e){if(t.length<2||e.length<2)return!1;var n,A,r=Xa(t),i=Xa(e);if(n=r,(A=i).minX>n.maxX||A.maxX<n.minX||A.minY>n.maxY||A.maxY<n.minY)return!1;var o=!1;if($t(e,(function(e){if(Ga(t,e[0],e[1]))return o=!0,!1})),o)return!0;if($t(t,(function(t){if(Ga(e,t[0],t[1]))return o=!0,!1})),o)return!0;var a=Na(t),s=Na(e),l=!1;return $t(s,(function(t){if(_a(a,t))return l=!0,!1})),l}(A,e)}));return r}function Sp(t){return t.getComponents().map((function(t){return t.component}))}function Ip(t,e){var n=e.x-t.x,A=e.y-t.y;return Math.sqrt(n*n+A*A)}function kp(t,e){return t.x<=e.x&&t.maxX>=e.x&&t.y<=e.y&&t.maxY>e.y}function Lp(t){var e=t.parent,n=null;return e&&(n=e.views.filter((function(e){return e!==t}))),n}function Hp(t,e,n){var A=function(t,e){return t.getCoordinate().invert(e)}(t,n);return e.getCoordinate().convert(A)}function Tp(t,e,n,A){var r=!1;return $t(t,(function(t){if(t[n]===e[n]&&t[A]===e[A])return r=!0,!1})),r}function Dp(t,e){var n=t.getScaleByField(e);return!n&&t.views&&$t(t.views,(function(t){if(n=Dp(t,e))return!1})),n}var Pp=function(){function t(t){this.actions=[],this.event=null,this.cacheMap={},this.view=t}return t.prototype.cache=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length)return this.cacheMap[t[0]];2===t.length&&(this.cacheMap[t[0]]=t[1])},t.prototype.getAction=function(t){return this.actions.find((function(e){return e.name===t}))},t.prototype.addAction=function(t){this.actions.push(t)},t.prototype.removeAction=function(t){var e=this.actions,n=this.actions.indexOf(t);n>=0&&e.splice(n,1)},t.prototype.getCurrentPoint=function(){var t=this.event;return t?t.target instanceof HTMLElement?this.view.getCanvas().getPointByClient(t.clientX,t.clientY):{x:t.x,y:t.y}:null},t.prototype.getCurrentShape=function(){return on(this.event,["gEvent","shape"])},t.prototype.isInPlot=function(){var t=this.getCurrentPoint();return!!t&&this.view.isPointInPlot(t)},t.prototype.isInShape=function(t){var e=this.getCurrentShape();return!!e&&e.get("name")===t},t.prototype.isInComponent=function(t){var e=Sp(this.view),n=this.getCurrentPoint();return!!n&&!!e.find((function(e){var A=e.getBBox();return t?e.get("name")===t&&kp(A,n):kp(A,n)}))},t.prototype.destroy=function(){$t(this.actions.slice(),(function(t){t.destroy()})),this.view=null,this.event=null,this.actions=null,this.cacheMap=null},t}(),Op=function(){function t(t,e){this.view=t,this.cfg=e}return t.prototype.init=function(){this.initEvents()},t.prototype.initEvents=function(){},t.prototype.clearEvents=function(){},t.prototype.destroy=function(){this.clearEvents()},t}();function Rp(t,e,n){var A=t.split(":"),r=A[0],i=e.getAction(r)||function(t,e){var n=Zh[t],A=null;return n&&((A=new(0,n.ActionClass)(e,n.cfg)).name=t,A.init()),A}(r,e);if(!i)throw new Error("There is no action named ".concat(r));return{action:i,methodName:A[1],arg:n}}function Kp(t){var e=t.action,n=t.methodName,A=t.arg;if(!e[n])throw new Error("Action(".concat(e.name,") doesn't have a method called ").concat(n));e[n](A)}var Vp="start",Gp="showEnable",Np="end",_p="rollback",Xp="processing",Yp=function(t){function e(e,n){var A=t.call(this,e,n)||this;return A.callbackCaches={},A.emitCaches={},A.steps=n,A}return Tt(e,t),e.prototype.init=function(){this.initContext(),t.prototype.init.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},e.prototype.initEvents=function(){var t=this;$t(this.steps,(function(e,n){$t(e,(function(e){var A=t.getActionCallback(n,e);A&&t.bindEvent(e.trigger,A)}))}))},e.prototype.clearEvents=function(){var t=this;$t(this.steps,(function(e,n){$t(e,(function(e){var A=t.getActionCallback(n,e);A&&t.offEvent(e.trigger,A)}))}))},e.prototype.initContext=function(){var t=this.view,e=new Pp(t);this.context=e,$t(this.steps,(function(t){$t(t,(function(t){if(jt(t.action))t.actionObject={action:ep(t.action,e),methodName:"execute"};else if(pe(t.action))t.actionObject=Rp(t.action,e,t.arg);else if(qt(t.action)){var n=t.action,A=qt(t.arg)?t.arg:[t.arg];t.actionObject=[],$t(n,(function(n,r){t.actionObject.push(Rp(n,e,A[r]))}))}}))}))},e.prototype.isAllowStep=function(t){var e=this.currentStepName,n=this.steps;if(e===t)return!0;if(t===Gp)return!0;if(t===Xp)return e===Vp;if(t===Vp)return e!==Xp;if(t===Np)return e===Xp||e===Vp;if(t===_p){if(n[Np])return e===Np;if(e===Vp)return!0}return!1},e.prototype.isAllowExecute=function(t,e){if(this.isAllowStep(t)){var n=this.getKey(t,e);return(!e.once||!this.emitCaches[n])&&(!e.isEnable||e.isEnable(this.context))}return!1},e.prototype.enterStep=function(t){this.currentStepName=t,this.emitCaches={}},e.prototype.afterExecute=function(t,e){t!==Gp&&this.currentStepName!==t&&this.enterStep(t);var n=this.getKey(t,e);this.emitCaches[n]=!0},e.prototype.getKey=function(t,e){return t+e.trigger+e.action},e.prototype.getActionCallback=function(t,e){var n=this,A=this.context,r=this.callbackCaches,i=e.actionObject;if(e.action&&i){var o=this.getKey(t,e);if(!r[o]){var a=function(r){A.event=r,n.isAllowExecute(t,e)?(qt(i)?$t(i,(function(t){A.event=r,Kp(t)})):(A.event=r,Kp(i)),n.afterExecute(t,e),e.callback&&(A.event=r,e.callback(A))):A.event=null};e.debounce?r[o]=je(a,e.debounce.wait,e.debounce.immediate):e.throttle?r[o]=cn(a,e.throttle.wait,{leading:e.throttle.leading,trailing:e.throttle.trailing}):r[o]=a}return r[o]}return null},e.prototype.bindEvent=function(t,e){var n=t.split(":");"window"===n[0]?window.addEventListener(n[1],e):"document"===n[0]?document.addEventListener(n[1],e):this.view.on(t,e)},e.prototype.offEvent=function(t,e){var n=t.split(":");"window"===n[0]?window.removeEventListener(n[1],e):"document"===n[0]?document.removeEventListener(n[1],e):this.view.off(t,e)},e}(Op),zp={};function Wp(t,e){zp[Te(t)]=e}function jp(t,e,n){var A=function(t){return zp[Te(t)]}(t);if(!A)return null;if(Ae(A)){var r=ze(We(A),n);return new Yp(e,r)}return new A(e,n)}function Jp(t){var e,n={point:{default:{fill:t.pointFillColor,r:t.pointSize,stroke:t.pointBorderColor,lineWidth:t.pointBorder,fillOpacity:t.pointFillOpacity},active:{stroke:t.pointActiveBorderColor,lineWidth:t.pointActiveBorder},selected:{stroke:t.pointSelectedBorderColor,lineWidth:t.pointSelectedBorder},inactive:{fillOpacity:t.pointInactiveFillOpacity,strokeOpacity:t.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:t.hollowPointFillColor,lineWidth:t.hollowPointBorder,stroke:t.hollowPointBorderColor,strokeOpacity:t.hollowPointBorderOpacity,r:t.hollowPointSize},active:{stroke:t.hollowPointActiveBorderColor,strokeOpacity:t.hollowPointActiveBorderOpacity},selected:{lineWidth:t.hollowPointSelectedBorder,stroke:t.hollowPointSelectedBorderColor,strokeOpacity:t.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:t.hollowPointInactiveBorderOpacity}},area:{default:{fill:t.areaFillColor,fillOpacity:t.areaFillOpacity,stroke:null},active:{fillOpacity:t.areaActiveFillOpacity},selected:{fillOpacity:t.areaSelectedFillOpacity},inactive:{fillOpacity:t.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:t.hollowAreaBorderColor,lineWidth:t.hollowAreaBorder,strokeOpacity:t.hollowAreaBorderOpacity},active:{fill:null,lineWidth:t.hollowAreaActiveBorder},selected:{fill:null,lineWidth:t.hollowAreaSelectedBorder},inactive:{strokeOpacity:t.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:t.intervalFillColor,fillOpacity:t.intervalFillOpacity},active:{stroke:t.intervalActiveBorderColor,lineWidth:t.intervalActiveBorder},selected:{stroke:t.intervalSelectedBorderColor,lineWidth:t.intervalSelectedBorder},inactive:{fillOpacity:t.intervalInactiveFillOpacity,strokeOpacity:t.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:t.hollowIntervalFillColor,stroke:t.hollowIntervalBorderColor,lineWidth:t.hollowIntervalBorder,strokeOpacity:t.hollowIntervalBorderOpacity},active:{stroke:t.hollowIntervalActiveBorderColor,lineWidth:t.hollowIntervalActiveBorder,strokeOpacity:t.hollowIntervalActiveBorderOpacity},selected:{stroke:t.hollowIntervalSelectedBorderColor,lineWidth:t.hollowIntervalSelectedBorder,strokeOpacity:t.hollowIntervalSelectedBorderOpacity},inactive:{stroke:t.hollowIntervalInactiveBorderColor,lineWidth:t.hollowIntervalInactiveBorder,strokeOpacity:t.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:t.lineBorderColor,lineWidth:t.lineBorder,strokeOpacity:t.lineBorderOpacity,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"},active:{lineWidth:t.lineActiveBorder},selected:{lineWidth:t.lineSelectedBorder},inactive:{strokeOpacity:t.lineInactiveBorderOpacity}}},A=function(t){return{title:{autoRotate:!0,position:"center",spacing:t.axisTitleSpacing,style:{fill:t.axisTitleTextFillColor,fontSize:t.axisTitleTextFontSize,lineHeight:t.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:t.fontFamily},iconStyle:{fill:t.axisDescriptionIconFillColor}},label:{autoRotate:!1,autoEllipsis:!1,autoHide:{type:"equidistance",cfg:{minGap:6}},offset:t.axisLabelOffset,style:{fill:t.axisLabelFillColor,fontSize:t.axisLabelFontSize,lineHeight:t.axisLabelLineHeight,fontFamily:t.fontFamily}},line:{style:{lineWidth:t.axisLineBorder,stroke:t.axisLineBorderColor}},grid:{line:{type:"line",style:{stroke:t.axisGridBorderColor,lineWidth:t.axisGridBorder,lineDash:t.axisGridLineDash}},alignTick:!0,animate:!0},tickLine:{style:{lineWidth:t.axisTickLineBorder,stroke:t.axisTickLineBorderColor},alignTick:!0,length:t.axisTickLineLength},subTickLine:null,animate:!0}}(t),r=function(t){return{title:null,marker:{symbol:"circle",spacing:t.legendMarkerSpacing,style:{r:t.legendCircleMarkerSize,fill:t.legendMarkerColor}},itemName:{spacing:5,style:{fill:t.legendItemNameFillColor,fontFamily:t.fontFamily,fontSize:t.legendItemNameFontSize,lineHeight:t.legendItemNameLineHeight,fontWeight:t.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:"#D8D8D8"},markerStyle:{fill:"#D8D8D8",stroke:"#D8D8D8"}},inactive:{nameStyle:{fill:"#D8D8D8"},markerStyle:{opacity:.2}}},flipPage:!0,pageNavigator:{marker:{style:{size:t.legendPageNavigatorMarkerSize,inactiveFill:t.legendPageNavigatorMarkerInactiveFillColor,inactiveOpacity:t.legendPageNavigatorMarkerInactiveFillOpacity,fill:t.legendPageNavigatorMarkerFillColor,opacity:t.legendPageNavigatorMarkerFillOpacity}},text:{style:{fill:t.legendPageNavigatorTextFillColor,fontSize:t.legendPageNavigatorTextFontSize}}},animate:!1,maxItemWidth:200,itemSpacing:t.legendItemSpacing,itemMarginBottom:t.legendItemMarginBottom,padding:t.legendPadding}}(t);return{background:t.backgroundColor,defaultColor:t.brandColor,subColor:t.subColor,semanticRed:t.paletteSemanticRed,semanticGreen:t.paletteSemanticGreen,padding:"auto",fontFamily:t.fontFamily,columnWidthRatio:.5,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:t.paletteQualitative10,colors20:t.paletteQualitative20,sequenceColors:t.paletteSequence,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:n.interval.default},active:{style:n.interval.active},inactive:{style:n.interval.inactive},selected:{style:function(t){var e=t.geometry.coordinate;if(e.isPolar&&e.isTransposed){var A=Ch(t.getModel(),e),r=(A.startAngle+A.endAngle)/2;return{matrix:gr(null,[["t",7.5*Math.cos(r),7.5*Math.sin(r)]])}}return n.interval.selected}}},"hollow-rect":{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}},line:{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}},tick:{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}},funnel:{default:{style:n.interval.default},active:{style:n.interval.active},inactive:{style:n.interval.inactive},selected:{style:n.interval.selected}},pyramid:{default:{style:n.interval.default},active:{style:n.interval.active},inactive:{style:n.interval.inactive},selected:{style:n.interval.selected}}},line:{line:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},dot:{default:{style:Dt(Dt({},n.line.default),{lineCap:null,lineDash:[1,1]})},active:{style:Dt(Dt({},n.line.active),{lineCap:null,lineDash:[1,1]})},inactive:{style:Dt(Dt({},n.line.inactive),{lineCap:null,lineDash:[1,1]})},selected:{style:Dt(Dt({},n.line.selected),{lineCap:null,lineDash:[1,1]})}},dash:{default:{style:Dt(Dt({},n.line.default),{lineCap:null,lineDash:[5.5,1]})},active:{style:Dt(Dt({},n.line.active),{lineCap:null,lineDash:[5.5,1]})},inactive:{style:Dt(Dt({},n.line.inactive),{lineCap:null,lineDash:[5.5,1]})},selected:{style:Dt(Dt({},n.line.selected),{lineCap:null,lineDash:[5.5,1]})}},smooth:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},hv:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},vh:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},hvh:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},vhv:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}}},polygon:{polygon:{default:{style:n.interval.default},active:{style:n.interval.active},inactive:{style:n.interval.inactive},selected:{style:n.interval.selected}}},point:{circle:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},square:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},bowtie:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},diamond:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},hexagon:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},triangle:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},"triangle-down":{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},"hollow-circle":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-square":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-bowtie":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-diamond":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-hexagon":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-triangle":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-triangle-down":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},cross:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},tick:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},plus:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},hyphen:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},line:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}}},area:{area:{default:{style:n.area.default},active:{style:n.area.active},inactive:{style:n.area.inactive},selected:{style:n.area.selected}},smooth:{default:{style:n.area.default},active:{style:n.area.active},inactive:{style:n.area.inactive},selected:{style:n.area.selected}},line:{default:{style:n.hollowArea.default},active:{style:n.hollowArea.active},inactive:{style:n.hollowArea.inactive},selected:{style:n.hollowArea.selected}},"smooth-line":{default:{style:n.hollowArea.default},active:{style:n.hollowArea.active},inactive:{style:n.hollowArea.inactive},selected:{style:n.hollowArea.selected}}},schema:{candle:{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}},box:{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}}},edge:{line:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},vhv:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},smooth:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},arc:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}}},violin:{violin:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},smooth:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},hollow:{default:{style:n.hollowArea.default},active:{style:n.hollowArea.active},inactive:{style:n.hollowArea.inactive},selected:{style:n.hollowArea.selected}},"hollow-smooth":{default:{style:n.hollowArea.default},active:{style:n.hollowArea.active},inactive:{style:n.hollowArea.inactive},selected:{style:n.hollowArea.selected}}}},components:{axis:{common:A,top:{position:"top",grid:null,title:null,verticalLimitLength:.5},bottom:{position:"bottom",grid:null,title:null,verticalLimitLength:.5},left:{position:"left",title:null,line:null,tickLine:null,verticalLimitLength:1/3},right:{position:"right",title:null,line:null,tickLine:null,verticalLimitLength:1/3},circle:{title:null,grid:Ze({},A.grid,{line:{type:"line"}})},radius:{title:null,grid:Ze({},A.grid,{line:{type:"circle"}})}},legend:{common:r,right:{layout:"vertical",padding:t.legendVerticalPadding},left:{layout:"vertical",padding:t.legendVerticalPadding},top:{layout:"horizontal",padding:t.legendHorizontalPadding},bottom:{layout:"horizontal",padding:t.legendHorizontalPadding},continuous:{title:null,background:null,track:{},rail:{type:"color",size:t.sliderRailHeight,defaultLength:t.sliderRailWidth,style:{fill:t.sliderRailFillColor,stroke:t.sliderRailBorderColor,lineWidth:t.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:t.sliderLabelTextFillColor,fontSize:t.sliderLabelTextFontSize,lineHeight:t.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:t.fontFamily}},handler:{size:t.sliderHandlerWidth,style:{fill:t.sliderHandlerFillColor,stroke:t.sliderHandlerBorderColor}},slidable:!0,padding:r.padding}},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:t.tooltipCrosshairsBorderColor,lineWidth:t.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(e={},e["".concat(Dc)]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:t.tooltipContainerFillColor,opacity:t.tooltipContainerFillOpacity,boxShadow:t.tooltipContainerShadow,borderRadius:"".concat(t.tooltipContainerBorderRadius,"px"),color:t.tooltipTextFillColor,fontSize:"".concat(t.tooltipTextFontSize,"px"),fontFamily:t.fontFamily,lineHeight:"".concat(t.tooltipTextLineHeight,"px"),padding:"0 12px 0 12px"},e["".concat(Pc)]={marginBottom:"12px",marginTop:"12px"},e["".concat(Oc)]={margin:0,listStyleType:"none",padding:0},e["".concat(Rc)]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},e["".concat(Kc)]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},e["".concat(Vc)]={display:"inline-block",float:"right",marginLeft:"30px"},e)},annotation:{arc:{style:{stroke:t.annotationArcBorderColor,lineWidth:t.annotationArcBorder},animate:!0},line:{style:{stroke:t.annotationLineBorderColor,lineDash:t.annotationLineDash,lineWidth:t.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,textAlign:"start",fontFamily:t.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:t.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:t.annotationRegionBorder,stroke:t.annotationRegionBorderColor,fill:t.annotationRegionFillColor,fillOpacity:t.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:t.brandColor,lineWidth:2}},line:{style:{stroke:t.annotationLineBorderColor,lineWidth:t.annotationLineBorder},length:t.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,fontFamily:t.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:t.annotationRegionFillColor,fillOpacity:t.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,fontFamily:t.fontFamily}},animate:!0}},slider:{common:{padding:[8,8,8,8],backgroundStyle:{fill:t.cSliderBackgroundFillColor,opacity:t.cSliderBackgroundFillOpacity},foregroundStyle:{fill:t.cSliderForegroundFillColor,opacity:t.cSliderForegroundFillOpacity},handlerStyle:{width:t.cSliderHandlerWidth,height:t.cSliderHandlerHeight,fill:t.cSliderHandlerFillColor,opacity:t.cSliderHandlerFillOpacity,stroke:t.cSliderHandlerBorderColor,lineWidth:t.cSliderHandlerBorder,radius:t.cSliderHandlerBorderRadius,highLightFill:t.cSliderHandlerHighlightFillColor},textStyle:{fill:t.cSliderTextFillColor,opacity:t.cSliderTextFillOpacity,fontSize:t.cSliderTextFontSize,lineHeight:t.cSliderTextLineHeight,fontWeight:t.cSliderTextFontWeight,stroke:t.cSliderTextBorderColor,lineWidth:t.cSliderTextBorder}}},scrollbar:{common:{padding:[8,8,8,8]},default:{style:{trackColor:t.scrollbarTrackFillColor,thumbColor:t.scrollbarThumbFillColor}},hover:{style:{thumbColor:t.scrollbarThumbHighlightFillColor}}}},labels:{offset:12,style:{fill:t.labelFillColor,fontSize:t.labelFontSize,fontFamily:t.fontFamily,stroke:t.labelBorderColor,lineWidth:t.labelBorder},fillColorDark:t.labelFillColorDark,fillColorLight:t.labelFillColorLight,autoRotate:!0},innerLabels:{style:{fill:t.innerLabelFillColor,fontSize:t.innerLabelFontSize,fontFamily:t.fontFamily,stroke:t.innerLabelBorderColor,lineWidth:t.innerLabelBorder},autoRotate:!0},overflowLabels:{style:{fill:t.overflowLabelFillColor,fontSize:t.overflowLabelFontSize,fontFamily:t.fontFamily,stroke:t.overflowLabelBorderColor,lineWidth:t.overflowLabelBorder}},pieLabels:{labelHeight:14,offset:10,labelLine:{style:{lineWidth:t.labelLineBorder}},autoRotate:!0}}}var qp="#000",Zp="#595959",$p="#8C8C8C",tf="#BFBFBF",ef="#D9D9D9",nf="#F0F0F0",Af="#FFFFFF",rf="#D9D9D9",of=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],af=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],sf=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],lf=function(t){void 0===t&&(t={});var e=t.paletteQualitative10,n=void 0===e?of:e,A=t.paletteQualitative20,r=void 0===A?af:A,i=t.brandColor,o=void 0===i?n[0]:i;return Dt(Dt({},{backgroundColor:"transparent",brandColor:o,subColor:"rgba(0,0,0,0.05)",paletteQualitative10:n,paletteQualitative20:r,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",paletteSequence:sf,fontFamily:'"Segoe UI", Roboto, "Helvetica Neue", Arial,\n    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",\n    "Noto Color Emoji"',axisLineBorderColor:tf,axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:Zp,axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisDescriptionIconFillColor:rf,axisTickLineBorderColor:tf,axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:ef,axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:$p,axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:ef,axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:$p,legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:o,legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:Zp,legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:qp,legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:qp,legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:$p,legendPageNavigatorTextFontSize:12,sliderRailFillColor:ef,sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:$p,sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:nf,sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:tf,annotationArcBorderColor:ef,annotationArcBorder:1,annotationLineBorderColor:tf,annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:Zp,annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:qp,annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:tf,tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:Zp,tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:Zp,labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:Af,innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:Zp,overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:Af,overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:tf,cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#000",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(0,0,0,0)",scrollbarThumbFillColor:"rgba(0,0,0,0.15)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.2)",pointFillColor:o,pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:Af,pointBorderOpacity:1,pointActiveBorderColor:qp,pointSelectedBorder:2,pointSelectedBorderColor:qp,pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:o,hollowPointBorderOpacity:.95,hollowPointFillColor:Af,hollowPointActiveBorder:1,hollowPointActiveBorderColor:qp,hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:qp,hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:o,lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:o,areaFillOpacity:.25,areaActiveFillColor:o,areaActiveFillOpacity:.5,areaSelectedFillColor:o,areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:o,hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:qp,hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:qp,hollowAreaInactiveBorderOpacity:.3,intervalFillColor:o,intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:qp,intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:qp,intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:o,hollowIntervalBorderOpacity:1,hollowIntervalFillColor:Af,hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:qp,hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:qp,hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3}),t)};function uf(t){var e=t.styleSheet,n=void 0===e?{}:e,A=Pt(t,["styleSheet"]),r=lf(n);return Ze({},Jp(r),A)}lf();var cf={default:uf({})};function hf(t){return on(cf,Te(t),cf.default)}function pf(t,e,n){return Ue(n.translate(t),n.translate(e))}function ff(t,e,n){var A=n.coordinate,r=n.getYScale(),i=r.field,o=A.invert(e),a=r.invert(o.y);return re(t,(function(t){var e=t[Nn];return e[i][0]<=a&&e[i][1]>=a}))||t[t.length-1]}var df=Je((function(t){if(t.isCategory)return 1;for(var e=t.values,n=e.length,A=t.translate(e[0]),r=A,i=0;i<n;i++){var o=e[i],a=t.translate(o);a<A&&(A=a),a>r&&(r=a)}return(r-A)/(n-1)}));function gf(t){var e,n,A,r=function(t){var e=Le(t.attributes);return Yt(e,(function(t){return Xt(Gn,t.type)}))}(t);try{for(var i=Kt(r),o=i.next();!o.done;o=i.next()){var a=o.value,s=a.getScale(a.type);if(s&&s.isLinear)if("cat"!==Hh(s,on(t.scaleDefs,s.field),a.type,t.type)){A=s;break}}}catch(c){e={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}var l=t.getXScale(),u=t.getYScale();return A||u||l}function yf(t,e,n){if(0===e.length)return null;var A=n.type,r=n.getXScale(),i=n.getYScale(),o=r.field,a=i.field,s=null;if("heatmap"===A||"point"===A){for(var l=n.coordinate.invert(t),u=r.invert(l.x),c=i.invert(l.y),h=1/0,p=0;p<e.length;p++){var f=e[p],d=f[Nn],g=Math.pow(d[o]-u,2)+Math.pow(d[a]-c,2);g<h&&(h=g,s=f)}return s}var y=e[0],v=e[e.length-1],m=function(t,e){var n=e.coordinate,A=e.getXScale(),r=A.range,i=r[r.length-1],o=r[0],a=n.invert(t).x;return n.isPolar&&a>(1+i)/2&&(a=o),A.translate(A.invert(a))}(t,n),B=y[Nn][o],x=y[Nn][a],w=v[Nn][o],C=i.isLinear&&qt(x);if(qt(B)){for(p=0;p<e.length;p++){d=(M=e[p])[Nn];if(r.translate(d[o][0])<=m&&r.translate(d[o][1])>=m){if(!C){s=M;break}qt(s)||(s=[]),s.push(M)}}qt(s)&&(s=ff(s,t,n))}else{var F=void 0;if(r.isLinear||"timeCat"===r.type){if((m>r.translate(w)||m<r.translate(B))&&(m>r.max||m<r.min))return null;for(var b=0,Q=e.length-1,U=void 0;b<=Q;){var E=e[U=Math.floor((b+Q)/2)][Nn][o];if(pf(E,m,r))return e[U];r.translate(E)<=r.translate(m)?(b=U+1,v=e[U],F=e[U+1]):(0===Q&&(v=e[0]),Q=U-1)}}else{for(p=0;p<e.length;p++){var M;if(pf((d=(M=e[p])[Nn])[o],m,r)){if(!C){s=M;break}qt(s)||(s=[]),s.push(M)}else r.translate(d[o])<=m&&(v=M,F=e[p+1])}qt(s)&&(s=ff(s,t,n))}v&&F&&Math.abs(r.translate(v[Nn][o])-m)>Math.abs(r.translate(F[Nn][o])-m)&&(v=F)}var S=df(n.getXScale());return!s&&Math.abs(r.translate(v[Nn][o])-m)<=S/2&&(s=v),s}function vf(t,e,n,A){var r,i;void 0===n&&(n=""),void 0===A&&(A=!1);var o,a,s=t[Nn],l=function(t,e,n){var A=e.getAttribute("position").getFields(),r=e.scales,i=jt(n)||!n?A[0]:n,o=r[i],a=o?o.getText(t[i]):t[i]||i;return jt(n)?n(a,t):a}(s,e,n),u=e.tooltipOption,c=e.theme.defaultColor,h=[];function p(e,n){if(A||!Jt(n)&&""!==n){var r={title:l,data:s,mappingData:t,name:e,value:n,color:t.color||c,marker:!0};h.push(r)}}if(Zt(u)){var f=u.fields,d=u.callback;if(d){var g=f.map((function(e){return t[Nn][e]})),y=d.apply(void 0,Nt([],Vt(g),!1)),v=Dt({data:t[Nn],mappingData:t,title:l,color:t.color||c,marker:!0},y);h.push(v)}else{var m=e.scales;try{for(var B=Kt(f),x=B.next();!x.done;x=B.next()){var w=x.value;if(!Jt(s[w])){var C=m[w];p(o=Dh(C),a=C.getText(s[w]))}}}catch(b){r={error:b}}finally{try{x&&!x.done&&(i=B.return)&&i.call(B)}finally{if(r)throw r.error}}}}else{var F=gf(e);a=function(t,e){var n=t[e.field];return qt(n)?n.map((function(t){return e.getText(t)})).join("-"):e.getText(n)}(s,F),o=function(t,e){var n,A=e.getGroupScales();if(A.length&&(n=A[0]),n){var r=n.field;return n.getText(t[r])}return Dh(gf(e))}(s,e),p(o,a)}return h}function mf(t,e,n,A){var r,i,o=A.showNil,a=[],s=t.dataArray;if(!en(s)){t.sort(s);try{for(var l=Kt(s),u=l.next();!u.done;u=l.next()){var c=yf(e,u.value,t);if(c){var h=t.getElementId(c),p=t.elementsMap[h];if("heatmap"===t.type||p.visible){var f=vf(c,t,n,o);f.length&&a.push(f)}}}}catch(d){r={error:d}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}return a}function Bf(t,e,n,A){var r=A.showNil,i=[],o=t.container.getShape(e.x,e.y);if(o&&o.get("visible")&&o.get("origin")){var a=vf(o.get("origin").mappingData,t,n,r);a.length&&i.push(a)}return i}function xf(t,e,n){var A,r,i=[],o=t.geometries,a=n.shared,s=n.title,l=n.reversed;try{for(var u=Kt(o),c=u.next();!c.done;c=u.next()){var h=c.value;if(h.visible&&!1!==h.tooltipOption){var p=h.type,f=void 0;(f=["point","edge","polygon"].includes(p)?Bf(h,e,s,n):["area","line","path","heatmap"].includes(p)||!1!==a?mf(h,e,s,n):Bf(h,e,s,n)).length&&(l&&f.reverse(),i.push(f))}}}catch(d){A={error:d}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(A)throw A.error}}return i}function wf(t){void 0===t&&(t=0);var e=qt(t)?t:[t];switch(e.length){case 0:e=[0,0,0,0];break;case 1:e=new Array(4).fill(e[0]);break;case 2:e=Nt(Nt([],Vt(e),!1),Vt(e),!1);break;case 3:e=Nt(Nt([],Vt(e),!1),[e[1]],!1);break;default:e=e.slice(0,4)}return e}var Cf={};function Ff(t,e){Cf[t]=e}var bf=function(){function t(t){this.option=this.wrapperOption(t)}return t.prototype.update=function(t){return this.option=this.wrapperOption(t),this},t.prototype.hasAction=function(t){var e=this.option.actions;return me(e,(function(e){return e[0]===t}))},t.prototype.create=function(t,e){var n=this.option,A=n.type,r=n.cfg,i="theta"===A,o=Dt({start:t,end:e},r),a=function(t){return ou[t.toLowerCase()]}(i?"polar":A);return this.coordinate=new a(o),this.coordinate.type=A,i&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},t.prototype.adjust=function(t,e){return this.coordinate.update({start:t,end:e}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},t.prototype.rotate=function(t){return this.option.actions.push(["rotate",t]),this},t.prototype.reflect=function(t){return this.option.actions.push(["reflect",t]),this},t.prototype.scale=function(t,e){return this.option.actions.push(["scale",t,e]),this},t.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},t.prototype.getOption=function(){return this.option},t.prototype.getCoordinate=function(){return this.coordinate},t.prototype.wrapperOption=function(t){return Dt({type:"rect",actions:[],cfg:{}},t)},t.prototype.execActions=function(t){var e=this;$t(this.option.actions,(function(n){var A,r=Vt(n),i=r[0],o=r.slice(1);(!!Jt(t)||t.includes(i))&&(A=e.coordinate)[i].apply(A,Nt([],Vt(o),!1))}))},t}(),Qf=function(){function t(t,e,n){this.view=t,this.gEvent=e,this.data=n,this.type=e.type}return t.fromData=function(e,n,A){return new t(e,new HA(n,{}),A)},Object.defineProperty(t.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[Event (type=".concat(this.type,")]")},t.prototype.clone=function(){return new t(this.view,this.gEvent,this.data)},t}();function Uf(t){var e=t.getController("axis"),n=t.getController("legend"),A=t.getController("annotation");[e,t.getController("slider"),t.getController("scrollbar"),n,A].forEach((function(t){t&&t.layout()}))}var Ef=function(){function t(){this.scales=new Map,this.syncScales=new Map}return t.prototype.createScale=function(t,e,n,A){var r=n,i=this.getScaleMeta(A);if(0===e.length&&i){var o=i.scale,a={type:o.type};o.isCategory&&(a.values=o.values),r=Ze(a,i.scaleDef,n)}var s=Th(t,e,r);return this.cacheScale(s,n,A),s},t.prototype.sync=function(t,e){var n=this;this.syncScales.forEach((function(A,r){var i=Number.MAX_SAFE_INTEGER,o=Number.MIN_SAFE_INTEGER,a=[];$t(A,(function(t){var e=n.getScale(t);o=be(e.max)?Math.max(o,e.max):o,i=be(e.min)?Math.min(i,e.min):i,$t(e.values,(function(t){a.includes(t)||a.push(t)}))})),$t(A,(function(A){var r=n.getScale(A);if(r.isContinuous)r.change({min:i,max:o,values:a});else if(r.isCategory){var s=r.range,l=n.getScaleMeta(A);a&&!on(l,["scaleDef","range"])&&(s=Ph(Ze({},r,{values:a}),t,e)),r.change({values:a,range:s})}}))}))},t.prototype.cacheScale=function(t,e,n){var A=this.getScaleMeta(n);A&&A.scale.type===t.type?(!function(t,e){if("identity"!==t.type&&"identity"!==e.type){var n={};for(var A in e)Object.prototype.hasOwnProperty.call(e,A)&&(n[A]=e[A]);t.change(n)}}(A.scale,t),A.scaleDef=e):(A={key:n,scale:t,scaleDef:e},this.scales.set(n,A));var r=this.getSyncKey(A);if(A.syncKey=r,this.removeFromSyncScales(n),r){var i=this.syncScales.get(r);i||(i=[],this.syncScales.set(r,i)),i.push(n)}},t.prototype.getScale=function(t){var e=this.getScaleMeta(t);if(!e){var n=ye(t.split("-")),A=this.syncScales.get(n);A&&A.length&&(e=this.getScaleMeta(A[0]))}return e&&e.scale},t.prototype.deleteScale=function(t){var e=this.getScaleMeta(t);if(e){var n=e.syncKey,A=this.syncScales.get(n);if(A&&A.length){var r=A.indexOf(t);-1!==r&&A.splice(r,1)}}this.scales.delete(t)},t.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},t.prototype.removeFromSyncScales=function(t){var e=this;this.syncScales.forEach((function(n,A){var r=n.indexOf(t);if(-1!==r)return n.splice(r,1),0===n.length&&e.syncScales.delete(A),!1}))},t.prototype.getSyncKey=function(t){var e=t.scale,n=t.scaleDef,A=e.field,r=on(n,["sync"]);return!0===r?A:!1===r?void 0:r},t.prototype.getScaleMeta=function(t){return this.scales.get(t)},t}(),Mf=function(){function t(t,e,n,A){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===A&&(A=0),this.top=t,this.right=e,this.bottom=n,this.left=A}return t.instance=function(e,n,A,r){return void 0===e&&(e=0),void 0===n&&(n=0),void 0===A&&(A=0),void 0===r&&(r=0),new t(e,n,A,r)},t.prototype.max=function(t){var e=Vt(t,4),n=e[0],A=e[1],r=e[2],i=e[3];return this.top=Math.max(this.top,n),this.right=Math.max(this.right,A),this.bottom=Math.max(this.bottom,r),this.left=Math.max(this.left,i),this},t.prototype.shrink=function(t){var e=Vt(t,4),n=e[0],A=e[1],r=e[2],i=e[3];return this.top+=n,this.right+=A,this.bottom+=r,this.left+=i,this},t.prototype.inc=function(t,e){var n=t.width,A=t.height;switch(e){case wn.TOP:case wn.TOP_LEFT:case wn.TOP_RIGHT:this.top+=A;break;case wn.RIGHT:case wn.RIGHT_TOP:case wn.RIGHT_BOTTOM:this.right+=n;break;case wn.BOTTOM:case wn.BOTTOM_LEFT:case wn.BOTTOM_RIGHT:this.bottom+=A;break;case wn.LEFT:case wn.LEFT_TOP:case wn.LEFT_BOTTOM:this.left+=n}return this},t.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},t.prototype.clone=function(){return new(t.bind.apply(t,Nt([void 0],Vt(this.getPadding()),!1)))},t}();function Sf(t){var e=t.padding;if(!function(t){return!be(t)&&!qt(t)}(e))return new(Mf.bind.apply(Mf,Nt([void 0],Vt(wf(e)),!1)));var n=t.viewBBox,A=new Mf,r=[],i=[],o=[];return $t(t.getComponents(),(function(t){var e=t.type;e===Fn.AXIS?r.push(t):[Fn.LEGEND,Fn.SLIDER,Fn.SCROLLBAR].includes(e)?i.push(t):e!==Fn.GRID&&e!==Fn.TOOLTIP&&o.push(t)})),$t(r,(function(t){var e=t.component.getLayoutBBox(),r=new Eh(e.x,e.y,e.width,e.height).exceed(n);A.max(r)})),$t(i,(function(t){var e=t.component,n=t.direction,r=e.getLayoutBBox(),i=e.get("padding"),o=new Eh(r.x,r.y,r.width,r.height).expand(i);A.inc(o,n)})),$t(o,(function(t){var e=t.component,n=t.direction,r=e.getLayoutBBox(),i=new Eh(r.x,r.y,r.width,r.height);A.inc(i,n)})),A}function If(t,e,n){var A=n.instance();e.forEach((function(t){t.autoPadding=A.max(t.autoPadding.getPadding())}))}var kf=function(t){function e(e){var n=t.call(this,{visible:e.visible})||this;n.views=[],n.geometries=[],n.controllers=[],n.interactions={},n.limitInPlot=!1,n.options={data:[],animate:!0},n.usedControllers=Object.keys(Cf),n.scalePool=new Ef,n.layoutFunc=Uf,n.isPreMouseInPlot=!1,n.isDataChanged=!1,n.isCoordinateChanged=!1,n.createdScaleKeys=new Map,n.onCanvasEvent=function(t){var e=t.name;if(!e.includes(":")){var A=n.createViewEvent(t);n.doPlotEvent(A),n.emit(e,A)}},n.onDelegateEvents=function(t){var e=t.name;if(e.includes(":")){var A=n.createViewEvent(t);n.emit(e,A)}};var A=e.id,r=void 0===A?fn("view"):A,i=e.parent,o=e.canvas,a=e.backgroundGroup,s=e.middleGroup,l=e.foregroundGroup,u=e.region,c=void 0===u?{start:{x:0,y:0},end:{x:1,y:1}}:u,h=e.padding,p=e.appendPadding,f=e.theme,d=e.options,g=e.limitInPlot,y=e.syncViewPadding;return n.parent=i,n.canvas=o,n.backgroundGroup=a,n.middleGroup=s,n.foregroundGroup=l,n.region=c,n.padding=h,n.appendPadding=p,n.options=Dt(Dt({},n.options),d),n.limitInPlot=g,n.id=r,n.syncViewPadding=y,n.themeObject=Zt(f)?Ze({},hf("default"),uf(f)):hf(f),n.init(),n}return Tt(e,t),e.prototype.setLayout=function(t){this.layoutFunc=t},e.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.initOptions()},e.prototype.render=function(t,e){void 0===t&&(t=!1),this.emit(Un.BEFORE_RENDER,Qf.fromData(this,Un.BEFORE_RENDER,e)),this.paint(t),this.emit(Un.AFTER_RENDER,Qf.fromData(this,Un.AFTER_RENDER,e)),!1===this.visible&&this.changeVisible(!1)},e.prototype.clear=function(){var t=this;this.emit(Un.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var e=this.geometries,n=0;n<e.length;n++)e[n].clear(),e[n].container.remove(!0),e[n].labelsContainer.remove(!0);this.geometries=[];var A=this.controllers;for(n=0;n<A.length;n++)"annotation"===A[n].name?A[n].clear(!0):A[n].clear();this.createdScaleKeys.forEach((function(e,n){t.getRootView().scalePool.deleteScale(n)})),this.createdScaleKeys.clear();var r=this.views;for(n=0;n<r.length;n++)r[n].clear();this.emit(Un.AFTER_CLEAR)},e.prototype.destroy=function(){this.emit(Un.BEFORE_DESTROY),$t(this.interactions,(function(t){t&&t.destroy()})),this.clear();for(var e=this.controllers,n=0,A=e.length;n<A;n++){e[n].destroy()}this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),t.prototype.destroy.call(this)},e.prototype.changeVisible=function(e){t.prototype.changeVisible.call(this,e);for(var n=this.geometries,A=0,r=n.length;A<r;A++){n[A].changeVisible(e)}var i=this.controllers;for(A=0,r=i.length;A<r;A++){i[A].changeVisible(e)}return this.foregroundGroup.set("visible",e),this.middleGroup.set("visible",e),this.backgroundGroup.set("visible",e),this.getCanvas().draw(),this},e.prototype.data=function(t){return an(this.options,"data",t),this.isDataChanged=!0,this},e.prototype.source=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(t)},e.prototype.filter=function(t,e){return jt(e)?(an(this.options,["filters",t],e),this):(!e&&on(this.options,["filters",t])&&delete this.options.filters[t],this)},e.prototype.axis=function(t,e){return Ke(t)?an(this.options,["axes"],t):an(this.options,["axes",t],e),this},e.prototype.legend=function(t,e){return Ke(t)?an(this.options,["legends"],t):pe(t)?(an(this.options,["legends",t],e),Ae(e)&&(null==e?void 0:e.selected)&&an(this.options,["filters",t],(function(t){var n;return null===(n=null==e?void 0:e.selected[t])||void 0===n||n}))):an(this.options,["legends"],t),this},e.prototype.scale=function(t,e){var n=this;return pe(t)?an(this.options,["scales",t],e):Zt(t)&&$t(t,(function(t,e){an(n.options,["scales",e],t)})),this},e.prototype.tooltip=function(t){return an(this.options,"tooltip",t),this},e.prototype.annotation=function(){return this.getController("annotation")},e.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},e.prototype.coordinate=function(t,e){return pe(t)?an(this.options,"coordinate",{type:t,cfg:e}):an(this.options,"coordinate",t),this.coordinateController.update(this.options.coordinate),this.coordinateController},e.prototype.coord=function(t,e){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(t,e)},e.prototype.facet=function(t,e){this.facetInstance&&this.facetInstance.destroy();var n=function(t){return Wh[Te(t)]}(t);if(!n)throw new Error("facet '".concat(t,"' is not exist!"));return this.facetInstance=new n(this,Dt(Dt({},e),{type:t})),this},e.prototype.animate=function(t){return an(this.options,"animate",t),this},e.prototype.updateOptions=function(t){return this.clear(),ze(this.options,t),this.views.forEach((function(t){return t.destroy()})),this.views=[],this.initOptions(),this.coordinateBBox=this.viewBBox,this},e.prototype.option=function(t,n){if(e.prototype[t])throw new Error("Can't use built in variable name \"".concat(t,'", please change another one.'));return an(this.options,t,n),this},e.prototype.theme=function(t){return this.themeObject=Zt(t)?Ze({},this.themeObject,uf(t)):hf(t),this},e.prototype.interaction=function(t,e){var n=this.interactions[t];n&&n.destroy();var A=jp(t,this,e);return A&&(A.init(),this.interactions[t]=A),this},e.prototype.removeInteraction=function(t){var e=this.interactions[t];e&&(e.destroy(),this.interactions[t]=void 0)},e.prototype.changeData=function(t){this.isDataChanged=!0,this.emit(Un.BEFORE_CHANGE_DATA,Qf.fromData(this,Un.BEFORE_CHANGE_DATA,null)),this.data(t),this.paint(!0);for(var e=this.views,n=0,A=e.length;n<A;n++){e[n].changeData(t)}this.emit(Un.AFTER_CHANGE_DATA,Qf.fromData(this,Un.AFTER_CHANGE_DATA,null))},e.prototype.createView=function(t){this.parent&&this.parent.parent&&console.warn("The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.");var n={data:this.options.data,scales:We(this.options.scales),axes:We(this.options.axes),coordinate:We(this.coordinateController.getOption()),tooltip:We(this.options.tooltip),legends:We(this.options.legends),animate:this.options.animate,visible:this.visible},A=new e(Dt(Dt({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:Pn}),middleGroup:this.middleGroup.addGroup({zIndex:Dn}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:Tn}),theme:this.themeObject,padding:this.padding},t),{options:Dt(Dt({},n),on(t,"options",{}))}));return this.views.push(A),A},e.prototype.view=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(t)},e.prototype.removeView=function(t){var e=he(this.views,(function(e){return e===t}))[0];return e&&e.destroy(),e},e.prototype.getCoordinate=function(){return this.coordinateInstance},e.prototype.getTheme=function(){return this.themeObject},e.prototype.getXScale=function(){var t=this.geometries[0];return t?t.getXScale():null},e.prototype.getYScales=function(){var t={},e=[];return this.geometries.forEach((function(n){var A=n.getYScale(),r=A.field;t[r]||(t[r]=!0,e.push(A))})),e},e.prototype.getScalesByDim=function(t){for(var e=this.geometries,n={},A=0,r=e.length;A<r;A++){var i=e[A],o="x"===t?i.getXScale():i.getYScale();o&&!n[o.field]&&(n[o.field]=o)}return n},e.prototype.getScale=function(t,e){var n=e||this.getScaleKey(t);return this.getRootView().scalePool.getScale(n)},e.prototype.getScaleByField=function(t,e){return this.getScale(t,e)},e.prototype.getOptions=function(){return this.options},e.prototype.getData=function(){return this.filteredData},e.prototype.getOriginalData=function(){return this.options.data},e.prototype.getPadding=function(){return this.autoPadding.getPadding()},e.prototype.getGeometries=function(){return this.geometries},e.prototype.getElements=function(){return ce(this.geometries,(function(t,e){return t.concat(e.getElements())}),[])},e.prototype.getElementsBy=function(t){return this.getElements().filter((function(e){return t(e)}))},e.prototype.getLayer=function(t){return t===Bn.BG?this.backgroundGroup:t===Bn.MID?this.middleGroup:(Bn.FORE,this.foregroundGroup)},e.prototype.isPointInPlot=function(t){return function(t,e){var n=!1;if(t)if("theta"===t.type){var A=t.start,r=t.end;n=bh(e.x,A.x,r.x)&&bh(e.y,A.y,r.y)}else{var i=t.invert(e);n=bh(i.x,0,1)&&bh(i.y,0,1)}return n}(this.getCoordinate(),t)},e.prototype.getLegendAttributes=function(){return oe(this.geometries.map((function(t){return t.getGroupAttributes()})))},e.prototype.getGroupScales=function(){var t=this.geometries.map((function(t){return t.getGroupScales()}));return Uh(oe(t))},e.prototype.getCanvas=function(){return this.getRootView().canvas},e.prototype.getRootView=function(){for(var t=this;t.parent;)t=t.parent;return t},e.prototype.getXY=function(t){var e,n,A=this.getCoordinate(),r=this.getScalesByDim("x"),i=this.getScalesByDim("y");if($t(t,(function(t,A){r[A]&&(e=r[A].scale(t)),i[A]&&(n=i[A].scale(t))})),!Jt(e)&&!Jt(n))return A.convert({x:e,y:n})},e.prototype.getController=function(t){return re(this.controllers,(function(e){return e.name===t}))},e.prototype.showTooltip=function(t){var e=this.getController("tooltip");return e&&e.showTooltip(t),this},e.prototype.hideTooltip=function(){var t=this.getController("tooltip");return t&&t.hideTooltip(),this},e.prototype.lockTooltip=function(){var t=this.getController("tooltip");return t&&t.lockTooltip(),this},e.prototype.unlockTooltip=function(){var t=this.getController("tooltip");return t&&t.unlockTooltip(),this},e.prototype.isTooltipLocked=function(){var t=this.getController("tooltip");return t&&t.isTooltipLocked()},e.prototype.getTooltipItems=function(t){var e=this.getController("tooltip");return e?e.getTooltipItems(t):[]},e.prototype.getSnapRecords=function(t){for(var e=this.geometries,n=[],A=0,r=e.length;A<r;A++){var i=e[A],o=i.dataArray;i.sort(o);for(var a=void 0,s=0,l=o.length;s<l;s++){(a=yf(t,o[s],i))&&n.push(a)}}var u=this.views;for(A=0,r=u.length;A<r;A++){var c=u[A].getSnapRecords(t);n=n.concat(c)}return n},e.prototype.getComponents=function(){for(var t=[],e=this.controllers,n=0,A=e.length;n<A;n++){var r=e[n];t=t.concat(r.getComponents())}return t},e.prototype.filterData=function(t){var e=this.options.filters;return 0===gn(e)?t:Yt(t,(function(t,n){return Object.keys(e).every((function(A){return(0,e[A])(t[A],t,n)}))}))},e.prototype.filterFieldData=function(t,e){var n=this.options.filters,A=on(n,t);return _e(A)?e:e.filter((function(e,n){return A(e[t],e,n)}))},e.prototype.adjustCoordinate=function(){var t=this.getCoordinate(),e=t.start,n=t.end,A=this.coordinateBBox.bl,r=this.coordinateBBox.tr;nn(e,A)&&nn(n,r)?this.isCoordinateChanged=!1:(this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(A,r))},e.prototype.paint=function(t){this.renderDataRecursive(t),this.syncScale(),this.emit(Un.BEFORE_PAINT),this.renderPaddingRecursive(t),this.renderLayoutRecursive(t),this.renderBackgroundStyleShape(),this.renderPaintRecursive(t),this.emit(Un.AFTER_PAINT),this.isDataChanged=!1},e.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var t=on(this.themeObject,"background");if(t){this.backgroundStyleRectShape||(this.backgroundStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{},zIndex:-1,capture:!1}),this.backgroundStyleRectShape.toBack());var e=this.viewBBox,n=e.x,A=e.y,r=e.width,i=e.height;this.backgroundStyleRectShape.attr({fill:t,x:n,y:A,width:r,height:i})}else this.backgroundStyleRectShape&&(this.backgroundStyleRectShape.remove(!0),this.backgroundStyleRectShape=void 0)}},e.prototype.renderPaddingRecursive=function(t){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(t),this.autoPadding=Sf(this).shrink(wf(this.appendPadding)),this.coordinateBBox=this.viewBBox.shrink(this.autoPadding.getPadding()),this.adjustCoordinate(),this.controllers.find((function(t){return"tooltip"===t.name})).update();for(var e=this.views,n=0,A=e.length;n<A;n++){e[n].renderPaddingRecursive(t)}},e.prototype.renderLayoutRecursive=function(t){var e=!0===this.syncViewPadding?If:jt(this.syncViewPadding)?this.syncViewPadding:void 0;e&&(e(this,this.views,Mf),this.views.forEach((function(t){t.coordinateBBox=t.viewBBox.shrink(t.autoPadding.getPadding()),t.adjustCoordinate()}))),this.doLayout();for(var n=this.views,A=0,r=n.length;A<r;A++){n[A].renderLayoutRecursive(t)}},e.prototype.renderPaintRecursive=function(t){var e=this.middleGroup;if(this.limitInPlot){var n=kh(this.coordinateInstance),A=n.type,r=n.attrs;e.setClip({type:A,attrs:r})}else e.setClip(void 0);this.paintGeometries(t),this.renderComponents(t);for(var i=this.views,o=0,a=i.length;o<a;o++){i[o].renderPaintRecursive(t)}},e.prototype.createScale=function(t,e,n,A){var r=on(this.options.scales,[t]),i=Dt(Dt({},r),n);return this.parent?this.parent.createScale(t,e,i,A):this.scalePool.createScale(t,e,i,A)},e.prototype.renderDataRecursive=function(t){this.doFilterData(),this.createCoordinate(),this.initGeometries(t),this.renderFacet(t);for(var e=this.views,n=0,A=e.length;n<A;n++){e[n].renderDataRecursive(t)}},e.prototype.calculateViewBBox=function(){var t,e,n,A;if(this.parent){var r=this.parent.coordinateBBox;t=r.x,e=r.y,n=r.width,A=r.height}else t=0,e=0,n=this.canvas.get("width"),A=this.canvas.get("height");var i=this.region,o=i.start,a=i.end,s=new Eh(t+n*o.x,e+A*o.y,n*(a.x-o.x),A*(a.y-o.y));this.viewBBox&&this.viewBBox.isEqual(s)||(this.viewBBox=new Eh(t+n*o.x,e+A*o.y,n*(a.x-o.x),A*(a.y-o.y))),this.coordinateBBox=this.viewBBox},e.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},e.prototype.initComponentController=function(){for(var t=this.usedControllers,e=0,n=t.length;e<n;e++){var A=t[e],r=Cf[A];r&&this.controllers.push(new r(this))}},e.prototype.createViewEvent=function(t){var e=t.shape,n=t.name,A=e?e.get("origin"):null,r=new Qf(this,t,A);return r.type=n,r},e.prototype.doPlotEvent=function(t){var e=t.type,n={x:t.x,y:t.y};if(["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"].includes(e)){var A=this.isPointInPlot(n),r=t.clone();if(A){var i="plot:".concat(e);r.type=i,this.emit(i,r),"mouseleave"!==e&&"touchend"!==e||(this.isPreMouseInPlot=!1)}"mousemove"===e||"touchmove"===e?(this.isPreMouseInPlot&&!A?("mousemove"===e&&(r.type=In.MOUSE_LEAVE,this.emit(In.MOUSE_LEAVE,r)),r.type=In.LEAVE,this.emit(In.LEAVE,r)):!this.isPreMouseInPlot&&A&&("mousemove"===e&&(r.type=In.MOUSE_ENTER,this.emit(In.MOUSE_ENTER,r)),r.type=In.ENTER,this.emit(In.ENTER,r)),this.isPreMouseInPlot=A):"mouseleave"!==e&&"touchend"!==e||this.isPreMouseInPlot&&("mouseleave"===e&&(r.type=In.MOUSE_LEAVE,this.emit(In.MOUSE_LEAVE,r)),r.type=In.LEAVE,this.emit(In.LEAVE,r),this.isPreMouseInPlot=!1)}},e.prototype.doFilterData=function(){var t=this.options.data;this.filteredData=this.filterData(t)},e.prototype.initGeometries=function(t){this.createOrUpdateScales();for(var e=this.getCoordinate(),n=on(this.options,"scales",{}),A=this.geometries,r=0,i=A.length;r<i;r++){var o=A[r];o.scales=this.getGeometryScales();var a={coordinate:e,scaleDefs:n,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};t?o.update(a):o.init(a)}this.adjustScales()},e.prototype.createOrUpdateScales=function(){for(var t=this.getScaleFields(),e=this.getGroupedFields(),n=this.getOptions(),A=n.data,r=n.scales,i=void 0===r?{}:r,o=this.filteredData,a=0,s=t.length;a<s;a++){var l=t[a],u=i[l],c=this.getScaleKey(l);this.createScale(l,e.includes(l)?A:o,u,c),this.createdScaleKeys.set(c,!0)}},e.prototype.syncScale=function(){this.getRootView().scalePool.sync(this.getCoordinate(),this.theme)},e.prototype.getGeometryScales=function(){for(var t=this.getScaleFields(),e={},n=0;n<t.length;n++){var A=t[n];e[A]=this.getScaleByField(A)}return e},e.prototype.getScaleFields=function(){for(var t=[],e=new Map,n=this.geometries,A=0;A<n.length;A++){Uh(n[A].getScaleFields(),t,e)}return t},e.prototype.getGroupedFields=function(){for(var t=[],e=new Map,n=this.geometries,A=0;A<n.length;A++){Uh(n[A].getGroupFields(),t,e)}return t},e.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},e.prototype.adjustCategoryScaleRange=function(){var t=this,e=Nt([this.getXScale()],Vt(this.getYScales()),!1).filter((function(t){return!!t})),n=this.getCoordinate(),A=this.options.scales;$t(e,(function(e){var r=e.field,i=e.values,o=e.isCategory,a=e.isIdentity;(o||a)&&i&&!on(A,[r,"range"])&&(e.range=Ph(e,n,t.theme))}))},e.prototype.initComponents=function(t){for(var e=this.controllers,n=0;n<e.length;n++){var A=e[n];t?A.update():(A.clear(),A.render())}},e.prototype.doLayout=function(){this.layoutFunc(this)},e.prototype.createCoordinate=function(){var t=this.coordinateBBox.bl,e=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(t,e)},e.prototype.paintGeometries=function(t){for(var e=this.options.animate,n=this.getCoordinate(),A={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},r=this.geometries,i=0;i<r.length;i++){var o=r[i];o.coordinate=n,o.canvasRegion=A,e||o.animate(!1),o.paint(t)}},e.prototype.renderComponents=function(t){for(var e=this.getComponents(),n=0;n<e.length;n++){e[n].component.render()}},e.prototype.renderFacet=function(t){this.facetInstance&&(t?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},e.prototype.initOptions=function(){var t=this,e=this.options,n=e.geometries,A=void 0===n?[]:n,r=e.interactions,i=void 0===r?[]:r,o=e.views,a=void 0===o?[]:o,s=e.annotations,l=void 0===s?[]:s,u=e.coordinate,c=e.events,h=e.facets;this.coordinateController?u&&this.coordinateController.update(u):this.coordinateController=new bf(u);for(var p=0;p<A.length;p++){var f=A[p];this.createGeometry(f)}for(var d=0;d<i.length;d++){var g=i[d],y=g.type,v=g.cfg;this.interaction(y,v)}for(var m=0;m<a.length;m++){var B=a[m];this.createView(B)}for(var x=this.getController("annotation"),w=0;w<l.length;w++){var C=l[w];x.annotation(C)}c&&$t(c,(function(e,n){t.on(n,e)})),h&&$t(h,(function(e){var n=e.type,A=Pt(e,["type"]);t.facet(n,A)}))},e.prototype.createGeometry=function(t){var e=t.type,n=t.cfg,A=void 0===n?{}:n;if(this[e]){var r=this[e](A);$t(t,(function(t,e){jt(r[e])&&r[e](t)}))}},e.prototype.getScaleKey=function(t){return"".concat(this.id,"-").concat(t)},e}(eA);function Lf(t,e){kf.prototype[t.toLowerCase()]=function(t){void 0===t&&(t={});var n=Dt({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},t),A=new e(n);return this.geometries.push(A),A}}var Hf=function(t){function e(e){var n=this,A=e.container,r=e.width,i=e.height,o=e.autoFit,a=void 0!==o&&o,s=e.padding,l=e.appendPadding,u=e.renderer,c=void 0===u?"canvas":u,h=e.pixelRatio,p=e.localRefresh,f=void 0===p||p,d=e.visible,g=void 0===d||d,y=e.supportCSSTransform,v=void 0!==y&&y,m=e.defaultInteractions,B=void 0===m?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text","axis-description"]:m,x=e.options,w=e.limitInPlot,C=e.theme,F=e.syncViewPadding,b=pe(A)?document.getElementById(A):A,Q=zn('<div style="position:relative;"></div>');b.appendChild(Q);var U=$n(b,a,r,i),E=new(function(t){var e=_n[t];if(!e)throw new Error("G engine '".concat(t,"' is not exist, please register it at first."));return e}(c).Canvas)(Dt({container:Q,pixelRatio:h,localRefresh:f,supportCSSTransform:v},U));return(n=t.call(this,{parent:null,canvas:E,backgroundGroup:E.addGroup({zIndex:Pn}),middleGroup:E.addGroup({zIndex:Dn}),foregroundGroup:E.addGroup({zIndex:Tn}),padding:s,appendPadding:l,visible:g,options:x,limitInPlot:w,theme:C,syncViewPadding:F})||this).onResize=je((function(){n.forceFit()}),300),n.ele=b,n.canvas=E,n.width=U.width,n.height=U.height,n.autoFit=a,n.localRefresh=f,n.renderer=c,n.wrapperElement=Q,n.updateCanvasStyle(),n.bindAutoFit(),n.initDefaultInteractions(B),n}return Tt(e,t),e.prototype.initDefaultInteractions=function(t){var e=this;$t(t,(function(t){e.interaction(t)}))},e.prototype.aria=function(t){var e="aria-label";!1===t?this.ele.removeAttribute(e):this.ele.setAttribute(e,t.label)},e.prototype.changeSize=function(t,e){return this.width===t&&this.height===e||(this.emit(Un.BEFORE_CHANGE_SIZE),this.width=t,this.height=e,this.canvas.changeSize(t,e),this.render(!0),this.emit(Un.AFTER_CHANGE_SIZE)),this},e.prototype.clear=function(){t.prototype.clear.call(this),this.aria(!1)},e.prototype.destroy=function(){var e,n;t.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),e=this.wrapperElement,(n=e.parentNode)&&n.removeChild(e),this.wrapperElement=null},e.prototype.changeVisible=function(e){return t.prototype.changeVisible.call(this,e),this.wrapperElement.style.display=e?"":"none",this},e.prototype.forceFit=function(){if(!this.destroyed){var t=$n(this.ele,!0,this.width,this.height),e=t.width,n=t.height;this.changeSize(e,n)}},e.prototype.updateCanvasStyle=function(){qn(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},e.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},e.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},e}(kf),Tf=function(){function t(t){this.visible=!0,this.components=[],this.view=t}return t.prototype.clear=function(t){$t(this.components,(function(t){t.component.destroy()})),this.components=[]},t.prototype.destroy=function(){this.clear()},t.prototype.getComponents=function(){return this.components},t.prototype.changeVisible=function(t){this.visible!==t&&(this.components.forEach((function(e){t?e.component.show():e.component.hide()})),this.visible=t)},t}();var Df=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isLocked=!1,e}return Tt(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.isVisible=function(){return!1!==this.view.getOptions().tooltip},e.prototype.render=function(){},e.prototype.showTooltip=function(t){if(this.point=t,this.isVisible()){var e=this.view,n=this.getTooltipItems(t);if(n.length){var A=this.getTitle(n),r={x:n[0].x,y:n[0].y};e.emit("tooltip:show",Qf.fromData(e,"tooltip:show",Dt({items:n,title:A},t)));var i=this.getTooltipCfg(),o=i.follow,a=i.showMarkers,s=i.showCrosshairs,l=i.showContent,u=i.marker,c=this.items,h=this.title;if(nn(h,A)&&nn(c,n)?(this.tooltip&&o&&(this.tooltip.update(t),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()):(e.emit("tooltip:change",Qf.fromData(e,"tooltip:change",Dt({items:n,title:A},t))),(jt(l)?l(n):l)&&(this.tooltip||this.renderTooltip(),this.tooltip.update(ze({},i,{items:this.getItemsAfterProcess(n),title:A},o?t:{})),this.tooltip.show()),a&&this.renderTooltipMarkers(n,u)),this.items=n,this.title=A,s){var p=on(i,["crosshairs","follow"],!1);this.renderCrosshairs(p?t:r,i)}}else this.hideTooltip()}},e.prototype.hideTooltip=function(){if(this.getTooltipCfg().follow){var t=this.tooltipMarkersGroup;t&&t.hide();var e=this.xCrosshair,n=this.yCrosshair;e&&e.hide(),n&&n.hide();var A=this.tooltip;A&&A.hide(),this.view.emit("tooltip:hide",Qf.fromData(this.view,"tooltip:hide",{})),this.point=null}else this.point=null},e.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},e.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},e.prototype.isTooltipLocked=function(){return this.isLocked},e.prototype.clear=function(){var t=this,e=t.tooltip,n=t.xCrosshair,A=t.yCrosshair,r=t.tooltipMarkersGroup;e&&(e.hide(),e.clear()),n&&n.clear(),A&&A.clear(),r&&r.clear(),(null==e?void 0:e.get("customContent"))&&(this.tooltip.destroy(),this.tooltip=null),this.title=null,this.items=null},e.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.reset()},e.prototype.reset=function(){this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},e.prototype.changeVisible=function(t){if(this.visible!==t){var e=this,n=e.tooltip,A=e.tooltipMarkersGroup,r=e.xCrosshair,i=e.yCrosshair;t?(n&&n.show(),A&&A.show(),r&&r.show(),i&&i.show()):(n&&n.hide(),A&&A.hide(),r&&r.hide(),i&&i.hide()),this.visible=t}},e.prototype.getTooltipItems=function(t){var e,n,A,r,i,o,a=this.findItemsFromView(this.view,t);if(a.length){a=oe(a);try{for(var s=Kt(a),l=s.next();!l.done;l=s.next()){var u=l.value;try{for(var c=(A=void 0,Kt(u)),h=c.next();!h.done;h=c.next()){var p=h.value,f=p.mappingData,d=f.x,g=f.y;p.x=qt(d)?d[d.length-1]:d,p.y=qt(g)?g[g.length-1]:g}}catch(C){A={error:C}}finally{try{h&&!h.done&&(r=c.return)&&r.call(c)}finally{if(A)throw A.error}}}}catch(F){e={error:F}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}if(!1===this.getTooltipCfg().shared&&a.length>1){var y=a[0],v=Math.abs(t.y-y[0].y);try{for(var m=Kt(a),B=m.next();!B.done;B=m.next()){var x=B.value,w=Math.abs(t.y-x[0].y);w<=v&&(y=x,v=w)}}catch(b){i={error:b}}finally{try{B&&!B.done&&(o=m.return)&&o.call(m)}finally{if(i)throw i.error}}a=[y]}return function(t){for(var e=[],n=function(n){var A=t[n];re(e,(function(t){return t.color===A.color&&t.name===A.name&&t.value===A.value&&t.title===A.title}))||e.push(A)},A=0;A<t.length;A++)n(A);return e}(oe(a))}return[]},e.prototype.layout=function(){},e.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var t=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}})}},e.prototype.isCursorEntered=function(t){if(this.tooltip){var e=this.tooltip.getContainer(),n=this.tooltip.get("capture");if(e&&n){var A=e.getBoundingClientRect(),r=A.x,i=A.y,o=A.width,a=A.height;return new Eh(r,i,o,a).isPointIn(t)}}return!1},e.prototype.getTooltipCfg=function(){var t=this.view,e=t.getOptions().tooltip,n=this.processCustomContent(e),A=t.getTheme(),r=on(A,["components","tooltip"],{}),i=on(n,"enterable",r.enterable);return Ze({},r,n,{capture:!(!i&&!this.isLocked)})},e.prototype.processCustomContent=function(t){if(Ke(t)||!on(t,"customContent"))return t;var e=t.customContent;return Dt(Dt({},t),{customContent:function(t,n){var A=e(t,n)||"";return pe(A)?'<div class="g2-tooltip">'+A+"</div>":A}})},e.prototype.getTitle=function(t){var e=t[0].title||t[0].name;return this.title=e,e},e.prototype.renderTooltip=function(){var t=this.view.getCanvas(),e={start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}},n=this.getTooltipCfg(),A=new yh(Dt(Dt({parent:t.get("el").parentNode,region:e},n),{visible:!1,crosshairs:null}));A.init(),this.tooltip=A},e.prototype.renderTooltipMarkers=function(t,e){var n,A,r=this.getTooltipMarkersGroup(),i=this.view.getRootView(),o=i.limitInPlot;try{for(var a=Kt(t),s=a.next();!s.done;s=a.next()){var l=s.value,u=l.x,c=l.y;if(o||(null==r?void 0:r.getClip())){var h=kh(i.getCoordinate()),p=h.type,f=h.attrs;null==r||r.setClip({type:p,attrs:f})}else null==r||r.setClip(void 0);var d=this.view.getTheme(),g=on(d,["components","tooltip","marker"],{}),y=Dt(Dt({fill:l.color,symbol:"circle",shadowColor:l.color},jt(e)?Dt(Dt({},g),e(l)):e),{x:u,y:c});r.addShape("marker",{attrs:y})}}catch(v){n={error:v}}finally{try{s&&!s.done&&(A=a.return)&&A.call(a)}finally{if(n)throw n.error}}},e.prototype.renderCrosshairs=function(t,e){var n=on(e,["crosshairs","type"],"x");"x"===n?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,e)):"y"===n?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,e)):"xy"===n&&(this.renderXCrosshairs(t,e),this.renderYCrosshairs(t,e))},e.prototype.renderXCrosshairs=function(t,e){var n,A,r=this.getViewWithGeometry(this.view).getCoordinate();if(r.isRect)r.isTransposed?(n={x:r.start.x,y:t.y},A={x:r.end.x,y:t.y}):(n={x:t.x,y:r.end.y},A={x:t.x,y:r.start.y});else{var i=Ih(r,t),o=r.getCenter(),a=r.getRadius();A=Bh(o.x,o.y,a,i),n=o}var s=Ze({start:n,end:A,container:this.getTooltipCrosshairsGroup()},on(e,"crosshairs",{}),this.getCrosshairsText("x",t,e));delete s.type;var l=this.xCrosshair;l?l.update(s):(l=new yc(s)).init(),l.render(),l.show(),this.xCrosshair=l},e.prototype.renderYCrosshairs=function(t,e){var n,A,r=this.getViewWithGeometry(this.view).getCoordinate();if(r.isRect){var i=void 0,o=void 0;r.isTransposed?(i={x:t.x,y:r.end.y},o={x:t.x,y:r.start.y}):(i={x:r.start.x,y:t.y},o={x:r.end.x,y:t.y}),n={start:i,end:o},A="Line"}else n={center:r.getCenter(),radius:Sh(r,t),startAngle:r.startAngle,endAngle:r.endAngle},A="Circle";delete(n=Ze({container:this.getTooltipCrosshairsGroup()},n,on(e,"crosshairs",{}),this.getCrosshairsText("y",t,e))).type;var a=this.yCrosshair;a?r.isRect&&"circle"===a.get("type")||!r.isRect&&"line"===a.get("type")?(a=new Fc[A](n)).init():a.update(n):(a=new Fc[A](n)).init(),a.render(),a.show(),this.yCrosshair=a},e.prototype.getCrosshairsText=function(t,e,n){var A=on(n,["crosshairs","text"]),r=on(n,["crosshairs","follow"]),i=this.items;if(A){var o=this.getViewWithGeometry(this.view),a=i[0],s=o.getXScale(),l=o.getYScales()[0],u=void 0,c=void 0;if(r){var h=this.view.getCoordinate().invert(e);u=s.invert(h.x),c=l.invert(h.y)}else u=a.data[s.field],c=a.data[l.field];var p="x"===t?u:c;return jt(A)?A=A(t,p,i,e):A.content=p,{text:A}}},e.prototype.getGuideGroup=function(){if(!this.guideGroup){var t=this.view.foregroundGroup;this.guideGroup=t.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},e.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):((t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"})).toFront(),this.tooltipMarkersGroup=t),t},e.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||((t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1})).toBack(),this.tooltipCrosshairsGroup=t),t},e.prototype.findItemsFromView=function(t,e){var n,A;if(!1===t.getOptions().tooltip)return[];var r=xf(t,e,this.getTooltipCfg());try{for(var i=Kt(t.views),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(this.findItemsFromView(a,e))}}catch(s){n={error:s}}finally{try{o&&!o.done&&(A=i.return)&&A.call(i)}finally{if(n)throw n.error}}return r},e.prototype.getViewWithGeometry=function(t){var e=this;return t.geometries.length?t:re(t.views,(function(t){return e.getViewWithGeometry(t)}))},e.prototype.getItemsAfterProcess=function(t){var e=this.getTooltipCfg().customItems;return(e||function(t){return t})(t)},e}(Tf),Pf={};function Of(t){return Pf[t.toLowerCase()]}function Rf(t,e){Pf[t.toLowerCase()]=e}var Kf={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},Vf={interval:function(t){return{enter:{animation:t.isRect?t.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:t.isPolar&&t.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},Gf={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(t){var e;return t.isRect?e=t.isTransposed?"grow-in-x":"grow-in-y":(e="grow-in-xy",t.isPolar&&t.isTransposed&&(e="wave-in")),{animation:e}},schema:function(t){return{animation:t.isRect?t.isTransposed?"grow-in-x":"grow-in-y":"grow-in-xy"}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function Nf(t,e,n){var A=Vf[t];return A&&(jt(A)&&(A=A(e)),A=Ze({},Kf,A),n)?A[n]:A}function _f(t,e,n){var A=on(t.get("origin"),"data",Nn),r=e.animation,i=function(t,e){return{delay:jt(t.delay)?t.delay(e):t.delay,easing:jt(t.easing)?t.easing(e):t.easing,duration:jt(t.duration)?t.duration(e):t.duration,callback:t.callback,repeat:t.repeat}}(e,A);if(r){var o=Of(r);o&&o(t,i,n)}else t.animate(n.toAttrs,i)}var Xf="element-background",Yf=function(t){function e(e){var n=t.call(this,e)||this;n.labelShape=[],n.states=[];var A=e.shapeFactory,r=e.container,i=e.offscreenGroup,o=e.elementIndex,a=e.visible,s=void 0===a||a;return n.shapeFactory=A,n.container=r,n.offscreenGroup=i,n.visible=s,n.elementIndex=o,n}return Tt(e,t),e.prototype.draw=function(t,e){void 0===e&&(e=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,e),!1===this.visible&&this.changeVisible(!1)},e.prototype.update=function(t){var e=this.shapeFactory,n=this.shape;if(n){this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(n,t);var A=this.getOffscreenGroup(),r=e.drawShape(this.shapeType,t,A);r.cfg.data=this.data,r.cfg.origin=t,r.cfg.element=this,this.syncShapeStyle(n,r,this.getStates(),this.getAnimateCfg("update"))}},e.prototype.destroy=function(){var e=this.shapeFactory,n=this.shape;if(n){var A=this.getAnimateCfg("leave");A?_f(n,A,{coordinate:e.coordinate,toAttrs:Dt({},n.attr())}):n.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=[],this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,t.prototype.destroy.call(this)},e.prototype.changeVisible=function(e){t.prototype.changeVisible.call(this,e),e?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach((function(t){t.show()}))):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach((function(t){t.hide()})))},e.prototype.setState=function(t,e){var n=this,A=n.states,r=n.shapeFactory,i=n.model,o=n.shape,a=n.shapeType,s=A.indexOf(t);if(e){if(s>-1)return;A.push(t),"active"!==t&&"selected"!==t||null==o||o.toFront()}else{if(-1===s)return;if(A.splice(s,1),"active"===t||"selected"===t){var l=this.geometry,u=l.sortZIndex,c=l.zIndexReversed?this.geometry.elements.length-this.elementIndex:this.elementIndex;u?o.setZIndex(c):o.set("zIndex",c)}}var h=r.drawShape(a,i,this.getOffscreenGroup());A.length?this.syncShapeStyle(o,h,A,null):this.syncShapeStyle(o,h,["reset"],null),h.remove(!0);var p={state:t,stateStatus:e,element:this,target:this.container};this.container.emit("statechange",p),su(this.shape,"statechange",p)},e.prototype.clearStates=function(){var t=this;$t(this.states,(function(e){t.setState(e,!1)})),this.states=[]},e.prototype.hasState=function(t){return this.states.includes(t)},e.prototype.getStates=function(){return this.states},e.prototype.getData=function(){return this.data},e.prototype.getModel=function(){return this.model},e.prototype.getBBox=function(){var t=this.shape,e=this.labelShape,n={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return t&&(n=t.getCanvasBBox()),e&&e.forEach((function(t){var e=t.getCanvasBBox();n.x=Math.min(e.x,n.x),n.y=Math.min(e.y,n.y),n.minX=Math.min(e.minX,n.minX),n.minY=Math.min(e.minY,n.minY),n.maxX=Math.max(e.maxX,n.maxX),n.maxY=Math.max(e.maxY,n.maxY)})),n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n},e.prototype.getStatesStyle=function(){if(!this.statesStyle){var t=this,e=t.shapeType,n=t.geometry,A=t.shapeFactory,r=n.stateOption,i=A.defaultShapeType,o=A.theme[e]||A.theme[i];this.statesStyle=Ze({},o,r)}return this.statesStyle},e.prototype.getStateStyle=function(t,e){var n=this.getStatesStyle(),A=on(n,[t,"style"],{}),r=A[e]||A;return jt(r)?r(this):r},e.prototype.getAnimateCfg=function(t){var e=this,n=this.animate;if(n){var A=n[t];return A?Dt(Dt({},A),{callback:function(){var t;jt(A.callback)&&A.callback(),null===(t=e.geometry)||void 0===t||t.emit(Mn.AFTER_DRAW_ANIMATE)}}):A}return null},e.prototype.drawShape=function(t,e){var n;void 0===e&&(e=!1);var A=this,r=A.shapeFactory,i=A.container,o=A.shapeType;if(this.shape=r.drawShape(o,t,i),this.shape){this.setShapeInfo(this.shape,t);var a=this.shape.cfg.name;a?pe(a)&&(this.shape.cfg.name=["element",a]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var s=e?"enter":"appear",l=this.getAnimateCfg(s);l&&(null===(n=this.geometry)||void 0===n||n.emit(Mn.BEFORE_DRAW_ANIMATE),_f(this.shape,l,{coordinate:r.coordinate,toAttrs:Dt({},this.shape.attr())}))}},e.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},e.prototype.setShapeInfo=function(t,e){var n=this;(t.cfg.origin=e,t.cfg.element=this,t.isGroup())&&t.get("children").forEach((function(t){n.setShapeInfo(t,e)}))},e.prototype.syncShapeStyle=function(t,e,n,A,r){var i,o=this;if(void 0===n&&(n=[]),void 0===r&&(r=0),t&&e){var a=t.get("clipShape"),s=e.get("clipShape");if(this.syncShapeStyle(a,s,n,A),t.isGroup())for(var l=t.get("children"),u=e.get("children"),c=0;c<l.length;c++)this.syncShapeStyle(l[c],u[c],n,A,r+c);else{if(!en(n)&&!nn(n,["reset"])){var h=t.get("name");qt(h)&&(h=h[1]),$t(n,(function(t){if(e.get("name")!==Xf){var n=o.getStateStyle(t,h||r);e.attr(n)}}))}var p=Fh(t,e);this.animate?A?(null===(i=this.geometry)||void 0===i||i.emit(Mn.BEFORE_DRAW_ANIMATE),_f(t,A,{coordinate:this.shapeFactory.coordinate,toAttrs:p,shapeModel:this.model})):en(n)?t.attr(p):(t.stopAnimate(),t.animate(p,{duration:300})):t.attr(p)}}},e.prototype.getShapeType=function(t){var e=on(t,"shape");return qt(e)?e[0]:e},e}(eA),zf={},Wf={};function jf(t,e){zf[t.toLowerCase()]=e}function Jf(t,e){Wf[t.toLowerCase()]=e}var qf={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(t,e){var n=this.getShape(t);return n.getPoints?n.getPoints(e):this.getDefaultPoints(e)},getShape:function(t){var e=this[t]||this[this.defaultShapeType];return e.coordinate=this.coordinate,e},getDefaultPoints:function(){return[]},getDefaultStyle:function(t){return on(t,[this.defaultShapeType,"default","style"],{})},getMarker:function(t,e){var n=this.getShape(t);if(!n.getMarker){var A=this.defaultShapeType;n=this.getShape(A)}var r=this.theme,i=on(r,[t,"default"],{}),o=n.getMarker(e);return Ze({},i,o)},drawShape:function(t,e,n){return this.getShape(t).draw(e,n)}},Zf={coordinate:null,parsePath:function(t){var e=this.coordinate,n=Ua(t);return n=e.isPolar?sp(e,n):function(t,e){var n=[];return $t(e,(function(e){switch(e[0].toLowerCase()){case"m":case"l":case"c":n.push(np(e,t));break;case"a":n.push(Ap(e,t));break;default:n.push(e)}})),n}(e,n),n},parsePoint:function(t){return this.coordinate.convert(t)},parsePoints:function(t){var e=this.coordinate;return t.map((function(t){return e.convert(t)}))},draw:function(t,e){}},$f={};function td(t,e){var n=Pe(t),A=Dt(Dt(Dt({},qf),e),{geometryType:t});return $f[n]=A,A}function ed(t,e,n){var A=Pe(t),r=$f[A],i=Dt(Dt({},Zf),n);return r[e]=i,i}function nd(t){var e=Pe(t);return $f[e]}function Ad(t,e){return me(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],(function(n){return!nn(t[n],e[n])}))}function rd(t){return qt(t)?t:t.split("*")}function id(t,e){for(var n=[],A=[],r=[],i=new Map,o=0;o<e.length;o++){var a=e[o];t[a]?A.push(a):n.push(a),i.set(a,!0)}return Object.keys(t).forEach((function(t){i.has(t)||r.push(t)})),{added:n,updated:A,removed:r}}var od=function(t){function e(e){var n=t.call(this,e)||this;n.type="base",n.attributes={},n.elements=[],n.elementsMap={},n.animateOption=!0,n.attributeOption={},n.lastElementsMap={},n.generatePoints=!1,n.beforeMappingData=null,n.adjusts={},n.idFields=[],n.hasSorted=!1,n.isCoordinateChanged=!1;var A=e.container,r=e.labelsContainer,i=e.coordinate,o=e.data,a=e.sortable,s=void 0!==a&&a,l=e.visible,u=void 0===l||l,c=e.theme,h=e.scales,p=void 0===h?{}:h,f=e.scaleDefs,d=void 0===f?{}:f,g=e.intervalPadding,y=e.dodgePadding,v=e.maxColumnWidth,m=e.minColumnWidth,B=e.columnWidthRatio,x=e.roseWidthRatio,w=e.multiplePieWidthRatio,C=e.zIndexReversed,F=e.sortZIndex,b=e.useDeferredLabel;return n.container=A,n.labelsContainer=r,n.coordinate=i,n.data=o,n.sortable=s,n.visible=u,n.userTheme=c,n.scales=p,n.scaleDefs=d,n.intervalPadding=g,n.dodgePadding=y,n.maxColumnWidth=v,n.minColumnWidth=m,n.columnWidthRatio=B,n.roseWidthRatio=x,n.multiplePieWidthRatio=w,n.zIndexReversed=C,n.sortZIndex=F,n.useDeferredLabel=b?"number"==typeof b?b:1/0:null,n}return Tt(e,t),e.prototype.position=function(t){var e=t;Ae(t)||(e={fields:rd(t)});var n=on(e,"fields");return 1===n.length&&(n.unshift("1"),an(e,"fields",n)),an(this.attributeOption,"position",e),this},e.prototype.color=function(t,e){return this.createAttrOption("color",t,e),this},e.prototype.shape=function(t,e){return this.createAttrOption("shape",t,e),this},e.prototype.size=function(t,e){return this.createAttrOption("size",t,e),this},e.prototype.adjust=function(t){var e=t;return(pe(t)||Ae(t))&&(e=[t]),$t(e,(function(t,n){Zt(t)||(e[n]={type:t})})),this.adjustOption=e,this},e.prototype.style=function(t,e){if(pe(t)){var n=rd(t);this.styleOption={fields:n,callback:e}}else{var A=t,r=(n=A.fields,A.callback),i=A.cfg;this.styleOption=n||r||i?t:{cfg:t}}return this},e.prototype.tooltip=function(t,e){if(pe(t)){var n=rd(t);this.tooltipOption={fields:n,callback:e}}else this.tooltipOption=t;return this},e.prototype.animate=function(t){return this.animateOption=t,this},e.prototype.label=function(t,e,n){if(pe(t)){var A={},r=rd(t);A.fields=r,jt(e)?A.callback=e:Ae(e)&&(A.cfg=e),n&&(A.cfg=n),this.labelOption=A}else this.labelOption=t;return this},e.prototype.state=function(t){return this.stateOption=t,this},e.prototype.customInfo=function(t){return this.customOption=t,this},e.prototype.init=function(t){void 0===t&&(t={}),this.setCfg(t),this.initAttributes(),this.processData(this.data),this.adjustScale()},e.prototype.update=function(t){void 0===t&&(t={});var e=t.data,n=t.isDataChanged,A=t.isCoordinateChanged,r=this.attributeOption,i=this.lastAttributeOption;nn(r,i)?!e||!n&&nn(e,this.data)?this.setCfg(t):(this.setCfg(t),this.initAttributes(),this.processData(e)):this.init(t),this.adjustScale(),this.isCoordinateChanged=A},e.prototype.paint=function(t){var e=this;void 0===t&&(t=!1),this.animateOption&&(this.animateOption=Ze({},Nf(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elementsMap={},this.elements=[],this.getOffscreenGroup().clear();var n=this.beforeMappingData,A=this.beforeMapping(n);this.dataArray=new Array(A.length);for(var r=0;r<A.length;r++){var i=A[r];this.dataArray[r]=this.mapping(i)}if(this.updateElements(this.dataArray,t),this.lastElementsMap=this.elementsMap,this.canDoGroupAnimation(t)){var o=this.container,a=this.type,s=this.coordinate,l=on(this.animateOption,"appear"),u=this.getYScale(),c=s.convert({x:0,y:u.scale(this.getYMinValue())});!function(t,e,n,A,r){if(Gf[n]){var i=Gf[n](A),o=Of(on(i,"animation",""));if(o){var a=Dt(Dt(Dt({},Kf.appear),i),e);t.stopAnimate(),o(t,a,{coordinate:A,minYPoint:r,toAttrs:null})}}}(o,l,a,s,c)}if(this.labelOption){var h=this.useDeferredLabel,p=function(){return e.renderLabels(oe(e.dataArray),t)}.bind(this);if("number"==typeof h){var f="number"==typeof h&&h!==1/0?h:0;if(window.requestIdleCallback){var d=f&&f!==1/0?{timeout:f}:void 0;window.requestIdleCallback(p,d)}else setTimeout(p,f)}else p()}this.lastAttributeOption=Dt({},this.attributeOption),!1===this.visible&&this.changeVisible(!1)},e.prototype.clear=function(){var t=this,e=t.container,n=t.geometryLabel,A=t.offscreenGroup;e&&e.clear(),n&&n.clear(),A&&A.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},e.prototype.destroy=function(){this.clear(),this.container.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,t.prototype.destroy.call(this)},e.prototype.getGroupScales=function(){return this.groupScales},e.prototype.getAttribute=function(t){return this.attributes[t]},e.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},e.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},e.prototype.getGroupAttributes=function(){var t=[];return $t(this.attributes,(function(e){Gn.includes(e.type)&&t.push(e)})),t},e.prototype.getDefaultValue=function(t){var e,n=this.getAttribute(t);return n&&en(n.scales)&&(e=n.values[0]),e},e.prototype.getAttributeValues=function(t,e){for(var n=[],A=t.scales,r=0,i=A.length;r<i;r++){var o=A[r],a=o.field;o.isIdentity?n.push(o.values):n.push(e[a])}return t.mapping.apply(t,Nt([],Vt(n),!1))},e.prototype.getAdjust=function(t){return this.adjusts[t]},e.prototype.getCoordinate=function(){return this.coordinate},e.prototype.getData=function(){return this.data},e.prototype.getShapeMarker=function(t,e){return this.getShapeFactory().getMarker(t,e)},e.prototype.getElementsBy=function(t){return this.elements.filter((function(e){return t(e)}))},e.prototype.getElements=function(){return this.elements},e.prototype.getElementId=function(t){var e=(t=qt(t)?t[0]:t)[Nn];if(this.idFields.length){for(var n=e[this.idFields[0]],A=1;A<this.idFields.length;A++)n+="-"+e[this.idFields[A]];return n}var r,i,o=this.type,a=this.getXScale(),s=this.getYScale(),l=a.field||"x",u=e[s.field||"y"];r="identity"===a.type?a.values[0]:e[l],i="interval"===o||"schema"===o?"".concat(r):"line"===o||"area"===o||"path"===o?o:"".concat(r,"-").concat(u);for(var c=this.groupScales,h=(A=0,c.length);A<h;A++){var p=c[A].field;i="".concat(i,"-").concat(e[p])}var f=this.getAdjust("dodge");if(f){var d=f.dodgeBy;d&&(i="".concat(i,"-").concat(e[d]))}return this.getAdjust("jitter")&&(i="".concat(i,"-").concat(t.x,"-").concat(t.y)),i},e.prototype.getScaleFields=function(){var t=[],e=new Map,n=this,A=n.attributeOption,r=n.labelOption,i=n.tooltipOption;for(var o in A)if(A.hasOwnProperty(o)){var a=A[o];a.fields?Uh(a.fields,t,e):a.values&&Uh(a.values,t,e)}return r&&r.fields&&Uh(r.fields,t,e),Zt(i)&&i.fields&&Uh(i.fields,t,e),t},e.prototype.changeVisible=function(e){t.prototype.changeVisible.call(this,e);for(var n=this.elements,A=0,r=n.length;A<r;A++){n[A].changeVisible(e)}e?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},e.prototype.getFields=function(){var t=new Map,e=[];return Object.values(this.attributeOption).forEach((function(n){((null==n?void 0:n.fields)||[]).forEach((function(n){t.has(n)||e.push(n),t.set(n,!0)}))}),[]),e},e.prototype.getGroupFields=function(){for(var t=[],e=new Map,n=0,A=Gn.length;n<A;n++){var r=Gn[n],i=this.attributeOption[r];i&&i.fields&&Uh(i.fields,t,e)}return t},e.prototype.getXYFields=function(){var t=Vt(this.attributeOption.position.fields,2);return[t[0],t[1]]},e.prototype.getXField=function(){return on(this.getXYFields(),[0])},e.prototype.getYField=function(){return on(this.getXYFields(),[1])},e.prototype.getShapes=function(){return this.elements.map((function(t){return t.shape}))},e.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},e.prototype.sort=function(t){if(!this.hasSorted)for(var e=this.getXScale(),n=e.field,A=0;A<t.length;A++){t[A].sort((function(t,A){return e.translate(t[Nn][n])-e.translate(A[Nn][n])}))}this.hasSorted=!0},e.prototype.adjustScale=function(){var t=this.getYScale();t&&this.getAdjust("stack")&&this.updateStackRange(t,this.beforeMappingData)},e.prototype.getShapeFactory=function(){var t=this.shapeType;if(nd(t))return this.shapeFactory||(this.shapeFactory=We(nd(t))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[t]||{},this.shapeFactory},e.prototype.createShapePointsCfg=function(t){var e=this.getXScale(),n=this.getYScale();return{x:this.normalizeValues(t[e.field],e),y:n?this.normalizeValues(t[n.field],n):t.y?t.y:.1,y0:n?n.scale(this.getYMinValue()):void 0}},e.prototype.createElement=function(t,e,n){void 0===n&&(n=!1);var A=this.container,r=this.getDrawCfg(t),i=this.getShapeFactory(),o=new Yf({shapeFactory:i,container:A,offscreenGroup:this.getOffscreenGroup(),elementIndex:e});return o.animate=this.animateOption,o.geometry=this,o.draw(r,n),o},e.prototype.getDrawCfg=function(t){var e=t[Nn],n={mappingData:t,data:e,x:t.x,y:t.y,color:t.color,size:t.size,isInCircle:this.coordinate.isPolar,customInfo:this.customOption},A=t.shape;!A&&this.getShapeFactory()&&(A=this.getShapeFactory().defaultShapeType),n.shape=A;var r=this.theme.geometries[this.shapeType];n.defaultStyle=on(r,[A,"default"],{}).style,!n.defaultStyle&&this.getShapeFactory()&&(n.defaultStyle=this.getShapeFactory().getDefaultStyle(r));var i=this.styleOption;return i&&(n.style=this.getStyleCfg(i,e)),this.generatePoints&&(n.points=t.points,n.nextPoints=t.nextPoints),n},e.prototype.updateElements=function(t,e){var n,A,r,i,o,a;void 0===e&&(e=!1);for(var s=new Map,l=[],u=new Map,c=0,h=0;h<t.length;h++)for(var p=t[h],f=0;f<p.length;f++){var d=p[f],g=this.getElementId(d),y=s.has(g)?"".concat(g,"-").concat(h,"-").concat(f):g;l.push(y),s.set(y,d),u.set(y,c),c++}this.elements=new Array(c);var v=id(this.lastElementsMap,l),m=v.added,B=v.updated,x=v.removed;try{for(var w=Kt(m),C=w.next();!C.done;C=w.next()){g=C.value,d=s.get(g),h=u.get(g);var F=this.createElement(d,h,e);this.elements[h]=F,this.elementsMap[g]=F,F.shape&&F.shape.set("zIndex",this.zIndexReversed?this.elements.length-h:h)}}catch(I){n={error:I}}finally{try{C&&!C.done&&(A=w.return)&&A.call(w)}finally{if(n)throw n.error}}try{for(var b=Kt(B),Q=b.next();!Q.done;Q=b.next()){g=Q.value,F=this.lastElementsMap[g],d=s.get(g);var U=this.getDrawCfg(d),E=F.getModel();h=u.get(g);(this.isCoordinateChanged||Ad(U,E))&&(F.animate=this.animateOption,F.update(U)),this.elements[h]=F,this.elementsMap[g]=F,F.shape&&F.shape.set("zIndex",this.zIndexReversed?this.elements.length-h:h)}}catch(k){r={error:k}}finally{try{Q&&!Q.done&&(i=b.return)&&i.call(b)}finally{if(r)throw r.error}}this.container&&this.container.sort();try{for(var M=Kt(x),S=M.next();!S.done;S=M.next()){g=S.value;(F=this.lastElementsMap[g]).animate=this.animateOption,F.destroy()}}catch(L){o={error:L}}finally{try{S&&!S.done&&(a=M.return)&&a.call(M)}finally{if(o)throw o.error}}},e.prototype.getLabelType=function(){var t=this,e=t.labelOption,n=t.coordinate,A=t.type,r=n.type,i=n.isTransposed,o=on(e,["cfg","type"]);return o||(o="polar"===r?i?"pie":"polar":"theta"===r?"pie":"interval"===A||"polygon"===A?"interval":"base"),o},e.prototype.getYMinValue=function(){var t=this.getYScale(),e=t.min,n=t.max;return e>=0?e:n<=0?n:0},e.prototype.createAttrOption=function(t,e,n){if(Jt(e)||Zt(e))Zt(e)&&nn(Object.keys(e),["values"])?an(this.attributeOption,t,{fields:e.values}):an(this.attributeOption,t,e);else{var A={};be(e)?A.values=[e]:A.fields=rd(e),n&&(jt(n)?A.callback=n:A.values=n),an(this.attributeOption,t,A)}},e.prototype.initAttributes=function(){var t=this,e=this,n=e.attributes,A=e.attributeOption,r=e.theme,i=e.shapeType;this.groupScales=[];var o={},a=function(e){if(A.hasOwnProperty(e)){var a=A[e];if(!a)return{value:void 0};var s=Dt({},a),l=s.callback,u=s.values,c=s.fields,h=(void 0===c?[]:c).map((function(n){var A=t.scales[n];!o[n]&&Gn.includes(e)&&("cat"===Hh(A,on(t.scaleDefs,n),e,t.type)&&(t.groupScales.push(A),o[n]=!0));return A}));s.scales=h,"position"!==e&&1===h.length&&"identity"===h[0].type?s.values=h[0].values:l||u||("size"===e?s.values=r.sizes:"shape"===e?s.values=r.shapes[i]||[]:"color"===e&&(h.length?s.values=h[0].values.length<=10?r.colors10:r.colors20:s.values=r.colors10));var p=tu(e);n[e]=new p(s)}};for(var s in A){var l=a(s);if("object"==typeof l)return l.value}},e.prototype.processData=function(t){var e,n;this.hasSorted=!1;for(var A=this.getAttribute("position").scales.filter((function(t){return t.isCategory})),r=this.groupData(t),i=[],o=0,a=r.length;o<a;o++){for(var s=r[o],l=[],u=0,c=s.length;u<c;u++){var h=s[u],p={};for(var f in h)p[f]=h[f];p[Nn]=h;try{for(var d=(e=void 0,Kt(A)),g=d.next();!g.done;g=d.next()){var y=g.value,v=y.field;p[v]=y.translate(p[v])}}catch(B){e={error:B}}finally{try{g&&!g.done&&(n=d.return)&&n.call(d)}finally{if(e)throw e.error}}l.push(p)}i.push(l)}var m=this.adjustData(i);return this.beforeMappingData=m,m},e.prototype.adjustData=function(t){var e=this.adjustOption,n=this,A=n.intervalPadding,r=n.dodgePadding,i=n.theme,o=this.maxColumnWidth||i.maxColumnWidth,a=this.minColumnWidth||i.minColumnWidth,s=this.columnWidthRatio||i.columnWidthRatio,l=t;if(e){var u=this.getXScale(),c=this.getYScale(),h=u.field,p=c?c.field:null,f=Mh(this.coordinate),d=u.values.length,g=this.getAttribute("size"),y=void 0;g&&(y=g.values[0]);for(var v=0,m=e.length;v<m;v++){var B=e[v],x=Dt({xField:h,yField:p,intervalPadding:A,dodgePadding:r,xDimensionLength:f,groupNum:d,defaultSize:y,maxColumnWidth:o,minColumnWidth:a,columnWidthRatio:s},B),w=B.type;if("dodge"===w){var C=[];if(u.isCategory||"identity"===u.type)C.push("x");else{if(c)throw new Error("dodge is not support linear attribute, please use category attribute!");C.push("y")}x.adjustNames=C,x.dodgeRatio=s}else if("stack"===w){var F=this.coordinate;if(!c){x.height=F.getHeight();var b=this.getDefaultValue("size")||3;x.size=b}!F.isTransposed&&Jt(x.reverseOrder)&&(x.reverseOrder=!0)}var Q=ja(w);x.dimValuesMap={},u&&u.values&&(x.dimValuesMap[u.field]=u.values.map((function(t){return u.translate(t)})));var U=new Q(x);l=U.process(l),this.adjusts[w]=U}}return l},e.prototype.groupData=function(t){for(var e=this.getGroupScales(),n=this.scaleDefs,A={},r=[],i=0;i<e.length;i++){var o=e[i].field;r.push(o),on(n,[o,"values"])&&(A[o]=n[o].values)}return function(t,e,n){var A,r;if(void 0===n&&(n={}),!e)return[t];var i=we(t,e),o=[];if(1===e.length&&n[e[0]]){var a=n[e[0]];try{for(var s=Kt(a),l=s.next();!l.done;l=s.next()){var u=l.value,c=i["_".concat(u)];c&&o.push(c)}}catch(f){A={error:f}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(A)throw A.error}}}else for(var h in i)if(i.hasOwnProperty(h)){var p=i[h];o.push(p)}return o}(t,r,A)},e.prototype.updateStackRange=function(t,e){for(var n=oe(e),A=t.field,r=t.min,i=t.max,o=0;o<n.length;o++){var a=n[o],s=Math.min.apply(null,a[A]),l=Math.max.apply(null,a[A]);s<r&&(r=s),l>i&&(i=l)}var u=this.scaleDefs,c={};r<t.min&&!on(u,[A,"min"])&&(c.min=r),i>t.max&&!on(u,[A,"max"])&&(c.max=i),t.change(c)},e.prototype.beforeMapping=function(t){var e=t;if(this.sortable&&this.sort(e),this.generatePoints)for(var n=0,A=e.length;n<A;n++){var r=e[n];this.generateShapePoints(r);var i=e[n+1];i&&(this.generateShapePoints(i),r[0].nextPoints=i[0].points)}return e},e.prototype.generateShapePoints=function(t){for(var e=this.getShapeFactory(),n=this.getAttribute("shape"),A=0;A<t.length;A++){var r=t[A],i=this.createShapePointsCfg(r),o=n?this.getAttributeValues(n,r):null,a=e.getShapePoints(o,i);r.points=a}},e.prototype.normalizeValues=function(t,e){var n=[];if(qt(t))for(var A=0;A<t.length;A++){var r=t[A];n.push(e.scale(r))}else n=e.scale(t);return n},e.prototype.mapping=function(t){for(var e=this.attributes,n=[],A=0;A<t.length;A++){var r=t[A],i={_origin:r[Nn],points:r.points,nextPoints:r.nextPoints};for(var o in e)if(e.hasOwnProperty(o)){var a=e[o],s=a.names,l=this.getAttributeValues(a,r);if(s.length>1)for(var u=0;u<l.length;u+=1){var c=l[u];i[s[u]]=qt(c)&&1===c.length?c[0]:c}else i[s[0]]=1===l.length?l[0]:l}this.convertPoint(i),n.push(i)}return n},e.prototype.convertPoint=function(t){var e,n,A,r=t.x,i=t.y,o=this.coordinate;if(qt(r)&&qt(i)){e=[],n=[];for(var a=0,s=0,l=r.length,u=i.length;a<l&&s<u;a+=1,s+=1)A=o.convert({x:r[a],y:i[s]}),e.push(A.x),n.push(A.y)}else if(qt(i)){n=[];for(var c=0;c<i.length;c++){var h=i[c];A=o.convert({x:r,y:h}),e&&e!==A.x?(qt(e)||(e=[e]),e.push(A.x)):e=A.x,n.push(A.y)}}else if(qt(r)){e=[];for(c=0;c<r.length;c++){var p=r[c];A=o.convert({x:p,y:i}),n&&n!==A.y?(qt(n)||(n=[n]),n.push(A.y)):n=A.y,e.push(A.x)}}else{var f=o.convert({x:r,y:i});e=f.x,n=f.y}t.x=e,t.y=n},e.prototype.getStyleCfg=function(t,e){var n=t.fields,A=void 0===n?[]:n,r=t.callback,i=t.cfg;if(i)return i;var o=A.map((function(t){return e[t]}));return r.apply(void 0,Nt([],Vt(o),!1))},e.prototype.setCfg=function(t){var e=this,n=t.coordinate,A=t.data,r=t.theme,i=t.scaleDefs;n&&(this.coordinate=n),A&&(this.data=A),i&&(this.scaleDefs=i,this.idFields=[],$t(i,(function(t,n){t&&t.key&&e.idFields.push(n)}))),r&&(this.theme=this.userTheme?Ze({},r,this.userTheme):r)},e.prototype.renderLabels=function(t,e){return void 0===e&&(e=!1),Ot(this,void 0,void 0,(function(){var n,A,r,i,o,a,s,l,u,c,h,p,f=this;return Rt(this,(function(d){switch(d.label){case 0:return n=this.geometryLabel,this.emit(Mn.BEFORE_RENDER_LABEL),n||(A=this.getLabelType(),r=zf[A.toLowerCase()],n=new r(this),this.geometryLabel=n),[4,n.render(t,e)];case 1:d.sent(),i=n.labelsRenderer.shapesMap,o=new Map,$t(i,(function(t,e){for(var n=t.getChildren()||[],A=0;A<n.length;A++){var r=n[A],i=f.elementsMap[r.get("elementId")||e.split(" ")[0]];if(i){r.cfg.name=["element","label"],r.cfg.element=i;var a=o.get(i)||new Set;a.add(t),o.set(i,a)}}}));try{for(a=Kt(o.entries()),s=a.next();!s.done;s=a.next())l=Vt(s.value,2),u=l[0],c=l[1],u.labelShape=Nt([],Vt(c),!1)}catch(g){h={error:g}}finally{try{s&&!s.done&&(p=a.return)&&p.call(a)}finally{if(h)throw h.error}}return this.emit(Mn.AFTER_RENDER_LABEL),[2]}}))}))},e.prototype.canDoGroupAnimation=function(t){return!t&&this.animateOption&&(void 0===on(this.animateOption,"appear")||on(this.animateOption,"appear")&&void 0===on(this.animateOption,["appear","animation"]))},e}(eA),ad=gr;function sd(t,e,n){var A=ad(t.getMatrix(),[["t",e,n]]);t.setMatrix(A)}function ld(t,e){var n=function(t,e){var n=t.attr(),A=n.x,r=n.y;return ad(t.getMatrix(),[["t",-A,-r],["r",e],["t",A,r]])}(t,e);t.setMatrix(n)}function ud(t){return t.find((function(t){return"text"===t.get("type")}))}function cd(t,e,n){void 0===n&&(n=[0,0,0,0]);var A=t&&t.getChildren()[0];if(A){var r=A.clone();(null==e?void 0:e.rotate)&&ld(r,-e.rotate);var i=r.getCanvasBBox(),o=i.x,a=i.y,s=i.width,l=i.height;r.destroy();var u=n;return Jt(u)?u=[2,2,2,2]:be(u)&&(u=new Array(4).fill(u)),{x:o-u[3],y:a-u[0],width:s+u[1]+u[3],height:l+u[0]+u[2],rotation:(null==e?void 0:e.rotate)||0}}return{x:0,y:0,width:0,height:0,rotation:0}}function hd(t,e){var n=t.getBBox();return me(e,(function(t){var e,A,r,i=t.getBBox();return e=n,A=i,void 0===(r=2)&&(r=0),Math.max(0,Math.min(e.x+e.width+r,A.x+A.width+r)-Math.max(e.x-r,A.x-r))*Math.max(0,Math.min(e.y+e.height+r,A.y+A.height+r)-Math.max(e.y-r,A.y-r))>0}))}function pd(t,e,n){var A=n.data,r=n.origin,i=n.animateCfg,o=n.coordinate,a=on(i,"update");t.set("data",A),t.set("origin",r),t.set("animateCfg",i),t.set("coordinate",o),t.set("visible",e.get("visible")),(t.getChildren()||[]).forEach((function(s,l){var u=e.getChildByIndex(l);if(u){s.set("data",A),s.set("origin",r),s.set("animateCfg",i),s.set("coordinate",o);var c=Fh(s,u);a?_f(s,a,{toAttrs:c,coordinate:o}):s.attr(c),u.isGroup()&&pd(s,u,n)}else t.removeChild(s),s.remove(!0)})),$t(e.getChildren(),(function(e,n){qt(t.getChildren())&&n>=t.getCount()&&(e.destroyed||t.add(e))}))}var fd=function(){function t(t){this.shapesMap={};var e=t.layout,n=t.container;this.layout=e,this.container=n}return t.prototype.render=function(t,e,n){return void 0===n&&(n=!1),Ot(this,void 0,void 0,(function(){var A,r,i,o,a,s,l,u,c=this;return Rt(this,(function(h){switch(h.label){case 0:if(A={},r=this.createOffscreenGroup(),!t.length)return[3,2];try{for(i=Kt(t),o=i.next();!o.done;o=i.next())(a=o.value)&&(A[a.id]=this.renderLabel(a,r))}catch(p){l={error:p}}finally{try{o&&!o.done&&(u=i.return)&&u.call(i)}finally{if(l)throw l.error}}return[4,this.doLayout(t,e,A)];case 1:h.sent(),this.renderLabelLine(t,A),this.renderLabelBackground(t,A),this.adjustLabel(t,A),h.label=2;case 2:return s=this.shapesMap,$t(A,(function(t,e){if(t.destroyed)delete A[e];else{if(s[e]){var r=t.get("data"),i=t.get("origin"),o=t.get("coordinate"),a=t.get("animateCfg"),l=s[e];pd(l,A[e],{data:r,origin:i,animateCfg:a,coordinate:o}),A[e]=l}else{if(c.container.destroyed)return;c.container.add(t);var u=on(t.get("animateCfg"),n?"enter":"appear");u&&_f(t,u,{toAttrs:Dt({},t.attr()),coordinate:t.get("coordinate")})}delete s[e]}})),$t(s,(function(t){var e=on(t.get("animateCfg"),"leave");e?_f(t,e,{toAttrs:null,coordinate:t.get("coordinate")}):t.remove(!0)})),this.shapesMap=A,r.destroy(),[2]}}))}))},t.prototype.clear=function(){this.container.clear(),this.shapesMap={}},t.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null},t.prototype.renderLabel=function(t,e){var n,A,r=t.id,i=t.elementId,o=t.data,a=t.mappingData,s=t.coordinate,l=t.animate,u=t.content,c={id:r,elementId:i,capture:t.capture,data:o,origin:Dt(Dt({},a),{data:a[Nn]}),coordinate:s},h=e.addGroup(Dt({name:"label",animateCfg:!1!==this.animate&&null!==l&&!1!==l&&Ze({},this.animate,l)},c));if(u.isGroup&&u.isGroup()||u.isShape&&u.isShape()){var p=u.getCanvasBBox(),f=p.width,d=p.height,g=on(t,"textAlign","left"),y=t.x;"center"===g?y-=f/2:"right"!==g&&"end"!==g||(y-=f),sd(u,y,t.y-d/2),n=u,h.add(u)}else{var v=on(t,["style","fill"]);n=h.addShape("text",Dt({attrs:Dt(Dt({x:t.x,y:t.y,textAlign:t.textAlign,textBaseline:on(t,"textBaseline","middle"),text:t.content},t.style),{fill:(A=v,null===A?t.color:v)})},c))}return t.rotate&&ld(n,t.rotate),h},t.prototype.doLayout=function(t,e,n){return Ot(this,void 0,void 0,(function(){var A,r=this;return Rt(this,(function(i){switch(i.label){case 0:return this.layout?(A=qt(this.layout)?this.layout:[this.layout],[4,Promise.all(A.map((function(A){var i,o=(i=on(A,"type",""),Wf[i.toLowerCase()]);if(o){var a=[],s=[];return $t(n,(function(t,n){a.push(t),s.push(e[t.get("elementId")])})),o(t,a,s,r.region,A.cfg)}})))]):[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))},t.prototype.renderLabelLine=function(t,e){$t(t,(function(t){var n=on(t,"coordinate");if(t&&n){var A=n.getCenter(),r=n.getRadius();if(t.labelLine){var i=on(t,"labelLine",{}),o=t.id,a=i.path;if(!a){var s=Bh(A.x,A.y,r,t.angle);a=[["M",s.x,s.y],["L",t.x,t.y]]}var l=e[o];l.destroyed||l.addShape("path",{capture:!1,attrs:Dt({path:a,stroke:t.color?t.color:on(t,["style","fill"],"#000"),fill:null},i.style),id:o,origin:t.mappingData,data:t.data,coordinate:t.coordinate})}}}))},t.prototype.renderLabelBackground=function(t,e){$t(t,(function(t){var n=on(t,"coordinate"),A=on(t,"background");if(A&&n){var r=t.id,i=e[r];if(!i.destroyed){var o=i.getChildren()[0];if(o){var a=cd(i,t,A.padding),s=a.rotation,l=Pt(a,["rotation"]),u=i.addShape("rect",{attrs:Dt(Dt({},l),A.style||{}),id:r,origin:t.mappingData,data:t.data,coordinate:t.coordinate});if(u.setZIndex(-1),s){var c=o.getMatrix();u.setMatrix(c)}}}}}))},t.prototype.createOffscreenGroup=function(){return new(this.container.getGroupBase())({})},t.prototype.adjustLabel=function(t,e){$t(t,(function(t){if(t){var n=t.id,A=e[n];if(!A.destroyed)$t(A.findAll((function(t){return"path"!==t.get("type")})),(function(e){e&&(t.offsetX&&e.attr("x",e.attr("x")+t.offsetX),t.offsetY&&e.attr("y",e.attr("y")+t.offsetY))}))}}))},t}();function dd(t){var e=0;return $t(t,(function(t){e+=t})),e/t.length}var gd=function(){function t(t){this.geometry=t}return t.prototype.getLabelItems=function(t){var e=this,n=[],A=this.getLabelCfgs(t);return $t(t,(function(t,r){var i=A[r];if(!i||Jt(t.x)||Jt(t.y))n.push(null);else{var o=qt(i.content)?i.content:[i.content];i.content=o;var a=o.length;$t(o,(function(A,r){if(Jt(A)||""===A)n.push(null);else{var o=Dt(Dt({},i),e.getLabelPoint(i,t,r));o.textAlign||(o.textAlign=e.getLabelAlign(o,r,a)),o.offset<=0&&(o.labelLine=null),n.push(o)}}))}})),n},t.prototype.render=function(t,e){return void 0===e&&(e=!1),Ot(this,void 0,void 0,(function(){var n,A,r;return Rt(this,(function(i){switch(i.label){case 0:return n=this.getLabelItems(t),A=this.getLabelsRenderer(),r=this.getGeometryShapes(),[4,A.render(n,r,e)];case 1:return i.sent(),[2]}}))}))},t.prototype.clear=function(){var t=this.labelsRenderer;t&&t.clear()},t.prototype.destroy=function(){var t=this.labelsRenderer;t&&t.destroy(),this.labelsRenderer=null},t.prototype.getCoordinate=function(){return this.geometry.coordinate},t.prototype.getDefaultLabelCfg=function(t,e){var n=this.geometry,A=n.type,r=n.theme;return"polygon"===A||"interval"===A&&"middle"===e||t<0&&!["line","point","path"].includes(A)?on(r,"innerLabels",{}):on(r,"labels",{})},t.prototype.getThemedLabelCfg=function(t){var e=this.geometry,n=this.getDefaultLabelCfg(),A=e.type,r=e.theme;return"polygon"===A||t.offset<0&&!["line","point","path"].includes(A)?Ze({},n,r.innerLabels,t):Ze({},n,r.labels,t)},t.prototype.setLabelPosition=function(t,e,n,A){},t.prototype.getLabelOffset=function(t){var e=this.getCoordinate(),n=this.getOffsetVector(t);return e.isTransposed?n[0]:n[1]},t.prototype.getLabelOffsetPoint=function(t,e,n){var A=t.offset,r=this.getCoordinate().isTransposed,i=r?"x":"y",o=r?1:-1,a={x:0,y:0};return a[i]=e>0||1===n?A*o:A*o*-1,a},t.prototype.getLabelPoint=function(t,e,n){var A=this.getCoordinate(),r=t.content.length;function i(e,n,A){void 0===A&&(A=!1);var r=e;return qt(r)&&(r=1===t.content.length?A?dd(r):r.length<=2?r[e.length-1]:dd(r):r[n]),r}var o={content:t.content[n],x:0,y:0,start:{x:0,y:0},color:"#fff"},a=qt(e.shape)?e.shape[0]:e.shape,s="funnel"===a||"pyramid"===a;if("polygon"===this.geometry.type){var l=function(t,e){if(be(t)&&be(e))return[t,e];if(vh(t)||vh(e))return[mh(t),mh(e)];for(var n,A,r=-1,i=0,o=0,a=t.length-1,s=0;++r<t.length;)n=a,a=r,s+=A=t[n]*e[a]-t[a]*e[n],i+=(t[n]+t[a])*A,o+=(e[n]+e[a])*A;return[i/(s*=3),o/s]}(e.x,e.y);o.x=l[0],o.y=l[1]}else"interval"!==this.geometry.type||s?(o.x=i(e.x,n),o.y=i(e.y,n)):(o.x=i(e.x,n,!0),o.y=i(e.y,n));if(s){var u=on(e,"nextPoints"),c=on(e,"points");if(u){var h=A.convert(c[1]),p=A.convert(u[1]);o.x=(h.x+p.x)/2,o.y=(h.y+p.y)/2}else if("pyramid"===a){h=A.convert(c[1]),p=A.convert(c[2]);o.x=(h.x+p.x)/2,o.y=(h.y+p.y)/2}}t.position&&this.setLabelPosition(o,e,n,t.position);var f=this.getLabelOffsetPoint(t,n,r);return o.start={x:o.x,y:o.y},o.x+=f.x,o.y+=f.y,o.color=e.color,o},t.prototype.getLabelAlign=function(t,e,n){var A="center";if(this.getCoordinate().isTransposed){var r=t.offset;A=r<0?"right":0===r?"center":"left",n>1&&0===e&&("right"===A?A="left":"left"===A&&(A="right"))}return A},t.prototype.getLabelId=function(t){var e=this.geometry,n=e.type,A=e.getXScale(),r=e.getYScale(),i=t[Nn],o=e.getElementId(t);return"line"===n||"area"===n?o+=" ".concat(i[A.field]):"path"===n&&(o+=" ".concat(i[A.field],"-").concat(i[r.field])),o},t.prototype.getLabelsRenderer=function(){var t=this.geometry,e=t.labelsContainer,n=t.labelOption,A=t.canvasRegion,r=t.animateOption,i=this.geometry.coordinate,o=this.labelsRenderer;return o||(o=new fd({container:e,layout:on(n,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=o),o.region=A,o.animate=!!r&&Nf("label",i),o},t.prototype.getLabelCfgs=function(t){var e=this,n=this.geometry,A=n.labelOption,r=n.scales,i=n.coordinate,o=A,a=o.fields,s=o.callback,l=o.cfg,u=a.map((function(t){return r[t]})),c=[];return $t(t,(function(t,n){var A,r=t[Nn],o=e.getLabelText(r,u);if(s){var h=a.map((function(t){return r[t]}));if(A=s.apply(void 0,Nt([],Vt(h),!1)),Jt(A))return void c.push(null)}var p=Dt(Dt({id:e.getLabelId(t),elementId:e.geometry.getElementId(t),data:r,mappingData:t,coordinate:i},l),A);jt(p.position)&&(p.position=p.position(r,t,n));var f=e.getLabelOffset(p.offset||0),d=e.getDefaultLabelCfg(f,p.position);(p=Ze({},d,p)).offset=e.getLabelOffset(p.offset||0);var g=p.content;jt(g)?p.content=g(r,t,n):_e(g)&&(p.content=o[0]),c.push(p)})),c},t.prototype.getLabelText=function(t,e){var n=[];return $t(e,(function(e){var A=t[e.field];A=qt(A)?A.map((function(t){return e.getText(t)})):e.getText(A),Jt(A)||""===A?n.push(null):n.push(A)})),n},t.prototype.getOffsetVector=function(t){void 0===t&&(t=0);var e=this.getCoordinate(),n=0;return be(t)&&(n=t),e.isTransposed?e.applyMatrix(n,0):e.applyMatrix(0,n)},t.prototype.getGeometryShapes=function(){var t=this.geometry,e={};return $t(t.elementsMap,(function(t,n){e[n]=t.shape})),$t(t.getOffscreenGroup().getChildren(),(function(n){var A=t.getElementId(n.get("origin").mappingData);e[A]=n})),e},t}();function yd(t,e,n){if(!t)return n;var A;if(t.callback&&t.callback.length>1){var r=Array(t.callback.length-1).fill("");A=t.mapping.apply(t,Nt([e],Vt(r),!1)).join("")}else A=t.mapping(e).join("");return A||n}var vd={hexagon:function(t,e,n){var A=n/2*Math.sqrt(3);return[["M",t,e-n],["L",t+A,e-n/2],["L",t+A,e+n/2],["L",t,e+n],["L",t-A,e+n/2],["L",t-A,e-n/2],["Z"]]},bowtie:function(t,e,n){var A=n-1.5;return[["M",t-n,e-A],["L",t+n,e+A],["L",t+n,e-A],["L",t-n,e+A],["Z"]]},cross:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e+n],["M",t+n,e-n],["L",t-n,e+n]]},tick:function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]},plus:function(t,e,n){return[["M",t-n,e],["L",t+n,e],["M",t,e-n],["L",t,e+n]]},hyphen:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},line:function(t,e,n){return[["M",t,e-n],["L",t,e+n]]}},md=["line","cross","tick","plus","hyphen"];function Bd(t){var e=t.symbol;pe(e)&&vd[e]&&(t.symbol=vd[e])}function xd(t){return t.startsWith(wn.LEFT)||t.startsWith(wn.RIGHT)?"vertical":"horizontal"}function wd(t,e,n,A,r){var i=n.getScale(n.type);if(i.isCategory){var o=i.field,a=e.getAttribute("color"),s=e.getAttribute("shape"),l=t.getTheme().defaultColor,u=e.coordinate.isPolar;return i.getTicks().map((function(n,c){var h,p=n.text,f=n.value,d=p,g=i.invert(f),y=0===t.filterFieldData(o,[(h={},h[o]=g,h)]).length;$t(t.views,(function(t){var e;t.filterFieldData(o,[(e={},e[o]=g,e)]).length||(y=!0)}));var v,m,B=yd(a,g,l),x=yd(s,g,"point"),w=e.getShapeMarker(x,{color:B,isInPolar:u}),C=r;return jt(C)&&(C=C(d,c,Dt({name:d,value:g},Ze({},A,w)))),function(t,e){var n=t.symbol;if(pe(n)&&-1!==md.indexOf(n)){var A=on(t,"style",{}),r=on(A,"lineWidth",1),i=A.stroke||A.fill||e;t.style=Ze({},t.style,{lineWidth:r,stroke:i,fill:null})}}(w=Ze({},A,w,Qh(Dt({},C),["style"])),B),C&&C.style&&(w.style=(v=w.style,m=C.style,jt(m)?m(v):Ze({},v,m))),Bd(w),{id:g,name:d,value:g,marker:w,unchecked:y}}))}return[]}function Cd(t,e){var n=on(t,["components","legend"],{});return Ze({},on(n,["common"],{}),Ze({},on(n,[e],{})))}function Fd(t){return!t&&(null==t||isNaN(t))}function bd(t){if(qt(t))return Fd(t[1].y);var e=t.y;return qt(e)?Fd(e[0]):Fd(e)}function Qd(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=!0),!t.length||1===t.length&&!n)return[];if(e){for(var A=[],r=0,i=t.length;r<i;r++){bd(s=t[r])||A.push(s)}return[A]}var o=[],a=[];for(r=0,i=t.length;r<i;r++){var s;bd(s=t[r])?a.length&&((1!==a.length||n)&&o.push(a),a=[]):a.push(s)}return a.length&&o.push(a),o}function Ud(t){for(var e=[],n=0;n<t.length;n++){var A=t[n];if(A){var r=0===n?"M":"L";e.push([r,A.x,A.y])}}var i=t[0];return i&&(e.push(["L",i.x,i.y]),e.push(["z"])),e}function Ed(t){for(var e=t.length/2,n=[],A=[],r=0;r<t.length;r++)r<e?n.push(t[r]):A.push(t[r]);var i=ap(n,!1),o=ap(A,!1);A.length&&i.push(["L",A[0].x,A[0].y]),o.shift();var a=i.concat(o);return n.length&&a.push(["L",n[0].x,n[0].y]),a.push(["z"]),a}function Md(t,e,n,A){void 0===A&&(A="");var r=t.style,i=void 0===r?{}:r,o=t.defaultStyle,a=t.color,s=t.size,l=Dt(Dt({},o),i);return a&&(e&&(i.stroke||(l.stroke=a)),n&&(i.fill||(l.fill=a))),A&&Jt(i[A])&&!Jt(s)&&(l[A]=s),l}function Sd(t){return Ze({},{fill:"#CCD6EC",fillOpacity:.3},on(t,["background","style"]))}function Id(t){var e=t.x;return(qt(t.y)?t.y:[t.y]).map((function(t,n){return{x:qt(e)?e[n]:e,y:t}}))}var kd={line:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},dot:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},dash:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},smooth:function(t,e,n){return[["M",t-n,e],["A",n/2,n/2,0,1,1,t,e],["A",n/2,n/2,0,1,0,t+n,e]]},hv:function(t,e,n){return[["M",t-n-1,e-2.5],["L",t,e-2.5],["L",t,e+2.5],["L",t+n+1,e+2.5]]},vh:function(t,e,n){return[["M",t-n-1,e+2.5],["L",t,e+2.5],["L",t,e-2.5],["L",t+n+1,e-2.5]]},hvh:function(t,e,n){return[["M",t-(n+1),e+2.5],["L",t-n/2,e+2.5],["L",t-n/2,e-2.5],["L",t+n/2,e-2.5],["L",t+n/2,e+2.5],["L",t+n+1,e+2.5]]},vhv:function(t,e){return[["M",t-5,e+2.5],["L",t-5,e],["L",t,e],["L",t,e-3],["L",t,e+3],["L",t+6.5,e+3]]}};function Ld(t,e){var n=t.color;return{symbol:kd[e],style:{lineWidth:2,r:6,stroke:n}}}function Hd(t,e,n,A,r){return 1===t.length?[["M",t[0].x,t[0].y-r.lineWidth/2],["L",t[0].x,t[0].y],["L",t[0].x,t[0].y+r.lineWidth/2]]:(n?(e&&t.length&&t.push({x:t[0].x,y:t[0].y}),i=ap(t,!1,A)):(i=op(t,!1),e&&i.push(["Z"])),i);var i}function Td(t,e,n,A,r,i){if(t.length){var o=t[0];return qt(o.y)?function(t,e,n,A,r,i){var o=[],a=[];$t(t,(function(t){var e=Id(t);o.push(e[1]),a.push(e[0])}));var s=Hd(o,e,A,r,i),l=Hd(a,e,A,r,i);return n?s:s.concat(l)}(t,e,n,A,r,i):Hd(t,e,A,r,i)}return[]}td("line",{defaultShapeType:"line"}),$t(["line","dot","dash","smooth"],(function(t){ed("line",t,{draw:function(e,n){var A,r="smooth"===t;if(r){var i=this.coordinate,o=i.start,a=i.end;A=[[o.x,a.y],[a.x,o.y]]}var s=function(t,e,n){for(var A=t.isStack,r=t.connectNulls,i=t.isInCircle,o=t.showSinglePoint,a=Md(t,!0,!1,"lineWidth"),s=Qd(t.points,r,o),l=[],u=0,c=s.length;u<c;u++){var h=s[u];l=l.concat(Td(h,i,A,e,n,a))}return a.path=l,a}(e,r,A);return n.addShape({type:"path",attrs:s,name:"line",capture:!r})},getMarker:function(e){return Ld(e,t)}})}));var Dd={getLegendItems:wd,translate:sd,rotate:ld,zoom:function(t,e){var n=t.getBBox(),A=(n.minX+n.maxX)/2,r=(n.minY+n.maxY)/2;t.applyToMatrix([A,r,1]);var i=ad(t.getMatrix(),[["t",-A,-r],["s",e,e],["t",A,r]]);t.setMatrix(i)},transform:ad,getAngle:Ch,getSectorPath:xh,polarToCartesian:Bh,getDelegationObject:dp,getTooltipItems:vf,getMappingValue:yd,getPath:Td,getPathPoints:Qd},Pd="#000",Od="#262626",Rd="#BFBFBF",Kd="#F0F0F0",Vd="#FFFFFF",Gd="#A6A6A6",Nd="#737373",_d="#404040",Xd="#262626",Yd=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],zd=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],Wd=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],jd=function(t){void 0===t&&(t={});var e=t.paletteQualitative10,n=void 0===e?Yd:e,A=t.paletteQualitative20,r=void 0===A?zd:A,i=t.brandColor,o=void 0===i?n[0]:i;return Dt(Dt({},{backgroundColor:"#141414",brandColor:o,subColor:"rgba(255,255,255,0.05)",paletteQualitative10:n,paletteQualitative20:r,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",paletteSequence:Wd,fontFamily:'"Segoe UI", Roboto, "Helvetica Neue", Arial,\n    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",\n    "Noto Color Emoji"',axisLineBorderColor:_d,axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:Gd,axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisDescriptionIconFillColor:Od,axisTickLineBorderColor:_d,axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:Xd,axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:Nd,axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:Xd,axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:Nd,legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:Yd[0],legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:Gd,legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendSpacing:16,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:Nd,legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:Nd,legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:Gd,legendPageNavigatorTextFontSize:12,sliderRailFillColor:Xd,sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:Nd,sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:Kd,sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:Rd,annotationArcBorderColor:Xd,annotationArcBorder:1,annotationLineBorderColor:_d,annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:Gd,annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:Vd,annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:_d,tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:Gd,tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:Gd,labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:Pd,innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:Gd,overflowLabelFillColorDark:"#2c3542",overflowLabelFillColorLight:"#ffffff",overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:Pd,overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:_d,cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#fff",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(255,255,255,0.65)",scrollbarThumbFillColor:"rgba(0,0,0,0.35)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.45)",pointFillColor:Yd[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:Pd,pointBorderOpacity:1,pointActiveBorderColor:Vd,pointSelectedBorder:2,pointSelectedBorderColor:Vd,pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:Yd[0],hollowPointBorderOpacity:.95,hollowPointFillColor:Pd,hollowPointActiveBorder:1,hollowPointActiveBorderColor:Vd,hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:Vd,hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:Yd[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:Yd[0],areaFillOpacity:.25,areaActiveFillColor:Yd[0],areaActiveFillOpacity:.5,areaSelectedFillColor:Yd[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:Yd[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:Vd,hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:Vd,hollowAreaInactiveBorderOpacity:.3,intervalFillColor:Yd[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:Vd,intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:Vd,intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:Yd[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:Pd,hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:Vd,hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:Vd,hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3}),t)}();function Jd(t,e,n,A){var r=t-n,i=e-A;return Math.sqrt(r*r+i*i)}function qd(t,e,n,A,r,i){return r>=t&&r<=t+n&&i>=e&&i<=e+A}function Zd(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)}function $d(t,e){return t[0]===e[0]&&t[1]===e[1]}var tg=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,eg=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,ng=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Ag=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function rg(t,e){$t(t.match(Ag),(function(t){var n=t.split(":");e.addColorStop(n[0],n[1])}))}function ig(t,e,n){var A=e.getBBox();if(isNaN(A.x)||isNaN(A.y)||isNaN(A.width)||isNaN(A.height))return n;if(pe(n)){if("("===n[1]||"("===n[2]){if("l"===n[0])return function(t,e,n){var A,r,i=tg.exec(n),o=parseFloat(i[1])%360*(Math.PI/180),a=i[2],s=e.getBBox();o>=0&&o<.5*Math.PI?(A={x:s.minX,y:s.minY},r={x:s.maxX,y:s.maxY}):.5*Math.PI<=o&&o<Math.PI?(A={x:s.maxX,y:s.minY},r={x:s.minX,y:s.maxY}):Math.PI<=o&&o<1.5*Math.PI?(A={x:s.maxX,y:s.maxY},r={x:s.minX,y:s.minY}):(A={x:s.minX,y:s.maxY},r={x:s.maxX,y:s.minY});var l=Math.tan(o),u=l*l,c=(r.x-A.x+l*(r.y-A.y))/(u+1)+A.x,h=l*(r.x-A.x+l*(r.y-A.y))/(u+1)+A.y,p=t.createLinearGradient(A.x,A.y,c,h);return rg(a,p),p}(t,e,n);if("r"===n[0])return function(t,e,n){var A=eg.exec(n),r=parseFloat(A[1]),i=parseFloat(A[2]),o=parseFloat(A[3]),a=A[4];if(0===o){var s=a.match(Ag);return s[s.length-1].split(":")[1]}var l=e.getBBox(),u=l.maxX-l.minX,c=l.maxY-l.minY,h=Math.sqrt(u*u+c*c)/2,p=t.createRadialGradient(l.minX+u*r,l.minY+c*i,0,l.minX+u/2,l.minY+c/2,o*h);return rg(a,p),p}(t,e,n);if("p"===n[0])return function(t,e,n){if(e.get("patternSource")&&e.get("patternSource")===n)return e.get("pattern");var A,r,i=ng.exec(n),o=i[1],a=i[2];function s(){A=t.createPattern(r,o),e.set("pattern",A),e.set("patternSource",n)}switch(o){case"a":o="repeat";break;case"x":o="repeat-x";break;case"y":o="repeat-y";break;default:o="no-repeat"}return r=new Image,a.match(/^data:/i)||(r.crossOrigin="Anonymous"),r.src=a,r.complete?s():(r.onload=s,r.src=r.src),A}(t,e,n)}return n}return n instanceof CanvasPattern?n:void 0}function og(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function ag(t,e){return og(t)*og(e)?(t[0]*e[0]+t[1]*e[1])/(og(t)*og(e)):1}function sg(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(ag(t,e))}function lg(t,e){var n=e[1],A=e[2],r=Me(Ie(e[3]),2*Math.PI),i=e[4],o=e[5],a=t[0],s=t[1],l=e[6],u=e[7],c=Math.cos(r)*(a-l)/2+Math.sin(r)*(s-u)/2,h=-1*Math.sin(r)*(a-l)/2+Math.cos(r)*(s-u)/2,p=c*c/(n*n)+h*h/(A*A);p>1&&(n*=Math.sqrt(p),A*=Math.sqrt(p));var f=n*n*(h*h)+A*A*(c*c),d=f?Math.sqrt((n*n*(A*A)-f)/f):1;i===o&&(d*=-1),isNaN(d)&&(d=0);var g=A?d*n*h/A:0,y=n?d*-A*c/n:0,v=(a+l)/2+Math.cos(r)*g-Math.sin(r)*y,m=(s+u)/2+Math.sin(r)*g+Math.cos(r)*y,B=[(c-g)/n,(h-y)/A],x=[(-1*c-g)/n,(-1*h-y)/A],w=sg([1,0],B),C=sg(B,x);return ag(B,x)<=-1&&(C=Math.PI),ag(B,x)>=1&&(C=0),0===o&&C>0&&(C-=2*Math.PI),1===o&&C<0&&(C+=2*Math.PI),{cx:v,cy:m,rx:$d(t,[l,u])?0:n,ry:$d(t,[l,u])?0:A,startAngle:w,endAngle:w+C,xRotation:r,arcFlag:i,sweepFlag:o}}var ug=Math.sin,cg=Math.cos,hg=Math.atan2,pg=Math.PI;function fg(t,e,n,A,r,i,o){var a=e.stroke,s=e.lineWidth,l=hg(A-i,n-r),u=new Jg({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*cg(pg/6)+","+10*ug(pg/6)+" L0,0 L"+10*cg(pg/6)+",-"+10*ug(pg/6),stroke:a,lineWidth:s}});u.translate(r,i),u.rotateAtPoint(r,i,l),t.set(o?"startArrowShape":"endArrowShape",u)}function dg(t,e,n,A,r,i,o){var a=e.startArrow,s=e.endArrow,l=e.stroke,u=e.lineWidth,c=o?a:s,h=c.d,p=c.fill,f=c.stroke,d=c.lineWidth,g=Pt(c,["d","fill","stroke","lineWidth"]),y=hg(A-i,n-r);h&&(r-=cg(y)*h,i-=ug(y)*h);var v=new Jg({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:Dt(Dt({},g),{stroke:f||l,lineWidth:d||u,fill:p})});v.translate(r,i),v.rotateAtPoint(r,i,y),t.set(o?"startArrowShape":"endArrowShape",v)}function gg(t,e,n,A,r){var i=hg(A-e,n-t);return{dx:cg(i)*r,dy:ug(i)*r}}function yg(t,e,n,A,r,i){"object"==typeof e.startArrow?dg(t,e,n,A,r,i,!0):e.startArrow?fg(t,e,n,A,r,i,!0):t.set("startArrowShape",null)}function vg(t,e,n,A,r,i){"object"==typeof e.endArrow?dg(t,e,n,A,r,i,!1):e.endArrow?fg(t,e,n,A,r,i,!1):t.set("startArrowShape",null)}var mg={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function Bg(t,e){var n=e.attr();for(var A in n){var r=n[A],i=mg[A]?mg[A]:A;"matrix"===i&&r?t.transform(r[0],r[1],r[3],r[4],r[6],r[7]):"lineDash"===i&&t.setLineDash?qt(r)&&t.setLineDash(r):("strokeStyle"===i||"fillStyle"===i?r=ig(t,e,r):"globalAlpha"===i&&(r*=t.globalAlpha),t[i]=r)}}function xg(t,e,n){for(var A=0;A<e.length;A++){var r=e[A];r.cfg.visible?r.draw(t,n):r.skipDraw()}}function wg(t,e,n){var A=t.get("refreshElements");$t(A,(function(e){if(e!==t)for(var n=e.cfg.parent;n&&n!==t&&!n.cfg.refresh;)n.cfg.refresh=!0,n=n.cfg.parent})),A[0]===t?bg(e):Cg(e,n)}function Cg(t,e){for(var n=0;n<t.length;n++){var A=t[n];if(A.cfg.visible)if(A.cfg.hasChanged)A.cfg.refresh=!0,A.isGroup()&&bg(A.cfg.children);else if(A.cfg.refresh)A.isGroup()&&Cg(A.cfg.children,e);else{var r=Qg(A,e);A.cfg.refresh=r,r&&A.isGroup()&&Cg(A.cfg.children,e)}}}function Fg(t){for(var e=0;e<t.length;e++){var n=t[e];n.cfg.hasChanged=!1,n.isGroup()&&!n.destroyed&&Fg(n.cfg.children)}}function bg(t,e){for(var n=0;n<t.length;n++){var A=t[n];A.cfg.visible&&(A.cfg.refresh=!0,A.isGroup()&&bg(A.get("children")))}}function Qg(t,e){var n=t.cfg.cacheCanvasBBox;return t.cfg.isInView&&n&&Zd(n,e)}function Ug(t,e,n,A){var r=n.path,i=n.startArrow,o=n.endArrow;if(r){var a=[0,0],s=[0,0],l={dx:0,dy:0};e.beginPath();for(var u=0;u<r.length;u++){var c=r[u],h=c[0];if(0===u&&i&&i.d)l=gg((p=t.getStartTangent())[0][0],p[0][1],p[1][0],p[1][1],i.d);else if(u===r.length-2&&"Z"===r[u+1][0]&&o&&o.d){if("Z"===r[u+1][0])l=gg((p=t.getEndTangent())[0][0],p[0][1],p[1][0],p[1][1],o.d)}else if(u===r.length-1&&o&&o.d){var p;if("Z"!==r[0])l=gg((p=t.getEndTangent())[0][0],p[0][1],p[1][0],p[1][1],o.d)}var f=l.dx,d=l.dy;switch(h){case"M":e.moveTo(c[1]-f,c[2]-d),s=[c[1],c[2]];break;case"L":e.lineTo(c[1]-f,c[2]-d);break;case"Q":e.quadraticCurveTo(c[1],c[2],c[3]-f,c[4]-d);break;case"C":e.bezierCurveTo(c[1],c[2],c[3],c[4],c[5]-f,c[6]-d);break;case"A":var g=void 0;A?(g=A[u])||(g=lg(a,c),A[u]=g):g=lg(a,c);var y=g.cx,v=g.cy,m=g.rx,B=g.ry,x=g.startAngle,w=g.endAngle,C=g.xRotation,F=g.sweepFlag;if(e.ellipse)e.ellipse(y,v,m,B,C,x,w,1-F);else{var b=m>B?m:B,Q=m>B?1:m/B,U=m>B?B/m:1;e.translate(y,v),e.rotate(C),e.scale(Q,U),e.arc(0,0,b,x,w,1-F),e.scale(1/Q,1/U),e.rotate(-C),e.translate(-y,-v)}break;case"Z":e.closePath()}if("Z"===h)a=s;else{var E=c.length;a=[c[E-2],c[E-1]]}}}}function Eg(t,e){var n=t.get("canvas");n&&("remove"===e&&(t._cacheCanvasBBox=t.get("cacheCanvasBBox")),t.get("hasChanged")||(t.set("hasChanged",!0),t.cfg.parent&&t.cfg.parent.get("hasChanged")||(n.refreshElement(t,e,n),n.get("autoDraw")&&n.draw())))}function Mg(t){var e,n,A;if(t.destroyed)e=t._cacheCanvasBBox;else{var r=t.get("cacheCanvasBBox"),i=r&&!(!r.width||!r.height),o=t.getCanvasBBox(),a=o&&!(!o.width||!o.height);i&&a?(A=o,e=(n=r)&&A?{minX:Math.min(n.minX,A.minX),minY:Math.min(n.minY,A.minY),maxX:Math.max(n.maxX,A.maxX),maxY:Math.max(n.maxY,A.maxY)}:n||A):i?e=r:a&&(e=o)}return e}var Sg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.onCanvasChange=function(t){Eg(this,t)},e.prototype.getShapeBase=function(){return yt},e.prototype.getGroupBase=function(){return e},e.prototype._applyClip=function(t,e){e&&(t.save(),Bg(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},e.prototype.cacheCanvasBBox=function(){var t=this.cfg.children,e=[],n=[];$t(t,(function(t){var A=t.cfg.cacheCanvasBBox;A&&t.cfg.isInView&&(e.push(A.minX,A.maxX),n.push(A.minY,A.maxY))}));var A=null;if(e.length){var r=se(e),i=ae(e),o=se(n),a=ae(n);A={minX:r,minY:o,x:r,y:o,maxX:i,maxY:a,width:i-r,height:a-o};var s=this.cfg.canvas;if(s){var l=s.getViewRange();this.set("isInView",Zd(A,l))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",A)},e.prototype.draw=function(t,e){var n=this.cfg.children,A=!e||this.cfg.refresh;n.length&&A&&(t.save(),Bg(t,this),this._applyClip(t,this.getClip()),xg(t,n,e),t.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},e}(Do),Ig=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Dt(Dt({},e),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.getShapeBase=function(){return yt},e.prototype.getGroupBase=function(){return Sg},e.prototype.onCanvasChange=function(t){Eg(this,t)},e.prototype.calculateBBox=function(){var t=this.get("type"),e=this.getHitLineWidth(),n=Ko(t)(this),A=e/2,r=n.x-A,i=n.y-A,o=n.x+n.width+A,a=n.y+n.height+A;return{x:r,minX:r,y:i,minY:i,width:n.width+e,height:n.height+e,maxX:o,maxY:a}},e.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},e.prototype.isStroke=function(){return!!this.attrs.stroke},e.prototype._applyClip=function(t,e){e&&(t.save(),Bg(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},e.prototype.draw=function(t,e){var n=this.cfg.clipShape;if(e){if(!1===this.cfg.refresh)return void this.set("hasChanged",!1);if(!Zd(e,this.getCanvasBBox()))return this.set("hasChanged",!1),void(this.cfg.isInView&&this._afterDraw())}t.save(),Bg(t,this),this._applyClip(t,n),this.drawPath(t),t.restore(),this._afterDraw()},e.prototype.getCanvasViewBox=function(){var t=this.cfg.canvas;return t?t.getViewRange():null},e.prototype.cacheCanvasBBox=function(){var t=this.getCanvasViewBox();if(t){var e=this.getCanvasBBox(),n=Zd(e,t);this.set("isInView",n),n?this.set("cacheCanvasBBox",e):this.set("cacheCanvasBBox",null)}},e.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},e.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},e.prototype.fill=function(t){t.fill()},e.prototype.stroke=function(t){t.stroke()},e.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,A=e.opacity,r=e.strokeOpacity,i=e.fillOpacity;this.isFill()&&(Jt(i)||1===i?this.fill(t):(t.globalAlpha=i,this.fill(t),t.globalAlpha=A)),this.isStroke()&&n>0&&(Jt(r)||1===r||(t.globalAlpha=r),this.stroke(t)),this.afterDrawPath(t)},e.prototype.createPath=function(t){},e.prototype.afterDrawPath=function(t){},e.prototype.isInShape=function(t,e){var n=this.isStroke(),A=this.isFill(),r=this.getHitLineWidth();return this.isInStrokeOrPath(t,e,n,A,r)},e.prototype.isInStrokeOrPath=function(t,e,n,A,r){return!1},e.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},e}(Po),kg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Dt(Dt({},e),{x:0,y:0,r:0})},e.prototype.isInStrokeOrPath=function(t,e,n,A,r){var i=this.attr(),o=i.x,a=i.y,s=i.r,l=r/2,u=Jd(o,a,t,e);return A&&n?u<=s+l:A?u<=s:!!n&&(u>=s-l&&u<=s+l)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,A=e.y,r=e.r;t.beginPath(),t.arc(n,A,r,0,2*Math.PI,!1),t.closePath()},e}(Ig);function Lg(t,e,n,A){return t/(n*n)+e/(A*A)}var Hg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Dt(Dt({},e),{x:0,y:0,rx:0,ry:0})},e.prototype.isInStrokeOrPath=function(t,e,n,A,r){var i=this.attr(),o=r/2,a=i.x,s=i.y,l=i.rx,u=i.ry,c=(t-a)*(t-a),h=(e-s)*(e-s);return A&&n?Lg(c,h,l+o,u+o)<=1:A?Lg(c,h,l,u)<=1:!!n&&(Lg(c,h,l-o,u-o)>=1&&Lg(c,h,l+o,u+o)<=1)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,A=e.y,r=e.rx,i=e.ry;if(t.beginPath(),t.ellipse)t.ellipse(n,A,r,i,0,0,2*Math.PI,!1);else{var o=r>i?r:i,a=r>i?1:r/i,s=r>i?i/r:1;t.save(),t.translate(n,A),t.scale(a,s),t.arc(0,0,o,0,2*Math.PI),t.restore(),t.closePath()}},e}(Ig);function Tg(t){return t instanceof HTMLElement&&pe(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase()}var Dg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Dt(Dt({},e),{x:0,y:0,width:0,height:0})},e.prototype.initAttrs=function(t){this._setImage(t.img)},e.prototype.isStroke=function(){return!1},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._afterLoading=function(){if(!0===this.get("toDraw")){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},e.prototype._setImage=function(t){var e=this,n=this.attrs;if(pe(t)){var A=new Image;A.onload=function(){if(e.destroyed)return!1;e.attr("img",A),e.set("loading",!1),e._afterLoading();var t=e.get("callback");t&&t.call(e)},A.crossOrigin="Anonymous",A.src=t,this.set("loading",!0)}else t instanceof Image?(n.width||(n.width=t.width),n.height||(n.height=t.height)):Tg(t)&&(n.width||(n.width=Number(t.getAttribute("width"))),n.height||(n.height,Number(t.getAttribute("height"))))},e.prototype.onAttrChange=function(e,n,A){t.prototype.onAttrChange.call(this,e,n,A),"img"===e&&this._setImage(n)},e.prototype.createPath=function(t){if(this.get("loading"))return this.set("toDraw",!0),void this.set("context",t);var e=this.attr(),n=e.x,A=e.y,r=e.width,i=e.height,o=e.sx,a=e.sy,s=e.swidth,l=e.sheight,u=e.img;(u instanceof Image||Tg(u))&&(Jt(o)||Jt(a)||Jt(s)||Jt(l)?t.drawImage(u,n,A,r,i):t.drawImage(u,o,a,s,l,n,A,r,i))},e}(Ig);function Pg(t,e,n,A,r,i,o){var a=Math.min(t,n),s=Math.max(t,n),l=Math.min(e,A),u=Math.max(e,A),c=r/2;return i>=a-c&&i<=s+c&&o>=l-c&&o<=u+c&&zo.pointToLine(t,e,n,A,i,o)<=r/2}var Og=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Dt(Dt({},e),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(e,n,A){t.prototype.onAttrChange.call(this,e,n,A),this.setArrow()},e.prototype.setArrow=function(){var t=this.attr(),e=t.x1,n=t.y1,A=t.x2,r=t.y2,i=t.startArrow,o=t.endArrow;i&&yg(this,t,A,r,e,n),o&&vg(this,t,e,n,A,r)},e.prototype.isInStrokeOrPath=function(t,e,n,A,r){if(!n||!r)return!1;var i=this.attr();return Pg(i.x1,i.y1,i.x2,i.y2,r,t,e)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x1,A=e.y1,r=e.x2,i=e.y2,o=e.startArrow,a=e.endArrow,s={dx:0,dy:0},l={dx:0,dy:0};o&&o.d&&(s=gg(n,A,r,i,e.startArrow.d)),a&&a.d&&(l=gg(n,A,r,i,e.endArrow.d)),t.beginPath(),t.moveTo(n+s.dx,A+s.dy),t.lineTo(r-l.dx,i-l.dy)},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,A=t.x2,r=t.y2;return zo.length(e,n,A,r)},e.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,A=e.y1,r=e.x2,i=e.y2;return zo.pointAt(n,A,r,i,t)},e}(Ig),Rg={circle:function(t,e,n){return[["M",t-n,e],["A",n,n,0,1,0,t+n,e],["A",n,n,0,1,0,t-n,e]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},diamond:function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},triangle:function(t,e,n){var A=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+A],["L",t,e-A],["L",t+n,e+A],["Z"]]},"triangle-down":function(t,e,n){var A=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-A],["L",t+n,e-A],["L",t,e+A],["Z"]]}},Kg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.initAttrs=function(t){this._resetParamsCache()},e.prototype._resetParamsCache=function(){this.set("paramsCache",{})},e.prototype.onAttrChange=function(e,n,A){t.prototype.onAttrChange.call(this,e,n,A),-1!==["symbol","x","y","r","radius"].indexOf(e)&&this._resetParamsCache()},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._getR=function(t){return Jt(t.r)?t.radius:t.r},e.prototype._getPath=function(){var t,n,A=this.attr(),r=A.x,i=A.y,o=A.symbol||"circle",a=this._getR(A);if(jt(o))n=Sa(n=(t=o)(r,i,a));else{if(!(t=e.Symbols[o]))return console.warn(o+" marker is not supported."),null;n=t(r,i,a)}return n},e.prototype.createPath=function(t){Ug(this,t,{path:this._getPath()},this.get("paramsCache"))},e.Symbols=Rg,e}(Ig);function Vg(t,e,n){var A=va();return t.createPath(A),A.isPointInPath(e,n)}var Gg=1e-6;function Ng(t){return Math.abs(t)<Gg?0:t<0?-1:1}function _g(t,e,n){return(n[0]-t[0])*(e[1]-t[1])==(e[0]-t[0])*(n[1]-t[1])&&Math.min(t[0],e[0])<=n[0]&&n[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=n[1]&&n[1]<=Math.max(t[1],e[1])}function Xg(t,e,n){var A=!1,r=t.length;if(r<=2)return!1;for(var i=0;i<r;i++){var o=t[i],a=t[(i+1)%r];if(_g(o,a,[e,n]))return!0;Ng(o[1]-n)>0!=Ng(a[1]-n)>0&&Ng(e-(n-o[1])*(o[0]-a[0])/(o[1]-a[1])-o[0])<0&&(A=!A)}return A}function Yg(t,e,n,A,r,i,o,a){var s=(Math.atan2(a-e,o-t)+2*Math.PI)%(2*Math.PI);if(s<A||s>r)return!1;var l={x:t+n*Math.cos(s),y:e+n*Math.sin(s)};return Jd(l.x,l.y,o,a)<=i/2}var zg=gr;const Wg=Dt({hasArc:function(t){for(var e=!1,n=t.length,A=0;A<n;A++){var r=t[A][0];if("C"===r||"A"===r||"Q"===r){e=!0;break}}return e},extractPolygons:function(t){for(var e=t.length,n=[],A=[],r=[],i=0;i<e;i++){var o=t[i],a=o[0];"M"===a?(r.length&&(A.push(r),r=[]),r.push([o[1],o[2]])):"Z"===a?r.length&&(n.push(r),r=[]):r.push([o[1],o[2]])}return r.length>0&&A.push(r),{polygons:n,polylines:A}},isPointInStroke:function(t,e,n,A,r){for(var i=!1,o=e/2,a=0;a<t.length;a++){var s=t[a],l=s.currentPoint,u=s.params,c=s.prePoint,h=s.box;if(!h||qd(h.x-o,h.y-o,h.width+e,h.height+e,n,A)){switch(s.command){case"L":case"Z":i=Pg(c[0],c[1],l[0],l[1],e,n,A);break;case"Q":i=ta.pointDistance(c[0],c[1],u[1],u[2],u[3],u[4],n,A)<=e/2;break;case"C":i=oa.pointDistance(c[0],c[1],u[1],u[2],u[3],u[4],u[5],u[6],n,A,r)<=e/2;break;case"A":var p=s.arcParams,f=p.cx,d=p.cy,g=p.rx,y=p.ry,v=p.startAngle,m=p.endAngle,B=p.xRotation,x=[n,A,1],w=g>y?g:y;er(x,x,zg(null,[["t",-f,-d],["r",-B],["s",1/(g>y?1:g/y),1/(g>y?y/g:1)]])),i=Yg(0,0,w,v,m,e,x[0],x[1])}if(i)break}}return i}},LA);function jg(t,e,n){for(var A=!1,r=0;r<t.length;r++){if(A=Xg(t[r],e,n))break}return A}var Jg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Dt(Dt({},e),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},e.prototype.onAttrChange=function(e,n,A){t.prototype.onAttrChange.call(this,e,n,A),"path"===e&&this._setPathArr(n),this.setArrow()},e.prototype._setPathArr=function(t){this.attrs.path=Sa(t);var e=Wg.hasArc(t);this.set("hasArc",e),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},e.prototype.getSegments=function(){var t=this.get("segements");return t||(t=Pa(this.attr("path")),this.set("segments",t)),t},e.prototype.setArrow=function(){var t,e=this.attr(),n=e.startArrow,A=e.endArrow;n&&yg(this,e,(t=this.getStartTangent())[0][0],t[0][1],t[1][0],t[1][1]);A&&vg(this,e,(t=this.getEndTangent())[0][0],t[0][1],t[1][0],t[1][1])},e.prototype.isInStrokeOrPath=function(t,e,n,A,r){var i=this.getSegments(),o=this.get("hasArc"),a=!1;if(n){var s=this.getTotalLength();a=Wg.isPointInStroke(i,r,t,e,s)}if(!a&&A)if(o)a=Vg(this,t,e);else{var l=this.attr("path"),u=Wg.extractPolygons(l);a=jg(u.polygons,t,e)||jg(u.polylines,t,e)}return a},e.prototype.createPath=function(t){Ug(this,t,this.attr(),this.get("paramsCache"))},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.get("totalLength");return Jt(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},e.prototype.getPoint=function(t){var e,n,A=this.get("tCache");A||(this._calculateCurve(),this._setTcache(),A=this.get("tCache"));var r=this.get("curve");if(!A||0===A.length)return r?{x:r[0][1],y:r[0][2]}:null;$t(A,(function(A,r){t>=A[0]&&t<=A[1]&&(e=(t-A[0])/(A[1]-A[0]),n=r)}));var i=r[n];if(Jt(i)||Jt(n))return null;var o=i.length,a=r[n+1];return oa.pointAt(i[o-2],i[o-1],a[1],a[2],a[3],a[4],a[5],a[6],e)},e.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",Wg.pathToCurve(t))},e.prototype._setTcache=function(){var t,e,n,A,r=0,i=0,o=[],a=this.get("curve");a&&($t(a,(function(t,e){n=a[e+1],A=t.length,n&&(r+=oa.length(t[A-2],t[A-1],n[1],n[2],n[3],n[4],n[5],n[6])||0)})),this.set("totalLength",r),0!==r?($t(a,(function(s,l){n=a[l+1],A=s.length,n&&((t=[])[0]=i/r,e=oa.length(s[A-2],s[A-1],n[1],n[2],n[3],n[4],n[5],n[6]),i+=e||0,t[1]=i/r,o.push(t))})),this.set("tCache",o)):this.set("tCache",[]))},e.prototype.getStartTangent=function(){var t,e=this.getSegments();if(e.length>1){var n=e[0].currentPoint,A=e[1].currentPoint,r=e[1].startTangent;t=[],r?(t.push([n[0]-r[0],n[1]-r[1]]),t.push([n[0],n[1]])):(t.push([A[0],A[1]]),t.push([n[0],n[1]]))}return t},e.prototype.getEndTangent=function(){var t,e=this.getSegments(),n=e.length;if(n>1){var A=e[n-2].currentPoint,r=e[n-1].currentPoint,i=e[n-1].endTangent;t=[],i?(t.push([r[0]-i[0],r[1]-i[1]]),t.push([r[0],r[1]])):(t.push([A[0],A[1]]),t.push([r[0],r[1]]))}return t},e}(Ig);function qg(t,e,n,A,r){var i=t.length;if(i<2)return!1;for(var o=0;o<i-1;o++){if(Pg(t[o][0],t[o][1],t[o+1][0],t[o+1][1],e,n,A))return!0}if(r){var a=t[0],s=t[i-1];if(Pg(a[0],a[1],s[0],s[1],e,n,A))return!0}return!1}var Zg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.isInStrokeOrPath=function(t,e,n,A,r){var i=this.attr().points,o=!1;return n&&(o=qg(i,r,t,e,!0)),!o&&A&&(o=Xg(i,t,e)),o},e.prototype.createPath=function(t){var e=this.attr().points;if(!(e.length<2)){t.beginPath();for(var n=0;n<e.length;n++){var A=e[n];0===n?t.moveTo(A[0],A[1]):t.lineTo(A[0],A[1])}t.closePath()}},e}(Ig),$g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Dt(Dt({},e),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(e,n,A){t.prototype.onAttrChange.call(this,e,n,A),this.setArrow(),-1!==["points"].indexOf(e)&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.setArrow=function(){var t=this.attr(),e=this.attrs,n=e.points,A=e.startArrow,r=e.endArrow,i=n.length,o=n[0][0],a=n[0][1],s=n[i-1][0],l=n[i-1][1];A&&yg(this,t,n[1][0],n[1][1],o,a),r&&vg(this,t,n[i-2][0],n[i-2][1],s,l)},e.prototype.isFill=function(){return!1},e.prototype.isInStrokeOrPath=function(t,e,n,A,r){return!(!n||!r)&&qg(this.attr().points,r,t,e,!1)},e.prototype.isStroke=function(){return!0},e.prototype.createPath=function(t){var e=this.attr(),n=e.points,A=e.startArrow,r=e.endArrow,i=n.length;if(!(n.length<2)){var o,a=n[0][0],s=n[0][1],l=n[i-1][0],u=n[i-1][1];if(A&&A.d)a+=(o=gg(a,s,n[1][0],n[1][1],A.d)).dx,s+=o.dy;if(r&&r.d)l-=(o=gg(n[i-2][0],n[i-2][1],l,u,r.d)).dx,u-=o.dy;t.beginPath(),t.moveTo(a,s);for(var c=0;c<i-1;c++){var h=n[c];t.lineTo(h[0],h[1])}t.lineTo(l,u)}},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return Jt(e)?(this.set("totalLength",fa(t)),this.get("totalLength")):e},e.prototype.getPoint=function(t){var e,n,A=this.attr().points,r=this.get("tCache");return r||(this._setTcache(),r=this.get("tCache")),$t(r,(function(A,r){t>=A[0]&&t<=A[1]&&(e=(t-A[0])/(A[1]-A[0]),n=r)})),zo.pointAt(A[n][0],A[n][1],A[n+1][0],A[n+1][1],e)},e.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var e=this.getTotalLength();if(!(e<=0)){var n,A,r=0,i=[];$t(t,(function(o,a){t[a+1]&&((n=[])[0]=r/e,A=zo.length(o[0],o[1],t[a+1][0],t[a+1][1]),r+=A,n[1]=r/e,i.push(n))})),this.set("tCache",i)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},e.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},e}(Ig);var ty=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Dt(Dt({},e),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.isInStrokeOrPath=function(t,e,n,A,r){var i=this.attr(),o=i.x,a=i.y,s=i.width,l=i.height,u=i.radius;if(u){var c=!1;return n&&(c=function(t,e,n,A,r,i,o,a){return Pg(t+r,e,t+n-r,e,i,o,a)||Pg(t+n,e+r,t+n,e+A-r,i,o,a)||Pg(t+n-r,e+A,t+r,e+A,i,o,a)||Pg(t,e+A-r,t,e+r,i,o,a)||Yg(t+n-r,e+r,r,1.5*Math.PI,2*Math.PI,i,o,a)||Yg(t+n-r,e+A-r,r,0,.5*Math.PI,i,o,a)||Yg(t+r,e+A-r,r,.5*Math.PI,Math.PI,i,o,a)||Yg(t+r,e+r,r,Math.PI,1.5*Math.PI,i,o,a)}(o,a,s,l,u,r,t,e)),!c&&A&&(c=Vg(this,t,e)),c}var h=r/2;return A&&n?qd(o-h,a-h,s+h,l+h,t,e):A?qd(o,a,s,l,t,e):n?function(t,e,n,A,r,i,o){var a=r/2;return qd(t-a,e-a,n,r,i,o)||qd(t+n-a,e-a,r,A,i,o)||qd(t+a,e+A-a,n,r,i,o)||qd(t-a,e+a,r,A,i,o)}(o,a,s,l,r,t,e):void 0},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,A=e.y,r=e.width,i=e.height,o=e.radius;if(t.beginPath(),0===o)t.rect(n,A,r,i);else{var a=function(t){var e=0,n=0,A=0,r=0;return qt(t)?1===t.length?e=n=A=r=t[0]:2===t.length?(e=A=t[0],n=r=t[1]):3===t.length?(e=t[0],n=r=t[1],A=t[2]):(e=t[0],n=t[1],A=t[2],r=t[3]):e=n=A=r=t,[e,n,A,r]}(o),s=a[0],l=a[1],u=a[2],c=a[3];t.moveTo(n+s,A),t.lineTo(n+r-l,A),0!==l&&t.arc(n+r-l,A+l,l,-Math.PI/2,0),t.lineTo(n+r,A+i-u),0!==u&&t.arc(n+r-u,A+i-u,u,0,Math.PI/2),t.lineTo(n+c,A+i),0!==c&&t.arc(n+c,A+i-c,c,Math.PI/2,Math.PI),t.lineTo(n,A+s),0!==s&&t.arc(n+s,A+s,s,Math.PI,1.5*Math.PI),t.closePath()}},e}(Ig),ey=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Dt(Dt({},e),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.isOnlyHitBox=function(){return!0},e.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},e.prototype._assembleFont=function(){var t=this.attrs;t.font=Ba(t)},e.prototype._setText=function(t){var e=null;pe(t)&&-1!==t.indexOf("\n")&&(e=t.split("\n")),this.set("textArr",e)},e.prototype.onAttrChange=function(e,n,A){t.prototype.onAttrChange.call(this,e,n,A),e.startsWith("font")&&this._assembleFont(),"text"===e&&this._setText(n)},e.prototype._getSpaceingY=function(){var t=this.attrs,e=t.lineHeight,n=1*t.fontSize;return e?e-n:.14*n},e.prototype._drawTextArr=function(t,e,n){var A,r=this.attrs,i=r.textBaseline,o=r.x,a=r.y,s=1*r.fontSize,l=this._getSpaceingY(),u=ma(r.text,r.fontSize,r.lineHeight);$t(e,(function(e,r){A=a+r*(l+s)-u+s,"middle"===i&&(A+=u-s-(u-s)/2),"top"===i&&(A+=u-s),Jt(e)||(n?t.fillText(e,o,A):t.strokeText(e,o,A))}))},e.prototype._drawText=function(t,e){var n=this.attr(),A=n.x,r=n.y,i=this.get("textArr");if(i)this._drawTextArr(t,i,e);else{var o=n.text;Jt(o)||(e?t.fillText(o,A,r):t.strokeText(o,A,r))}},e.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,A=e.opacity,r=e.strokeOpacity,i=e.fillOpacity;this.isStroke()&&n>0&&(Jt(r)||1===r||(t.globalAlpha=A),this.stroke(t)),this.isFill()&&(Jt(i)||1===i?this.fill(t):(t.globalAlpha=i,this.fill(t),t.globalAlpha=A)),this.afterDrawPath(t)},e.prototype.fill=function(t){this._drawText(t,!0)},e.prototype.stroke=function(t){this._drawText(t,!1)},e}(Ig);function ny(t,e,n){var A,r,i=t.getTotalMatrix();if(i){var o=(A=[e,n,1],(r=i)?mr(Br(r),A):A);return[o[0],o[1]]}return[e,n]}function Ay(t,e,n){if(t.isCanvas&&t.isCanvas())return!0;if(!OA(t)||!1===t.cfg.isInView)return!1;if(t.cfg.clipShape){var A=ny(t,e,n),r=A[0],i=A[1];if(t.isClipped(r,i))return!1}var o=t.cfg.cacheCanvasBBox||t.getCanvasBBox();return e>=o.minX&&e<=o.maxX&&n>=o.minY&&n<=o.maxY}function ry(t,e,n){if(!Ay(t,e,n))return null;for(var A=null,r=t.getChildren(),i=r.length-1;i>=0;i--){var o=r[i];if(o.isGroup())A=ry(o,e,n);else if(Ay(o,e,n)){var a=o,s=ny(o,e,n),l=s[0],u=s[1];a.isInShape(l,u)&&(A=o)}if(A)break}return A}var iy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.renderer="canvas",e.autoDraw=!0,e.localRefresh=!0,e.refreshElements=[],e.clipView=!0,e.quickHit=!1,e},e.prototype.onCanvasChange=function(t){"attr"!==t&&"sort"!==t&&"changeSize"!==t||(this.set("refreshElements",[this]),this.draw())},e.prototype.getShapeBase=function(){return yt},e.prototype.getGroupBase=function(){return Sg},e.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||(window?window.devicePixelRatio:1);return t>=1?Math.ceil(t):1},e.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},e.prototype.createDom=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return this.set("context",e),t},e.prototype.setDOMSize=function(e,n){t.prototype.setDOMSize.call(this,e,n);var A=this.get("context"),r=this.get("el"),i=this.getPixelRatio();r.width=i*e,r.height=i*n,i>1&&A.scale(i,i)},e.prototype.clear=function(){t.prototype.clear.call(this),this._clearFrame();var e=this.get("context"),n=this.get("el");e.clearRect(0,0,n.width,n.height)},e.prototype.getShape=function(e,n){return this.get("quickHit")?ry(this,e,n):t.prototype.getShape.call(this,e,n,null)},e.prototype._getRefreshRegion=function(){var t,e=this.get("refreshElements"),n=this.getViewRange();e.length&&e[0]===this?t=n:(t=function(t){if(!t.length)return null;var e=[],n=[],A=[],r=[];return $t(t,(function(t){var i=Mg(t);i&&(e.push(i.minX),n.push(i.minY),A.push(i.maxX),r.push(i.maxY))})),{minX:se(e),minY:se(n),maxX:ae(A),maxY:ae(r)}}(e),t&&(t.minX=Math.floor(t.minX),t.minY=Math.floor(t.minY),t.maxX=Math.ceil(t.maxX),t.maxY=Math.ceil(t.maxY),t.maxY+=1,this.get("clipView")&&(t=function(t,e){return t&&e&&Zd(t,e)?{minX:Math.max(t.minX,e.minX),minY:Math.max(t.minY,e.minY),maxX:Math.min(t.maxX,e.maxX),maxY:Math.min(t.maxY,e.maxY)}:null}(t,n))));return t},e.prototype.refreshElement=function(t){this.get("refreshElements").push(t)},e.prototype._clearFrame=function(){var t,e=this.get("drawFrame");e&&(t=e,(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(t),this.set("drawFrame",null),this.set("refreshElements",[]))},e.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},e.prototype._drawAll=function(){var t=this.get("context"),e=this.get("el"),n=this.getChildren();t.clearRect(0,0,e.width,e.height),Bg(t,this),xg(t,n),this.set("refreshElements",[])},e.prototype._drawRegion=function(){var t=this.get("context"),e=this.get("refreshElements"),n=this.getChildren(),A=this._getRefreshRegion();A?(t.clearRect(A.minX,A.minY,A.maxX-A.minX,A.maxY-A.minY),t.save(),t.beginPath(),t.rect(A.minX,A.minY,A.maxX-A.minX,A.maxY-A.minY),t.clip(),Bg(t,this),wg(this,n,A),xg(t,n,A),t.restore()):e.length&&Fg(e),$t(e,(function(t){t.get("hasChanged")&&t.set("hasChanged",!1)})),this.set("refreshElements",[])},e.prototype._startDraw=function(){var t,e=this,n=this.get("drawFrame");n||(t=function(){e.get("localRefresh")?e._drawRegion():e._drawAll(),e.set("drawFrame",null)},n=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)})(t),this.set("drawFrame",n))},e.prototype.skipDraw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.width=0,t.height=0,t.parentNode.removeChild(t)},e}(To);const oy=Object.freeze(Object.defineProperty({__proto__:null,AbstractCanvas:To,AbstractGroup:Do,AbstractShape:Po,Base:RA,Canvas:iy,Event:HA,Group:Sg,PathUtil:LA,Shape:yt,assembleFont:Ba,getArcParams:lg,getBBoxMethod:Ko,getOffScreenContext:va,getTextHeight:ma,invert:Br,isAllowCapture:OA,multiplyVec2:mr,registerBBox:Ro,registerEasing:Co,version:"0.5.12"},Symbol.toStringTag,{value:"Module"}));var ay={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},sy={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"};function ly(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function uy(t){var e=ay[t.type],n=t.getParent();if(!e)throw new Error("the type "+t.type+" is not supported by svg");var A=ly(e);if(t.get("id")&&(A.id=t.get("id")),t.set("el",A),t.set("attrs",{}),n){var r=n.get("el");r||(r=n.createDom(),n.set("el",r)),r.appendChild(A)}return A}function cy(t,e){var n=t.get("el"),A=hn(n.children).sort(e),r=document.createDocumentFragment();A.forEach((function(t){r.appendChild(t)})),n.appendChild(r)}function hy(t){var e=t.attr().matrix;if(e){for(var n=t.cfg.el,A=[],r=0;r<9;r+=3)A.push(e[r]+","+e[r+1]);-1===(A=A.join(",")).indexOf("NaN")?n.setAttribute("transform","matrix("+A+")"):console.warn("invalid matrix:",e)}}function py(t,e){var n=t.getClip(),A=t.get("el");if(n){if(n&&!A.hasAttribute("clip-path")){uy(n),n.createPath(e);var r=e.addClip(n);A.setAttribute("clip-path","url(#"+r+")")}}else A.removeAttribute("clip-path")}function fy(t,e){e.forEach((function(e){e.draw(t)}))}function dy(t,e){var n=t.get("canvas");if(n&&n.get("autoDraw")){var A=n.get("context"),r=t.getParent(),i=r?r.getChildren():[n],o=t.get("el");if("remove"===e)if(t.get("isClipShape")){var a=o&&o.parentNode,s=a&&a.parentNode;a&&s&&s.removeChild(a)}else o&&o.parentNode&&o.parentNode.removeChild(o);else if("show"===e)o.setAttribute("visibility","visible");else if("hide"===e)o.setAttribute("visibility","hidden");else if("zIndex"===e)!function(t,e){var n=t.parentNode,A=Array.from(n.childNodes).filter((function(t){return 1===t.nodeType&&"defs"!==t.nodeName.toLowerCase()})),r=A[e],i=A.indexOf(t);if(r){if(i>e)n.insertBefore(t,r);else if(i<e){var o=A[e+1];o?n.insertBefore(t,o):n.appendChild(t)}}else n.appendChild(t)}(o,i.indexOf(t));else if("sort"===e){var l=t.get("children");l&&l.length&&cy(t,(function(t,e){return l.indexOf(t)-l.indexOf(e)?1:0}))}else"clear"===e?o&&(o.innerHTML=""):"matrix"===e?hy(t):"clip"===e?py(t,A):"attr"===e||"add"===e&&t.draw(A)}}var gy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.isEntityGroup=function(){return!0},e.prototype.createDom=function(){var t=ly("g");this.set("el",t);var e=this.getParent();if(e){var n=e.get("el");n||(n=e.createDom(),e.set("el",n)),n.appendChild(t)}return t},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e);var n=this.get("canvas");if(n&&n.get("autoDraw")){var A=n.get("context");this.createPath(A,e)}},e.prototype.onCanvasChange=function(t){dy(this,t)},e.prototype.getShapeBase=function(){return vt},e.prototype.getGroupBase=function(){return e},e.prototype.draw=function(t){var e=this.getChildren(),n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||this.createDom(),py(this,t),this.createPath(t),e.length&&fy(t,e))},e.prototype.createPath=function(t,e){var n=this.attr(),A=this.get("el");$t(e||n,(function(t,e){sy[e]&&A.setAttribute(sy[e],t)})),hy(this)},e}(Do),yy=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="svg",e.canFill=!1,e.canStroke=!1,e}return Tt(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Dt(Dt({},e),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e);var n=this.get("canvas");if(n&&n.get("autoDraw")){var A=n.get("context");this.draw(A,e)}},e.prototype.getShapeBase=function(){return vt},e.prototype.getGroupBase=function(){return gy},e.prototype.onCanvasChange=function(t){dy(this,t)},e.prototype.calculateBBox=function(){var t=this.get("el"),e=null;if(t)e=t.getBBox();else{var n=Ko(this.get("type"));n&&(e=n(this))}if(e){var A=e.x,r=e.y,i=e.width,o=e.height,a=this.getHitLineWidth(),s=a/2,l=A-s,u=r-s;return{x:l,y:u,minX:l,minY:u,maxX:A+i+s,maxY:r+o+s,width:i+a,height:o+a}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},e.prototype.isFill=function(){var t=this.attr(),e=t.fill,n=t.fillStyle;return(e||n||this.isClipShape())&&this.canFill},e.prototype.isStroke=function(){var t=this.attr(),e=t.stroke,n=t.strokeStyle;return(e||n)&&this.canStroke},e.prototype.draw=function(t,e){var n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||uy(this),py(this,t),this.createPath(t,e),this.shadow(t,e),this.strokeAndFill(t,e),this.transform(e))},e.prototype.createPath=function(t,e){},e.prototype.strokeAndFill=function(t,e){var n=e||this.attr(),A=n.fill,r=n.fillStyle,i=n.stroke,o=n.strokeStyle,a=n.fillOpacity,s=n.strokeOpacity,l=n.lineWidth,u=this.get("el");this.canFill&&(e?"fill"in n?this._setColor(t,"fill",A):"fillStyle"in n&&this._setColor(t,"fill",r):this._setColor(t,"fill",A||r),a&&u.setAttribute(sy.fillOpacity,a)),this.canStroke&&l>0&&(e?"stroke"in n?this._setColor(t,"stroke",i):"strokeStyle"in n&&this._setColor(t,"stroke",o):this._setColor(t,"stroke",i||o),s&&u.setAttribute(sy.strokeOpacity,s),l&&u.setAttribute(sy.lineWidth,l))},e.prototype._setColor=function(t,e,n){var A=this.get("el");if(n)if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n))(r=t.find("gradient",n))||(r=t.addGradient(n)),A.setAttribute(sy[e],"url(#"+r+")");else if(/^[p,P]{1}[\s]*\(/.test(n)){var r;(r=t.find("pattern",n))||(r=t.addPattern(n)),A.setAttribute(sy[e],"url(#"+r+")")}else A.setAttribute(sy[e],n);else A.setAttribute(sy[e],"none")},e.prototype.shadow=function(t,e){var n=this.attr(),A=e||n,r=A.shadowOffsetX,i=A.shadowOffsetY,o=A.shadowBlur,a=A.shadowColor;(r||i||o||a)&&function(t,e){var n=t.cfg.el,A=t.attr(),r={dx:A.shadowOffsetX,dy:A.shadowOffsetY,blur:A.shadowBlur,color:A.shadowColor};if(r.dx||r.dy||r.blur||r.color){var i=e.find("filter",r);i||(i=e.addShadow(r)),n.setAttribute("filter","url(#"+i+")")}else n.removeAttribute("filter")}(this,t)},e.prototype.transform=function(t){var e=this.attr();(t||e).matrix&&hy(this)},e.prototype.isInShape=function(t,e){return this.isPointInPath(t,e)},e.prototype.isPointInPath=function(t,e){var n=this.get("el"),A=this.get("canvas").get("el").getBoundingClientRect(),r=t+A.left,i=e+A.top,o=document.elementFromPoint(r,i);return!(!o||!o.isEqualNode(n))},e.prototype.getHitLineWidth=function(){var t=this.attrs,e=t.lineWidth,n=t.lineAppendWidth;return this.isStroke()?e+n:0},e}(Po),vy=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="circle",e.canFill=!0,e.canStroke=!0,e}return Tt(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Dt(Dt({},e),{x:0,y:0,r:0})},e.prototype.createPath=function(t,e){var n=this.attr(),A=this.get("el");$t(e||n,(function(t,e){"x"===e||"y"===e?A.setAttribute("c"+e,t):sy[e]&&A.setAttribute(sy[e],t)}))},e}(yy),my=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dom",e.canFill=!1,e.canStroke=!1,e}return Tt(e,t),e.prototype.createPath=function(t,e){var n=this.attr(),A=this.get("el");if($t(e||n,(function(t,e){sy[e]&&A.setAttribute(sy[e],t)})),"function"==typeof n.html){var r=n.html.call(this,n);if(r instanceof Element||r instanceof HTMLDocument){for(var i=A.childNodes,o=i.length-1;o>=0;o--)A.removeChild(i[o]);A.appendChild(r)}else A.innerHTML=r}else A.innerHTML=n.html},e}(yy),By=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="ellipse",e.canFill=!0,e.canStroke=!0,e}return Tt(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Dt(Dt({},e),{x:0,y:0,rx:0,ry:0})},e.prototype.createPath=function(t,e){var n=this.attr(),A=this.get("el");$t(e||n,(function(t,e){"x"===e||"y"===e?A.setAttribute("c"+e,t):sy[e]&&A.setAttribute(sy[e],t)}))},e}(yy),xy=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="image",e.canFill=!1,e.canStroke=!1,e}return Tt(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Dt(Dt({},e),{x:0,y:0,width:0,height:0})},e.prototype.createPath=function(t,e){var n=this,A=this.attr(),r=this.get("el");$t(e||A,(function(t,e){"img"===e?n._setImage(A.img):sy[e]&&r.setAttribute(sy[e],t)}))},e.prototype.setAttr=function(t,e){this.attrs[t]=e,"img"===t&&this._setImage(e)},e.prototype._setImage=function(t){var e=this.attr(),n=this.get("el");if(pe(t))n.setAttribute("href",t);else if(t instanceof window.Image)e.width||(n.setAttribute("width",t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",t.height),this.attr("height",t.height)),n.setAttribute("href",t.src);else if(t instanceof HTMLElement&&pe(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase())n.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var A=document.createElement("canvas");A.setAttribute("width",""+t.width),A.setAttribute("height",""+t.height),A.getContext("2d").putImageData(t,0,0),e.width||(n.setAttribute("width",""+t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",""+t.height),this.attr("height",t.height)),n.setAttribute("href",A.toDataURL())}},e}(yy),wy=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="line",e.canFill=!1,e.canStroke=!0,e}return Tt(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Dt(Dt({},e),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,e){var n=this.attr(),A=this.get("el");$t(e||n,(function(e,r){if("startArrow"===r||"endArrow"===r)if(e){var i=Zt(e)?t.addArrow(n,sy[r]):t.getDefaultArrow(n,sy[r]);A.setAttribute(sy[r],"url(#"+i+")")}else A.removeAttribute(sy[r]);else sy[r]&&A.setAttribute(sy[r],e)}))},e.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,A=t.x2,r=t.y2;return zo.length(e,n,A,r)},e.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,A=e.y1,r=e.x2,i=e.y2;return zo.pointAt(n,A,r,i,t)},e}(yy),Cy={circle:function(t,e,n){return[["M",t,e],["m",-n,0],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},diamond:function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},triangle:function(t,e,n){var A=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+A],["L",t,e-A],["L",t+n,e+A],["z"]]},triangleDown:function(t,e,n){var A=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-A],["L",t+n,e-A],["L",t,e+A],["Z"]]}};const Fy={get:function(t){return Cy[t]},register:function(t,e){Cy[t]=e},remove:function(t){delete Cy[t]},getAll:function(){return Cy}};var by=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="marker",e.canFill=!0,e.canStroke=!0,e}return Tt(e,t),e.prototype.createPath=function(t){this.get("el").setAttribute("d",this._assembleMarker())},e.prototype._assembleMarker=function(){var t=this._getPath();return qt(t)?t.map((function(t){return t.join(" ")})).join(""):t},e.prototype._getPath=function(){var t,e=this.attr(),n=e.x,A=e.y,r=e.r||e.radius,i=e.symbol||"circle";return(t=jt(i)?i:Fy.get(i))?t(n,A,r):(console.warn(t+" symbol is not exist."),null)},e.symbolsFactory=Fy,e}(yy),Qy=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="path",e.canFill=!0,e.canStroke=!0,e}return Tt(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Dt(Dt({},e),{startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,e){var n=this,A=this.attr(),r=this.get("el");$t(e||A,(function(e,i){if("path"===i&&qt(e))r.setAttribute("d",n._formatPath(e));else if("startArrow"===i||"endArrow"===i)if(e){var o=Zt(e)?t.addArrow(A,sy[i]):t.getDefaultArrow(A,sy[i]);r.setAttribute(sy[i],"url(#"+o+")")}else r.removeAttribute(sy[i]);else sy[i]&&r.setAttribute(sy[i],e)}))},e.prototype._formatPath=function(t){var e=t.map((function(t){return t.join(" ")})).join("");return~e.indexOf("NaN")?"":e},e.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},e.prototype.getPoint=function(t){var e=this.get("el"),n=this.getTotalLength();if(0===n)return null;var A=e?e.getPointAtLength(t*n):null;return A?{x:A.x,y:A.y}:null},e}(yy),Uy=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="polygon",e.canFill=!0,e.canStroke=!0,e}return Tt(e,t),e.prototype.createPath=function(t,e){var n=this.attr(),A=this.get("el");$t(e||n,(function(t,e){"points"===e&&qt(t)&&t.length>=2?A.setAttribute("points",t.map((function(t){return t[0]+","+t[1]})).join(" ")):sy[e]&&A.setAttribute(sy[e],t)}))},e}(yy),Ey=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="polyline",e.canFill=!0,e.canStroke=!0,e}return Tt(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Dt(Dt({},e),{startArrow:!1,endArrow:!1})},e.prototype.onAttrChange=function(e,n,A){t.prototype.onAttrChange.call(this,e,n,A),-1!==["points"].indexOf(e)&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.createPath=function(t,e){var n=this.attr(),A=this.get("el");$t(e||n,(function(t,e){"points"===e&&qt(t)&&t.length>=2?A.setAttribute("points",t.map((function(t){return t[0]+","+t[1]})).join(" ")):sy[e]&&A.setAttribute(sy[e],t)}))},e.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return Jt(e)?(this.set("totalLength",fa(t)),this.get("totalLength")):e},e.prototype.getPoint=function(t){var e,n,A=this.attr().points,r=this.get("tCache");return r||(this._setTcache(),r=this.get("tCache")),$t(r,(function(A,r){t>=A[0]&&t<=A[1]&&(e=(t-A[0])/(A[1]-A[0]),n=r)})),zo.pointAt(A[n][0],A[n][1],A[n+1][0],A[n+1][1],e)},e.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var e=this.getTotalLength();if(!(e<=0)){var n,A,r=0,i=[];$t(t,(function(o,a){t[a+1]&&((n=[])[0]=r/e,A=zo.length(o[0],o[1],t[a+1][0],t[a+1][1]),r+=A,n[1]=r/e,i.push(n))})),this.set("tCache",i)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},e.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},e}(yy);var My=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="rect",e.canFill=!0,e.canStroke=!0,e}return Tt(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Dt(Dt({},e),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.createPath=function(t,e){var n=this,A=this.attr(),r=this.get("el"),i=!1,o=["x","y","width","height","radius"];$t(e||A,(function(t,e){-1===o.indexOf(e)||i?-1===o.indexOf(e)&&sy[e]&&r.setAttribute(sy[e],t):(r.setAttribute("d",n._assembleRect(A)),i=!0)}))},e.prototype._assembleRect=function(t){var e=t.x,n=t.y,A=t.width,r=t.height,i=t.radius;if(!i)return"M "+e+","+n+" l "+A+",0 l 0,"+r+" l"+-A+" 0 z";var o=function(t){var e=0,n=0,A=0,r=0;return qt(t)?1===t.length?e=n=A=r=t[0]:2===t.length?(e=A=t[0],n=r=t[1]):3===t.length?(e=t[0],n=r=t[1],A=t[2]):(e=t[0],n=t[1],A=t[2],r=t[3]):e=n=A=r=t,{r1:e,r2:n,r3:A,r4:r}}(i);return qt(i)?1===i.length?o.r1=o.r2=o.r3=o.r4=i[0]:2===i.length?(o.r1=o.r3=i[0],o.r2=o.r4=i[1]):3===i.length?(o.r1=i[0],o.r2=o.r4=i[1],o.r3=i[2]):(o.r1=i[0],o.r2=i[1],o.r3=i[2],o.r4=i[3]):o.r1=o.r2=o.r3=o.r4=i,[["M "+(e+o.r1)+","+n],["l "+(A-o.r1-o.r2)+",0"],["a "+o.r2+","+o.r2+",0,0,1,"+o.r2+","+o.r2],["l 0,"+(r-o.r2-o.r3)],["a "+o.r3+","+o.r3+",0,0,1,"+-o.r3+","+o.r3],["l "+(o.r3+o.r4-A)+",0"],["a "+o.r4+","+o.r4+",0,0,1,"+-o.r4+","+-o.r4],["l 0,"+(o.r4+o.r1-r)],["a "+o.r1+","+o.r1+",0,0,1,"+o.r1+","+-o.r1],["z"]].join(" ")},e}(yy),Sy={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},Iy={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},ky={left:"left",start:"left",center:"middle",right:"end",end:"end"},Ly=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="text",e.canFill=!0,e.canStroke=!0,e}return Tt(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Dt(Dt({},e),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.createPath=function(t,e){var n=this,A=this.attr(),r=this.get("el");this._setFont(),$t(e||A,(function(t,e){"text"===e?n._setText(""+t):"matrix"===e&&t?hy(n):sy[e]&&r.setAttribute(sy[e],t)})),r.setAttribute("paint-order","stroke"),r.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},e.prototype._setFont=function(){var t=this.get("el"),e=this.attr(),n=e.textBaseline,A=e.textAlign,r=JA();r&&"firefox"===r.name?t.setAttribute("dominant-baseline",Iy[n]||"alphabetic"):t.setAttribute("alignment-baseline",Sy[n]||"baseline"),t.setAttribute("text-anchor",ky[A]||"left")},e.prototype._setText=function(t){var e=this.get("el"),n=this.attr(),A=n.x,r=n.textBaseline,i=void 0===r?"bottom":r;if(t)if(~t.indexOf("\n")){var o=t.split("\n"),a=o.length-1,s="";$t(o,(function(t,e){0===e?"alphabetic"===i?s+='<tspan x="'+A+'" dy="'+-a+'em">'+t+"</tspan>":"top"===i?s+='<tspan x="'+A+'" dy="0.9em">'+t+"</tspan>":"middle"===i?s+='<tspan x="'+A+'" dy="'+-(a-1)/2+'em">'+t+"</tspan>":"bottom"===i?s+='<tspan x="'+A+'" dy="-'+(a+.3)+'em">'+t+"</tspan>":"hanging"===i&&(s+='<tspan x="'+A+'" dy="'+(-(a-1)-.3)+'em">'+t+"</tspan>"):s+='<tspan x="'+A+'" dy="1em">'+t+"</tspan>"})),e.innerHTML=s}else e.innerHTML=t;else e.innerHTML=""},e}(yy),Hy=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Ty=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Dy=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function Py(t){var e=t.match(Dy);if(!e)return"";var n="";return e.sort((function(t,e){return t=t.split(":"),e=e.split(":"),Number(t[0])-Number(e[0])})),$t(e,(function(t){t=t.split(":"),n+='<stop offset="'+t[0]+'" stop-color="'+t[1]+'"></stop>'})),n}var Oy=function(){function t(t){this.cfg={};var e,n,A,r,i,o,a,s=null,l=fn("gradient_");return"l"===t.toLowerCase()[0]?function(t,e){var n,A,r=Hy.exec(t),i=Me(Ie(parseFloat(r[1])),2*Math.PI),o=r[2];i>=0&&i<.5*Math.PI?(n={x:0,y:0},A={x:1,y:1}):.5*Math.PI<=i&&i<Math.PI?(n={x:1,y:0},A={x:0,y:1}):Math.PI<=i&&i<1.5*Math.PI?(n={x:1,y:1},A={x:0,y:0}):(n={x:0,y:1},A={x:1,y:0});var a=Math.tan(i),s=a*a,l=(A.x-n.x+a*(A.y-n.y))/(s+1)+n.x,u=a*(A.x-n.x+a*(A.y-n.y))/(s+1)+n.y;e.setAttribute("x1",n.x),e.setAttribute("y1",n.y),e.setAttribute("x2",l),e.setAttribute("y2",u),e.innerHTML=Py(o)}(t,s=ly("linearGradient")):(s=ly("radialGradient"),e=t,n=s,A=Ty.exec(e),r=parseFloat(A[1]),i=parseFloat(A[2]),o=parseFloat(A[3]),a=A[4],n.setAttribute("cx",r),n.setAttribute("cy",i),n.setAttribute("r",o),n.innerHTML=Py(a)),s.setAttribute("id",l),this.el=s,this.id=l,this.cfg=t,this}return t.prototype.match=function(t,e){return this.cfg===e},t}(),Ry={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},Ky={x:"-40%",y:"-40%",width:"200%",height:"200%"},Vy=function(){function t(t){this.type="filter",this.cfg={},this.type="filter";var e=ly("filter");return $t(Ky,(function(t,n){e.setAttribute(n,t)})),this.el=e,this.id=fn("filter_"),this.el.id=this.id,this.cfg=t,this._parseShadow(t,e),this}return t.prototype.match=function(t,e){if(this.type!==t)return!1;var n=!0,A=this.cfg;return $t(Object.keys(A),(function(t){if(A[t]!==e[t])return n=!1,!1})),n},t.prototype.update=function(t,e){var n=this.cfg;return n[Ry[t]]=e,this._parseShadow(n,this.el),this},t.prototype._parseShadow=function(t,e){var n='<feDropShadow\n      dx="'+(t.dx||0)+'"\n      dy="'+(t.dy||0)+'"\n      stdDeviation="'+(t.blur?t.blur/10:0)+'"\n      flood-color="'+(t.color?t.color:"#000")+'"\n      flood-opacity="'+(t.opacity?t.opacity:1)+'"\n      />';e.innerHTML=n},t}(),Gy=function(){function t(t,e){this.cfg={};var n=ly("marker"),A=fn("marker_");n.setAttribute("id",A);var r=ly("path");r.setAttribute("stroke",t.stroke||"none"),r.setAttribute("fill",t.fill||"none"),n.appendChild(r),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=r,this.id=A;var i=t["marker-start"===e?"startArrow":"endArrow"];return this.stroke=t.stroke||"#000",!0===i?this._setDefaultPath(e,r):(this.cfg=i,this._setMarker(t.lineWidth,r)),this}return t.prototype.match=function(){return!1},t.prototype._setDefaultPath=function(t,e){var n=this.el;e.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),n.setAttribute("refX",""+10*Math.cos(Math.PI/6)),n.setAttribute("refY","5")},t.prototype._setMarker=function(t,e){var n=this.el,A=this.cfg.path,r=this.cfg.d;qt(A)&&(A=A.map((function(t){return t.join(" ")})).join("")),e.setAttribute("d",A),n.appendChild(e),r&&n.setAttribute("refX",""+r/t)},t.prototype.update=function(t){var e=this.child;e.attr?e.attr("fill",t):e.setAttribute("fill",t)},t}(),Ny=function(){function t(t){this.type="clip",this.cfg={};var e=ly("clipPath");this.el=e,this.id=fn("clip_"),e.id=this.id;var n=t.cfg.el;return e.appendChild(n),this.cfg=t,this}return t.prototype.match=function(){return!1},t.prototype.remove=function(){var t=this.el;t.parentNode.removeChild(t)},t}(),_y=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Xy=function(){function t(t){this.cfg={};var e=ly("pattern");e.setAttribute("patternUnits","userSpaceOnUse");var n=ly("image");e.appendChild(n);var A=fn("pattern_");e.id=A,this.el=e,this.id=A,this.cfg=t;var r=_y.exec(t)[2];n.setAttribute("href",r);var i=new Image;function o(){e.setAttribute("width",""+i.width),e.setAttribute("height",""+i.height)}return r.match(/^data:/i)||(i.crossOrigin="Anonymous"),i.src=r,i.complete?o():(i.onload=o,i.src=i.src),this}return t.prototype.match=function(t,e){return this.cfg===e},t}(),Yy=function(){function t(t){var e=ly("defs"),n=fn("defs_");e.id=n,t.appendChild(e),this.children=[],this.defaultArrow={},this.el=e,this.canvas=t}return t.prototype.find=function(t,e){for(var n=this.children,A=null,r=0;r<n.length;r++)if(n[r].match(t,e)){A=n[r].id;break}return A},t.prototype.findById=function(t){for(var e=this.children,n=null,A=0;A<e.length;A++)if(e[A].id===t){n=e[A];break}return n},t.prototype.add=function(t){this.children.push(t),t.canvas=this.canvas,t.parent=this},t.prototype.getDefaultArrow=function(t,e){var n=t.stroke||t.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var A=new Gy(t,e);return this.defaultArrow[n]=A,this.el.appendChild(A.el),this.add(A),A.id},t.prototype.addGradient=function(t){var e=new Oy(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addArrow=function(t,e){var n=new Gy(t,e);return this.el.appendChild(n.el),this.add(n),n.id},t.prototype.addShadow=function(t){var e=new Vy(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addPattern=function(t){var e=new Xy(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addClip=function(t){var e=new Ny(t);return this.el.appendChild(e.el),this.add(e),e.id},t}(),zy=function(t){function e(e){return t.call(this,Dt(Dt({},e),{autoDraw:!0,renderer:"svg"}))||this}return Tt(e,t),e.prototype.getShapeBase=function(){return vt},e.prototype.getGroupBase=function(){return gy},e.prototype.getShape=function(t,e,n){var A=n.target||n.srcElement;if(!ay[A.tagName]){for(var r=A.parentNode;r&&!ay[r.tagName];)r=r.parentNode;A=r}return this.find((function(t){return t.get("el")===A}))},e.prototype.createDom=function(){var t=ly("svg"),e=new Yy(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",e),t},e.prototype.onCanvasChange=function(t){var e=this.get("context"),n=this.get("el");if("sort"===t){var A=this.get("children");A&&A.length&&cy(this,(function(t,e){return A.indexOf(t)-A.indexOf(e)?1:0}))}else if("clear"===t){if(n){n.innerHTML="";var r=e.el;r.innerHTML="",n.appendChild(r)}}else"matrix"===t?hy(this):"clip"===t?py(this,e):"changeSize"===t&&(n.setAttribute("width",""+this.get("width")),n.setAttribute("height",""+this.get("height")))},e.prototype.draw=function(){var t=this.get("context"),e=this.getChildren();py(this,t),e.length&&fy(t,e)},e}(To);const Wy=Object.freeze(Object.defineProperty({__proto__:null,AbstractCanvas:To,AbstractGroup:Do,AbstractShape:Po,Base:RA,Canvas:zy,Event:HA,Group:gy,PathUtil:LA,Shape:vt,assembleFont:Ba,getBBoxMethod:Ko,getOffScreenContext:va,getTextHeight:ma,invert:Br,isAllowCapture:OA,multiplyVec2:mr,registerBBox:Ro,registerEasing:Co,version:"0.5.6"},Symbol.toStringTag,{value:"Module"}));var jy=function(t){function e(e){var n=t.call(this,e)||this;n.type="path",n.shapeType="line";var A=e.connectNulls,r=void 0!==A&&A,i=e.showSinglePoint,o=void 0===i||i;return n.connectNulls=r,n.showSinglePoint=o,n}return Tt(e,t),e.prototype.updateElements=function(t,e){var n,A,r,i,o,a;void 0===e&&(e=!1);for(var s=new Map,l=new Map,u=[],c=0,h=0;h<t.length;h++){var p=t[h],f=this.getElementId(p);u.push(f),s.set(f,p),l.set(f,c),c++}this.elements=new Array(c);var d=id(this.lastElementsMap,u),g=d.added,y=d.updated,v=d.removed;try{for(var m=Kt(g),B=m.next();!B.done;B=m.next()){f=B.value,p=s.get(f);var x=this.getShapeFactory(),w=this.getShapeInfo(p);h=l.get(f);(b=new Yf({shapeFactory:x,container:this.container,offscreenGroup:this.getOffscreenGroup(),elementIndex:h})).geometry=this,b.animate=this.animateOption,b.draw(w,e),this.elementsMap[f]=b,this.elements[h]=b}}catch(M){n={error:M}}finally{try{B&&!B.done&&(A=m.return)&&A.call(m)}finally{if(n)throw n.error}}try{for(var C=Kt(y),F=C.next();!F.done;F=C.next()){f=F.value,p=s.get(f);var b=this.lastElementsMap[f],Q=(h=l.get(f),w=this.getShapeInfo(p),b.getModel());(this.isCoordinateChanged||Ad(Q,w))&&(b.animate=this.animateOption,b.update(w)),this.elementsMap[f]=b,this.elements[h]=b}}catch(S){r={error:S}}finally{try{F&&!F.done&&(i=C.return)&&i.call(C)}finally{if(r)throw r.error}}try{for(var U=Kt(v),E=U.next();!E.done;E=U.next()){f=E.value;(b=this.lastElementsMap[f]).animate=this.animateOption,b.destroy()}}catch(I){o={error:I}}finally{try{E&&!E.done&&(a=U.return)&&a.call(U)}finally{if(o)throw o.error}}},e.prototype.getPointsAndData=function(t){for(var e=[],n=[],A=0,r=t.length;A<r;A++){var i=t[A];e.push({x:i.x,y:i.y}),n.push(i[Nn])}return{points:e,data:n}},e.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]),n=this.getPointsAndData(t),A=n.points,r=n.data;return e.mappingData=t,e.data=r,e.isStack=!!this.getAdjust("stack"),e.points=A,e.connectNulls=this.connectNulls,e.showSinglePoint=this.showSinglePoint,e},e}(od);function Jy(t,e,n,A,r){var i=[];if(t.length){for(var o=[],a=[],s=0,l=t.length;s<l;s++){var u=t[s];o.push(u[1]),a.push(u[0])}a=a.reverse(),$t([o,a],(function(t,s){var l=[],u=A.parsePoints(t),c=u[0];1===o.length&&1===a.length?l=0===s?[["M",c.x-.5,c.y],["L",c.x+.5,c.y]]:[["L",c.x+.5,c.y],["L",c.x-.5,c.y]]:(e&&u.push({x:c.x,y:c.y}),l=n?ap(u,!1,r):op(u,!1),s>0&&(l[0][0]="L")),i=i.concat(l)})),i.push(["Z"])}return i}function qy(t,e,n,A,r){for(var i=Md(t,e,!e,"lineWidth"),o=t.connectNulls,a=t.isInCircle,s=Qd(t.points,o,t.showSinglePoint),l=[],u=0,c=s.length;u<c;u++){var h=s[u];l=l.concat(Jy(h,a,n,A,r))}return i.path=l,i}function Zy(t){var e=t.start,n=t.end;return[[e.x,n.y],[n.x,e.y]]}td("area",{defaultShapeType:"area",getDefaultPoints:function(t){var e=t.x,n=t.y0;return(qt(t.y)?t.y:[n,t.y]).map((function(t){return{x:e,y:t}}))}}),ed("area","area",{draw:function(t,e){var n=qy(t,!1,!1,this);return e.addShape({type:"path",attrs:n,name:"area"})},getMarker:function(t){return{symbol:function(t,e,n){return void 0===n&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:t.color,fillOpacity:1}}}});var $y=function(t){function e(e){var n=t.call(this,e)||this;n.type="area",n.shapeType="area",n.generatePoints=!0,n.startOnZero=!0;var A=e.startOnZero,r=void 0===A||A,i=e.sortable,o=void 0!==i&&i,a=e.showSinglePoint,s=void 0!==a&&a;return n.startOnZero=r,n.sortable=o,n.showSinglePoint=s,n}return Tt(e,t),e.prototype.getPointsAndData=function(t){for(var e=[],n=[],A=0,r=t.length;A<r;A++){var i=t[A];e.push(i.points),n.push(i[Nn])}return{points:e,data:n}},e.prototype.getYMinValue=function(){return this.startOnZero?t.prototype.getYMinValue.call(this):this.getYScale().min},e}(jy);td("edge",{defaultShapeType:"line",getDefaultPoints:function(t){return Id(t)}}),ed("edge","line",{draw:function(t,e){var n=Md(t,!0,!1,"lineWidth"),A=op(this.parsePoints(t.points),this.coordinate.isPolar);return e.addShape("path",{attrs:Dt(Dt({},n),{path:A})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}});var tv=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="edge",e.shapeType="edge",e.generatePoints=!0,e}return Tt(e,t),e}(od),ev=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="heatmap",e.paletteCache={},e}return Tt(e,t),e.prototype.updateElements=function(t,e){for(var n=0;n<t.length;n++){var A=t[n],r=this.prepareRange(A),i=this.prepareSize(),o=on(this.styleOption,["cfg","shadowBlur"]);be(o)||(o=i/2),this.prepareGreyScaleBlurredCircle(i,o),this.drawWithRange(A,r,i,o)}},e.prototype.color=function(t,e){return this.createAttrOption("color",t,"function"!=typeof e?e:""),this},e.prototype.clear=function(){t.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},e.prototype.prepareRange=function(t){var e=this.getAttribute("color").getFields()[0],n=1/0,A=-1/0;return t.forEach((function(t){var r=t[Nn][e];r>A&&(A=r),r<n&&(n=r)})),n===A&&(n=A-1),[n,A]},e.prototype.prepareSize=function(){var t=this.getDefaultValue("size");return be(t)||(t=this.getDefaultSize()),t},e.prototype.prepareGreyScaleBlurredCircle=function(t,e){var n=this.getGrayScaleBlurredCanvas(),A=t+e,r=n.getContext("2d");n.width=n.height=2*A,r.clearRect(0,0,n.width,n.height),r.shadowOffsetX=r.shadowOffsetY=2*A,r.shadowBlur=e,r.shadowColor="black",r.beginPath(),r.arc(-A,-A,t,0,2*Math.PI,!0),r.closePath(),r.fill()},e.prototype.drawWithRange=function(t,e,n,A){var r,i,o=this.coordinate,a=o.start,s=o.end,l=this.coordinate.getWidth(),u=this.coordinate.getHeight(),c=this.getAttribute("color").getFields()[0];this.clearShadowCanvasCtx();var h=this.getShadowCanvasCtx();e&&(t=t.filter((function(t){return t[Nn][c]<=e[1]&&t[Nn][c]>=e[0]})));var p=this.scales[c];try{for(var f=Kt(t),d=f.next();!d.done;d=f.next()){var g=d.value,y=this.getDrawCfg(g),v=y.x,m=y.y,B=p.scale(g[Nn][c]);this.drawGrayScaleBlurredCircle(v-a.x,m-s.y,n+A,B,h)}}catch(C){r={error:C}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}var x=h.getImageData(0,0,l,u);this.clearShadowCanvasCtx(),this.colorize(x),h.putImageData(x,0,0);var w=this.getImageShape();w.attr("x",a.x),w.attr("y",s.y),w.attr("width",l),w.attr("height",u),w.attr("img",h.canvas),w.set("origin",this.getShapeInfo(t))},e.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate;return Math.min(e.getWidth()/(4*t.scales[0].ticks.length),e.getHeight()/(4*t.scales[1].ticks.length))},e.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},e.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;return t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight(),t.getContext("2d")},e.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},e.prototype.drawGrayScaleBlurredCircle=function(t,e,n,A,r){var i=this.getGrayScaleBlurredCanvas();r.globalAlpha=A,r.drawImage(i,t-n,e-n)},e.prototype.colorize=function(t){for(var e=this.getAttribute("color"),n=t.data,A=this.paletteCache,r=3;r<n.length;r+=4){var i=n[r];if(be(i)){var o=A[i]?A[i]:ys.rgb2arr(e.gradient(i/256));n[r-3]=o[0],n[r-2]=o[1],n[r-1]=o[2],n[r]=i}}},e.prototype.getImageShape=function(){var t=this.imageShape;return t||(t=this.container.addShape({type:"image",attrs:{}}),this.imageShape=t,t)},e.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]),n=t.map((function(t){return t[Nn]}));return Dt(Dt({},e),{mappingData:t,data:n})},e}(od);function nv(t){var e,n,A,r,i,o,a=t.x,s=t.y,l=t.y0,u=t.size;qt(s)?(A=(e=Vt(s,2))[0],r=e[1]):(A=l,r=s),qt(a)?(i=(n=Vt(a,2))[0],o=n[1]):(i=a-u/2,o=a+u/2);var c=[{x:i,y:A},{x:i,y:r}];return c.push({x:o,y:r},{x:o,y:A}),c}function Av(t,e){void 0===e&&(e=!0);var n=[],A=t[0];n.push(["M",A.x,A.y]);for(var r=1,i=t.length;r<i;r++)n.push(["L",t[r].x,t[r].y]);return e&&(n.push(["L",A.x,A.y]),n.push(["z"])),n}function rv(t,e){var n=0,A=0,r=0,i=0;return qt(t)?1===t.length?n=A=r=i=t[0]:2===t.length?(n=r=t[0],A=i=t[1]):3===t.length?(n=t[0],A=i=t[1],r=t[2]):(n=t[0],A=t[1],r=t[2],i=t[3]):n=A=r=i=t,n+A>e&&(A=e-(n=n?e/(1+A/n):0)),r+i>e&&(i=e-(r=r?e/(1+i/r):0)),[n||0,A||0,r||0,i||0]}function iv(t,e,n){var A=[];if(n.isRect){var r=n.isTransposed?{x:n.start.x,y:e[0].y}:{x:e[0].x,y:n.start.y},i=n.isTransposed?{x:n.end.x,y:e[2].y}:{x:e[3].x,y:n.end.y},o=on(t,["background","style","radius"]);if(o){var a=n.isTransposed?Math.abs(e[0].y-e[2].y):e[2].x-e[1].x,s=n.isTransposed?n.getWidth():n.getHeight(),l=Vt(rv(o,Math.min(a,s)),4),u=l[0],c=l[1],h=l[2],p=l[3],f=n.isTransposed&&n.isReflect("y"),d=f?0:1,g=function(t){return f?-t:t};A.push(["M",r.x,i.y+g(u)]),0!==u&&A.push(["A",u,u,0,0,d,r.x+u,i.y]),A.push(["L",i.x-c,i.y]),0!==c&&A.push(["A",c,c,0,0,d,i.x,i.y+g(c)]),A.push(["L",i.x,r.y-g(h)]),0!==h&&A.push(["A",h,h,0,0,d,i.x-h,r.y]),A.push(["L",r.x+p,r.y]),0!==p&&A.push(["A",p,p,0,0,d,r.x,r.y-g(p)])}else A.push(["M",r.x,r.y]),A.push(["L",i.x,r.y]),A.push(["L",i.x,i.y]),A.push(["L",r.x,i.y]),A.push(["L",r.x,r.y]);A.push(["z"])}if(n.isPolar){var y=n.getCenter(),v=Ch(t,n),m=v.startAngle,B=v.endAngle;if("theta"===n.type||n.isTransposed){var x=function(t){return Math.pow(t,2)};u=Math.sqrt(x(y.x-e[0].x)+x(y.y-e[0].y)),c=Math.sqrt(x(y.x-e[2].x)+x(y.y-e[2].y));A=xh(y.x,y.y,u,n.startAngle,n.endAngle,c)}else A=xh(y.x,y.y,n.getRadius(),m,B)}return A}function ov(t,e,n){var A=[];return Jt(e)?n?A.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",(t[2].x+t[3].x)/2,(t[2].y+t[3].y)/2],["Z"]):A.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",t[2].x,t[2].y],["L",t[3].x,t[3].y],["Z"]):A.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",e[1].x,e[1].y],["L",e[0].x,e[0].y],["Z"]),A}function av(t,e){return[e,t]}function sv(t){var e=t.theme,n=t.coordinate,A=t.getXScale(),r=A.values,i=t.beforeMappingData,o=r.length,a=Mh(t.coordinate),s=t.intervalPadding,l=t.dodgePadding,u=t.maxColumnWidth||e.maxColumnWidth,c=t.minColumnWidth||e.minColumnWidth,h=t.columnWidthRatio||e.columnWidthRatio,p=t.multiplePieWidthRatio||e.multiplePieWidthRatio,f=t.roseWidthRatio||e.roseWidthRatio;if(A.isLinear&&r.length>1){r.sort();var d=function(t,e){var n=t.length,A=t;pe(A[0])&&(A=t.map((function(t){return e.translate(t)})));for(var r=A[1]-A[0],i=2;i<n;i++){var o=A[i]-A[i-1];r>o&&(r=o)}return r}(r,A);o=(A.max-A.min)/d,r.length>o&&(o=r.length)}var g=A.range,y=1/o,v=1;(n.isPolar?v=n.isTransposed&&o>1?p:f:(A.isLinear&&(y*=g[1]-g[0]),v=h),!Jt(s)&&s>=0)?y=(1-(o-1)*(s/a))/o:y*=v;if(t.getAdjust("dodge")){var m=function(t,e){if(e){var n=oe(t);return de(n,e).length}return t.length}(i,t.getAdjust("dodge").dodgeBy);if(!Jt(l)&&l>=0)y=(y-l/a*(m-1))/m;else!Jt(s)&&s>=0?(y*=v,y/=m):y/=m;y=y>=0?y:0}if(!Jt(u)&&u>=0){var B=u/a;y>B&&(y=B)}if(!Jt(c)&&c>=0){var x=c/a;y<x&&(y=x)}return y}td("interval",{defaultShapeType:"rect",getDefaultPoints:function(t){return nv(t)}}),ed("interval","rect",{draw:function(t,e){var n,A=Md(t,!1,!0),r=e,i=null==t?void 0:t.background;if(i){r=e.addGroup({name:"interval-group"});var o=Sd(t),a=iv(t,this.parsePoints(t.points),this.coordinate);r.addShape("path",{attrs:Dt(Dt({},o),{path:a}),capture:!1,zIndex:-1,name:Xf})}n=A.radius&&this.coordinate.isRect?function(t,e,n){var A,r,i,o,a,s,l,u=Vt(Nt([],Vt(t),!1),4),c=u[0],h=u[1],p=u[2],f=u[3],d=Vt("number"==typeof n?Array(4).fill(n):n,4),g=d[0],y=d[1],v=d[2],m=d[3];e.isTransposed&&(h=(A=Vt(av(h,f),2))[0],f=A[1]),e.isReflect("y")&&(c=(r=Vt(av(c,h),2))[0],h=r[1],p=(i=Vt(av(p,f),2))[0],f=i[1]),e.isReflect("x")&&(c=(o=Vt(av(c,f),2))[0],f=o[1],h=(a=Vt(av(h,p),2))[0],p=a[1]);var B=[],x=function(t){return Math.abs(t)};return g=(s=Vt(rv([g,y,v,m],Math.min(x(f.x-c.x),x(h.y-c.y))).map((function(t){return x(t)})),4))[0],y=s[1],v=s[2],m=s[3],e.isTransposed&&(g=(l=Vt([m,g,y,v],4))[0],y=l[1],v=l[2],m=l[3]),c.y<h.y?(B.push(["M",f.x,f.y+v]),0!==v&&B.push(["A",v,v,0,0,0,f.x-v,f.y]),B.push(["L",c.x+m,c.y]),0!==m&&B.push(["A",m,m,0,0,0,c.x,c.y+m]),B.push(["L",h.x,h.y-g]),0!==g&&B.push(["A",g,g,0,0,0,h.x+g,h.y]),B.push(["L",p.x-y,p.y]),0!==y&&B.push(["A",y,y,0,0,0,p.x,p.y-y]),B.push(["L",f.x,f.y+v]),B.push(["z"])):f.x<c.x?(B.push(["M",p.x+y,p.y]),0!==y&&B.push(["A",y,y,0,0,0,p.x,p.y+y]),B.push(["L",f.x,f.y-v]),0!==v&&B.push(["A",v,v,0,0,0,f.x+v,f.y]),B.push(["L",c.x-m,c.y]),0!==m&&B.push(["A",m,m,0,0,0,c.x,c.y-m]),B.push(["L",h.x,h.y+g]),0!==g&&B.push(["A",g,g,0,0,0,h.x-g,h.y]),B.push(["L",p.x+y,p.y]),B.push(["z"])):(B.push(["M",h.x,h.y+g]),0!==g&&B.push(["A",g,g,0,0,1,h.x+g,h.y]),B.push(["L",p.x-y,p.y]),0!==y&&B.push(["A",y,y,0,0,1,p.x,p.y+y]),B.push(["L",f.x,f.y-v]),0!==v&&B.push(["A",v,v,0,0,1,f.x-v,f.y]),B.push(["L",c.x+m,c.y]),0!==m&&B.push(["A",m,m,0,0,1,c.x,c.y-m]),B.push(["L",h.x,h.y+g]),B.push(["z"])),B}(this.parsePoints(t.points),this.coordinate,A.radius):this.parsePath(function(t,e,n){var A=n.getWidth(),r=n.getHeight(),i="rect"===n.type,o=[],a=(t[2].x-t[1].x)/2,s=n.isTransposed?a*r/A:a*A/r;return"round"===e?(i?(o.push(["M",t[0].x,t[0].y+s]),o.push(["L",t[1].x,t[1].y-s]),o.push(["A",a,a,0,0,1,t[2].x,t[2].y-s]),o.push(["L",t[3].x,t[3].y+s]),o.push(["A",a,a,0,0,1,t[0].x,t[0].y+s])):(o.push(["M",t[0].x,t[0].y]),o.push(["L",t[1].x,t[1].y]),o.push(["A",a,a,0,0,1,t[2].x,t[2].y]),o.push(["L",t[3].x,t[3].y]),o.push(["A",a,a,0,0,1,t[0].x,t[0].y])),o.push(["z"])):o=Av(t),o}(t.points,A.lineCap,this.coordinate));var s=r.addShape("path",{attrs:Dt(Dt({},A),{path:n}),name:"interval"});return i?r:s},getMarker:function(t){var e=t.color;return t.isInPolar?{symbol:"circle",style:{r:4.5,fill:e}}:{symbol:"square",style:{r:4,fill:e}}}});var lv=function(t){function e(e){var n=t.call(this,e)||this;n.type="interval",n.shapeType="interval",n.generatePoints=!0;var A=e.background;return n.background=A,n}return Tt(e,t),e.prototype.createShapePointsCfg=function(e){var n,A=t.prototype.createShapePointsCfg.call(this,e),r=this.getAttribute("size");r?(n=this.getAttributeValues(r,e)[0],n/=Mh(this.coordinate)):(this.defaultSize||(this.defaultSize=sv(this)),n=this.defaultSize);return A.size=n,A},e.prototype.adjustScale=function(){t.prototype.adjustScale.call(this);var e,n,A=this.getYScale();if("theta"===this.coordinate.type)A.change({nice:!1,min:0,max:(e=A,n=e.values.filter((function(t){return!Jt(t)&&!isNaN(t)})),Math.max.apply(Math,Nt(Nt([],Vt(n),!1),[Jt(e.max)?-1/0:e.max],!1)))});else{var r=this.scaleDefs,i=A.field,o=A.min,a=A.max;"time"!==A.type&&(o>0&&!on(r,[i,"min"])&&A.change({min:0}),a<=0&&!on(r,[i,"max"])&&A.change({max:0}))}},e.prototype.getDrawCfg=function(e){var n=t.prototype.getDrawCfg.call(this,e);return n.background=this.background,n},e}(od),uv=function(t){function e(e){var n=t.call(this,e)||this;n.type="line";var A=e.sortable,r=void 0!==A&&A;return n.sortable=r,n}return Tt(e,t),e}(jy),cv=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"];function hv(t,e,n,A,r){var i,o,a=Md(e,r,!r,"r"),s=t.parsePoints(e.points),l=s[0];if(e.isStack)l=s[1];else if(s.length>1){var u=n.addGroup();try{for(var c=Kt(s),h=c.next();!h.done;h=c.next()){var p=h.value;u.addShape({type:"marker",attrs:Dt(Dt(Dt({},a),{symbol:vd[A]||A}),p)})}}catch(f){i={error:f}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return u}return n.addShape({type:"marker",attrs:Dt(Dt(Dt({},a),{symbol:vd[A]||A}),l)})}td("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(t){return Id(t)}}),$t(cv,(function(t){ed("point","hollow-".concat(t),{draw:function(e,n){return hv(this,e,n,t,!0)},getMarker:function(e){var n=e.color;return{symbol:vd[t]||t,style:{r:4.5,stroke:n,fill:null}}}})}));var pv=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="point",e.shapeType="point",e.generatePoints=!0,e}return Tt(e,t),e.prototype.getDrawCfg=function(e){var n=t.prototype.getDrawCfg.call(this,e);return Dt(Dt({},n),{isStack:!!this.getAdjust("stack")})},e}(od);td("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(t){var e=[];return $t(t.x,(function(n,A){var r=t.y[A];e.push({x:n,y:r})})),e}}),ed("polygon","polygon",{draw:function(t,e){if(!en(t.points)){var n=Md(t,!0,!0),A=this.parsePath(function(t){for(var e=t[0],n=1,A=[["M",e.x,e.y]];n<t.length;){var r=t[n];r.x===t[n-1].x&&r.y===t[n-1].y||(A.push(["L",r.x,r.y]),r.x===e.x&&r.y===e.y&&n<t.length-1&&(e=t[n+1],A.push(["Z"]),A.push(["M",e.x,e.y]),n++)),n++}return nn(ye(A),e)||A.push(["L",e.x,e.y]),A.push(["Z"]),A}(t.points));return e.addShape("path",{attrs:Dt(Dt({},n),{path:A}),name:"polygon"})}},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}});var fv=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="polygon",e.shapeType="polygon",e.generatePoints=!0,e}return Tt(e,t),e.prototype.createShapePointsCfg=function(e){var n,A=t.prototype.createShapePointsCfg.call(this,e),r=A.x,i=A.y;if(!qt(r)||!qt(i)){var o=this.getXScale(),a=this.getYScale(),s=.5/o.values.length,l=.5/a.values.length;o.isCategory&&a.isCategory?(r=[r-s,r-s,r+s,r+s],i=[i-l,i+l,i+l,i-l]):qt(r)?(r=[(n=r)[0],n[0],n[1],n[1]],i=[i-l/2,i+l/2,i+l/2,i-l/2]):qt(i)&&(i=[(n=i)[0],n[1],n[1],n[0]],r=[r-s/2,r-s/2,r+s/2,r+s/2]),A.x=r,A.y=i}return A},e}(od);td("schema",{defaultShapeType:""});var dv=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="schema",e.shapeType="schema",e.generatePoints=!0,e}return Tt(e,t),e.prototype.createShapePointsCfg=function(e){var n,A=t.prototype.createShapePointsCfg.call(this,e),r=this.getAttribute("size");r?(n=this.getAttributeValues(r,e)[0],n/=Mh(this.coordinate)):(this.defaultSize||(this.defaultSize=sv(this)),n=this.defaultSize);return A.size=n,A},e}(od);td("violin",{defaultShapeType:"violin",getDefaultPoints:function(t){var e=t.size/2,n=[],A=function(t){if(!qt(t))return[];var e=ae(t);return An(t,(function(t){return t/e}))}(t._size);return $t(t.y,(function(r,i){var o=A[i]*e,a=0===i,s=i===t.y.length-1;n.push({isMin:a,isMax:s,x:t.x-o,y:r}),n.unshift({isMin:a,isMax:s,x:t.x+o,y:r})})),n}}),ed("violin","violin",{draw:function(t,e){var n=Md(t,!0,!0),A=this.parsePath(Ud(t.points));return e.addShape("path",{attrs:Dt(Dt({},n),{path:A}),name:"violin"})},getMarker:function(t){return{symbol:"circle",style:{r:4,fill:t.color}}}});var gv=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="violin",e.shapeType="violin",e.generatePoints=!0,e}return Tt(e,t),e.prototype.createShapePointsCfg=function(e){var n,A=t.prototype.createShapePointsCfg.call(this,e),r=this.getAttribute("size");r?(n=this.getAttributeValues(r,e)[0],n/=Mh(this.coordinate)):(this.defaultSize||(this.defaultSize=sv(this)),n=this.defaultSize);return A.size=n,A._size=on(e[Nn],[this._sizeField]),A},e.prototype.initAttributes=function(){var e=this.attributeOption,n=e.size?e.size.fields[0]:this._sizeField?this._sizeField:"size";this._sizeField=n,delete e.size,t.prototype.initAttributes.call(this)},e}(od);function yv(t,e){return["C",1*t.x/2+1*e.x/2,t.y,1*t.x/2+1*e.x/2,e.y,e.x,e.y]}function vv(t,e){var n=[];n.push({x:e.x,y:e.y}),n.push(t);var A=["Q"];return $t(n,(function(t){A.push(t.x,t.y)})),A}ed("area","line",{draw:function(t,e){var n=qy(t,!0,!1,this);return e.addShape({type:"path",attrs:n,name:"area"})},getMarker:function(t){return{symbol:function(t,e,n){return void 0===n&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:t.color,fill:null}}}}),ed("area","smooth",{draw:function(t,e){var n=qy(t,!1,!0,this,Zy(this.coordinate));return e.addShape({type:"path",attrs:n,name:"area"})},getMarker:function(t){return{symbol:function(t,e,n){return void 0===n&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:t.color,fillOpacity:1}}}}),ed("area","smooth-line",{draw:function(t,e){var n=qy(t,!0,!0,this,Zy(this.coordinate));return e.addShape({type:"path",attrs:n,name:"area"})},getMarker:function(t){return{symbol:function(t,e,n){return void 0===n&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:t.color,fill:null}}}}),ed("edge","arc",{draw:function(t,e){var n,A=Md(t,!0,!1,"lineWidth"),r=t.points,i=r.length>2?"weight":"normal";if(t.isInCircle){var o={x:0,y:1};return"normal"===i?n=function(t,e,n){var A=vv(e,n),r=[["M",t.x,t.y]];return r.push(A),r}(r[0],r[1],o):(A.fill=A.stroke,n=function(t,e){var n=vv(t[1],e),A=vv(t[3],e),r=[["M",t[0].x,t[0].y]];return r.push(A),r.push(["L",t[3].x,t[3].y]),r.push(["L",t[2].x,t[2].y]),r.push(n),r.push(["L",t[1].x,t[1].y]),r.push(["L",t[0].x,t[0].y]),r.push(["Z"]),r}(r,o)),n=this.parsePath(n),e.addShape("path",{attrs:Dt(Dt({},A),{path:n})})}if("normal"===i)return n=wh(((r=this.parsePoints(r))[1].x+r[0].x)/2,r[0].y,Math.abs(r[1].x-r[0].x)/2,Math.PI,2*Math.PI),e.addShape("path",{attrs:Dt(Dt({},A),{path:n})});var a=yv(r[1],r[3]),s=yv(r[2],r[0]);return n=[["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],a,["L",r[3].x,r[3].y],["L",r[2].x,r[2].y],s,["Z"]],n=this.parsePath(n),A.fill=A.stroke,e.addShape("path",{attrs:Dt(Dt({},A),{path:n})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}}),ed("edge","smooth",{draw:function(t,e){var n=Md(t,!0,!1,"lineWidth"),A=t.points,r=this.parsePath(function(t,e){var n=yv(t,e),A=[["M",t.x,t.y]];return A.push(n),A}(A[0],A[1]));return e.addShape("path",{attrs:Dt(Dt({},n),{path:r})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}});var mv=1/3;ed("edge","vhv",{draw:function(t,e){var n=Md(t,!0,!1,"lineWidth"),A=t.points,r=this.parsePath(function(t,e){var n=[];n.push({x:t.x,y:t.y*(1-mv)+e.y*mv}),n.push({x:e.x,y:t.y*(1-mv)+e.y*mv}),n.push(e);var A=[["M",t.x,t.y]];return $t(n,(function(t){A.push(["L",t.x,t.y])})),A}(A[0],A[1]));return e.addShape("path",{attrs:Dt(Dt({},n),{path:r})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}}),ed("interval","funnel",{getPoints:function(t){return t.size=2*t.size,nv(t)},draw:function(t,e){var n=Md(t,!1,!0),A=this.parsePath(ov(t.points,t.nextPoints,!1));return e.addShape("path",{attrs:Dt(Dt({},n),{path:A}),name:"interval"})},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}}),ed("interval","hollow-rect",{draw:function(t,e){var n=Md(t,!0,!1),A=e,r=null==t?void 0:t.background;if(r){A=e.addGroup();var i=Sd(t),o=iv(t,this.parsePoints(t.points),this.coordinate);A.addShape("path",{attrs:Dt(Dt({},i),{path:o}),capture:!1,zIndex:-1,name:Xf})}var a=this.parsePath(Av(t.points)),s=A.addShape("path",{attrs:Dt(Dt({},n),{path:a}),name:"interval"});return r?A:s},getMarker:function(t){var e=t.color;return t.isInPolar?{symbol:"circle",style:{r:4.5,stroke:e,fill:null}}:{symbol:"square",style:{r:4,stroke:e,fill:null}}}}),ed("interval","line",{getPoints:function(t){return n=(e=t).x,A=e.y,r=e.y0,qt(A)?A.map((function(t,e){return{x:qt(n)?n[e]:n,y:t}})):[{x:n,y:r},{x:n,y:A}];var e,n,A,r},draw:function(t,e){var n=Md(t,!0,!1,"lineWidth"),A=Qh(Dt({},n),["fill"]),r=this.parsePath(Av(t.points,!1));return e.addShape("path",{attrs:Dt(Dt({},A),{path:r}),name:"interval"})},getMarker:function(t){return{symbol:function(t,e,n){return[["M",t,e-n],["L",t,e+n]]},style:{r:5,stroke:t.color}}}}),ed("interval","pyramid",{getPoints:function(t){return t.size=2*t.size,nv(t)},draw:function(t,e){var n=Md(t,!1,!0),A=this.parsePath(ov(t.points,t.nextPoints,!0));return e.addShape("path",{attrs:Dt(Dt({},n),{path:A}),name:"interval"})},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}}),ed("interval","tick",{getPoints:function(t){return function(t){var e,n,A,r=t.x,i=t.y,o=t.y0,a=t.size;qt(i)?(n=(e=Vt(i,2))[0],A=e[1]):(n=o,A=i);var s=r+a/2,l=r-a/2;return[{x:r,y:n},{x:r,y:A},{x:l,y:n},{x:s,y:n},{x:l,y:A},{x:s,y:A}]}(t)},draw:function(t,e){var n,A=Md(t,!0,!1),r=this.parsePath([["M",(n=t.points)[0].x,n[0].y],["L",n[1].x,n[1].y],["M",n[2].x,n[2].y],["L",n[3].x,n[3].y],["M",n[4].x,n[4].y],["L",n[5].x,n[5].y]]);return e.addShape("path",{attrs:Dt(Dt({},A),{path:r}),name:"interval"})},getMarker:function(t){return{symbol:function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]},style:{r:5,stroke:t.color}}}});var Bv=function(t,e,n){var A,r=t.x,i=t.y,o=e.x,a=e.y;switch(n){case"hv":A=[{x:o,y:i}];break;case"vh":A=[{x:r,y:a}];break;case"hvh":var s=(o+r)/2;A=[{x:s,y:i},{x:s,y:a}];break;case"vhv":var l=(i+a)/2;A=[{x:r,y:l},{x:o,y:l}]}return A};function xv(t,e){var n=Qd(t.points,t.connectNulls,t.showSinglePoint),A=[];return $t(n,(function(t){var n=function(t,e){var n=[];return $t(t,(function(A,r){var i=t[r+1];if(n.push(A),i){var o=Bv(A,i,e);n=n.concat(o)}})),n}(t,e);A=A.concat(function(t){return t.map((function(t,e){return 0===e?["M",t.x,t.y]:["L",t.x,t.y]}))}(n))})),Dt(Dt({},Md(t,!0,!1,"lineWidth")),{path:A})}function wv(t){var e=qt(t)?t:[t],n=e[0],A=e[e.length-1],r=e.length>1?e[1]:n;return{min:n,max:A,min1:r,max1:e.length>3?e[3]:A,median:e.length>2?e[2]:r}}function Cv(t,e,n){var A,r=n/2;if(qt(e)){var i=wv(e),o=i.min,a=i.max,s=i.median,l=i.min1,u=t-r,c=t+r;A=[[u,a],[c,a],[t,a],[t,h=i.max1],[u,l],[u,h],[c,h],[c,l],[t,l],[t,o],[u,o],[c,o],[u,s],[c,s]]}else{e=Jt(e)?.5:e;var h,p=wv(t),f=(o=p.min,a=p.max,s=p.median,e-r),d=e+r;A=[[o,f],[o,d],[o,e],[l=p.min1,e],[l,f],[l,d],[h=p.max1,d],[h,f],[h,e],[a,e],[a,f],[a,d],[s,f],[s,d]]}return A.map((function(t){return{x:t[0],y:t[1]}}))}function Fv(t){var e=(qt(t)?t:[t]).sort((function(t,e){return e-t}));return function(t,e,n){if(pe(t))return t.padEnd(e,n);if(qt(t)){var A=t.length;if(A<e)for(var r=e-A,i=0;i<r;i++)t.push(n)}return t}(e,4,e[e.length-1])}function bv(t,e,n){var A=Fv(e);return[{x:t,y:A[0]},{x:t,y:A[1]},{x:t-n/2,y:A[2]},{x:t-n/2,y:A[1]},{x:t+n/2,y:A[1]},{x:t+n/2,y:A[2]},{x:t,y:A[2]},{x:t,y:A[3]}]}function Qv(t,e){var n=Math.abs(t[0].x-t[2].x),A=Math.abs(t[0].y-t[2].y),r=Math.min(n,A);return e&&(r=Ce(e,0,Math.min(n,A))),r/=2,{x:(t[0].x+t[2].x)/2-r,y:(t[0].y+t[2].y)/2-r,width:2*r,height:2*r}}$t(["hv","vh","hvh","vhv"],(function(t){ed("line",t,{draw:function(e,n){var A=xv(e,t);return n.addShape({type:"path",attrs:A,name:"line"})},getMarker:function(e){return Ld(e,t)}})})),$t(["cross","tick","plus","hyphen","line"],(function(t){ed("point",t,{draw:function(e,n){return hv(this,e,n,t,!0)},getMarker:function(e){var n=e.color;return{symbol:vd[t],style:{r:4.5,stroke:n,fill:null}}}})})),ed("point","image",{draw:function(t,e){var n,A,r=Md(t,!1,!1,"r").r,i=this.parsePoints(t.points),o=i[0];if(t.isStack)o=i[1];else if(i.length>1){var a=e.addGroup();try{for(var s=Kt(i),l=s.next();!l.done;l=s.next()){var u=l.value;a.addShape("image",{attrs:{x:u.x-r/2,y:u.y-r,width:r,height:r,img:t.shape[1]}})}}catch(c){n={error:c}}finally{try{l&&!l.done&&(A=s.return)&&A.call(s)}finally{if(n)throw n.error}}return a}return e.addShape("image",{attrs:{x:o.x-r/2,y:o.y-r,width:r,height:r,img:t.shape[1]}})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}}),$t(cv,(function(t){ed("point",t,{draw:function(e,n){return hv(this,e,n,t,!1)},getMarker:function(e){var n=e.color;return{symbol:vd[t]||t,style:{r:4.5,fill:n}}}})})),ed("schema","box",{getPoints:function(t){return Cv(t.x,t.y,t.size)},draw:function(t,e){var n,A=Md(t,!0,!1),r=this.parsePath([["M",(n=t.points)[0].x,n[0].y],["L",n[1].x,n[1].y],["M",n[2].x,n[2].y],["L",n[3].x,n[3].y],["M",n[4].x,n[4].y],["L",n[5].x,n[5].y],["L",n[6].x,n[6].y],["L",n[7].x,n[7].y],["L",n[4].x,n[4].y],["Z"],["M",n[8].x,n[8].y],["L",n[9].x,n[9].y],["M",n[10].x,n[10].y],["L",n[11].x,n[11].y],["M",n[12].x,n[12].y],["L",n[13].x,n[13].y]]);return e.addShape("path",{attrs:Dt(Dt({},A),{path:r,name:"schema"})})},getMarker:function(t){return{symbol:function(t,e,n){var A=Cv(t,[e-6,e-3,e,e+3,e+6],n);return[["M",A[0].x+1,A[0].y],["L",A[1].x-1,A[1].y],["M",A[2].x,A[2].y],["L",A[3].x,A[3].y],["M",A[4].x,A[4].y],["L",A[5].x,A[5].y],["L",A[6].x,A[6].y],["L",A[7].x,A[7].y],["L",A[4].x,A[4].y],["Z"],["M",A[8].x,A[8].y],["L",A[9].x,A[9].y],["M",A[10].x+1,A[10].y],["L",A[11].x-1,A[11].y],["M",A[12].x,A[12].y],["L",A[13].x,A[13].y]]},style:{r:6,lineWidth:1,stroke:t.color}}}}),ed("schema","candle",{getPoints:function(t){return bv(t.x,t.y,t.size)},draw:function(t,e){var n,A=Md(t,!0,!0),r=this.parsePath([["M",(n=t.points)[0].x,n[0].y],["L",n[1].x,n[1].y],["M",n[2].x,n[2].y],["L",n[3].x,n[3].y],["L",n[4].x,n[4].y],["L",n[5].x,n[5].y],["Z"],["M",n[6].x,n[6].y],["L",n[7].x,n[7].y]]);return e.addShape("path",{attrs:Dt(Dt({},A),{path:r,name:"schema"})})},getMarker:function(t){var e=t.color;return{symbol:function(t,e,n){var A=bv(t,[e+7.5,e+3,e-3,e-7.5],n);return[["M",A[0].x,A[0].y],["L",A[1].x,A[1].y],["M",A[2].x,A[2].y],["L",A[3].x,A[3].y],["L",A[4].x,A[4].y],["L",A[5].x,A[5].y],["Z"],["M",A[6].x,A[6].y],["L",A[7].x,A[7].y]]},style:{lineWidth:1,stroke:e,fill:e,r:6}}}}),ed("polygon","square",{draw:function(t,e){if(!en(t.points)){var n=Md(t,!0,!0),A=this.parsePoints(t.points);return e.addShape("rect",{attrs:Dt(Dt({},n),Qv(A,t.size)),name:"polygon"})}},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}}),ed("violin","smooth",{draw:function(t,e){var n=Md(t,!0,!0),A=this.parsePath(Ed(t.points));return e.addShape("path",{attrs:Dt(Dt({},n),{path:A})})},getMarker:function(t){return{symbol:"circle",style:{stroke:null,r:4,fill:t.color}}}}),ed("violin","hollow",{draw:function(t,e){var n=Md(t,!0,!1),A=this.parsePath(Ud(t.points));return e.addShape("path",{attrs:Dt(Dt({},n),{path:A})})},getMarker:function(t){return{symbol:"circle",style:{r:4,fill:null,stroke:t.color}}}}),ed("violin","hollow-smooth",{draw:function(t,e){var n=Md(t,!0,!1),A=this.parsePath(Ed(t.points));return e.addShape("path",{attrs:Dt(Dt({},n),{path:A})})},getMarker:function(t){return{symbol:"circle",style:{r:4,fill:null,stroke:t.color}}}});var Uv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getLabelValueDir=function(t){var e=t.points;return e[0].y<=e[2].y?1:-1},e.prototype.getLabelOffsetPoint=function(e,n,A,r){var i,o=t.prototype.getLabelOffsetPoint.call(this,e,n,A),a=this.getCoordinate(),s=a.isTransposed?"x":"y",l=this.getLabelValueDir(e.mappingData);return o=Dt(Dt({},o),((i={})[s]=o[s]*l,i)),a.isReflect("x")&&(o=Dt(Dt({},o),{x:-1*o.x})),a.isReflect("y")&&(o=Dt(Dt({},o),{y:-1*o.y})),o},e.prototype.getThemedLabelCfg=function(t){var e=this.geometry,n=this.getDefaultLabelCfg(),A=e.theme;return Ze({},n,A.labels,"middle"===t.position?{offset:0}:{},t)},e.prototype.setLabelPosition=function(t,e,n,A){var r,i,o,a,s=this.getCoordinate(),l=s.isTransposed,u=e.points,c=s.convert(u[0]),h=s.convert(u[2]),p=this.getLabelValueDir(e),f=qt(e.shape)?e.shape[0]:e.shape;if("funnel"===f||"pyramid"===f){var d=on(e,"nextPoints"),g=on(e,"points");if(d){var y=s.convert(g[0]),v=s.convert(g[1]),m=s.convert(d[0]),B=s.convert(d[1]);l?(r=Math.min(m.y,y.y),o=Math.max(m.y,y.y),i=(v.x+B.x)/2,a=(y.x+m.x)/2):(r=Math.min((v.y+B.y)/2,(y.y+m.y)/2),o=Math.max((v.y+B.y)/2,(y.y+m.y)/2),i=B.x,a=y.x)}else r=Math.min(h.y,c.y),o=Math.max(h.y,c.y),i=h.x,a=c.x}else r=Math.min(h.y,c.y),o=Math.max(h.y,c.y),i=h.x,a=c.x;switch(A){case"right":t.x=i,t.y=(r+o)/2,t.textAlign=on(t,"textAlign",p>0?"left":"right");break;case"left":t.x=a,t.y=(r+o)/2,t.textAlign=on(t,"textAlign",p>0?"left":"right");break;case"bottom":l&&(t.x=(i+a)/2),t.y=o,t.textAlign=on(t,"textAlign","center"),t.textBaseline=on(t,"textBaseline",p>0?"bottom":"top");break;case"middle":l&&(t.x=(i+a)/2),t.y=(r+o)/2,t.textAlign=on(t,"textAlign","center"),t.textBaseline=on(t,"textBaseline","middle");break;case"top":l&&(t.x=(i+a)/2),t.y=r,t.textAlign=on(t,"textAlign","center"),t.textBaseline=on(t,"textBaseline",p>0?"bottom":"top")}},e}(gd),Ev=Math.PI/2,Mv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getLabelOffset=function(t){var e=this.getCoordinate(),n=0;if(be(t))n=t;else if(pe(t)&&-1!==t.indexOf("%")){var A=e.getRadius();e.innerRadius>0&&(A*=1-e.innerRadius),n=.01*parseFloat(t)*A}return n},e.prototype.getLabelItems=function(e){var n=t.prototype.getLabelItems.call(this,e),A=this.geometry.getYScale();return An(n,(function(t){if(t&&A){var e=A.scale(on(t.data,A.field));return Dt(Dt({},t),{percent:e})}return t}))},e.prototype.getLabelAlign=function(t){var e,n=this.getCoordinate();if(t.labelEmit)e=t.angle<=Math.PI/2&&t.angle>=-Math.PI/2?"left":"right";else if(n.isTransposed){var A=n.getCenter(),r=t.offset;e=Math.abs(t.x-A.x)<1?"center":t.angle>Math.PI||t.angle<=0?r>0?"left":"right":r>0?"right":"left"}else e="center";return e},e.prototype.getLabelPoint=function(t,e,n){var A,r=1,i=t.content[n];this.isToMiddle(e)?A=this.getMiddlePoint(e.points):(1===t.content.length&&0===n?n=1:0===n&&(r=-1),A=this.getArcPoint(e,n));var o=t.offset*r,a=this.getPointAngle(A),s=t.labelEmit,l=this.getCirclePoint(a,o,A,s);return 0===l.r?l.content="":(l.content=i,l.angle=a,l.color=e.color),l.rotate=t.autoRotate?this.getLabelRotate(a,o,s):t.rotate,l.start={x:A.x,y:A.y},l},e.prototype.getArcPoint=function(t,e){return void 0===e&&(e=0),qt(t.x)||qt(t.y)?{x:qt(t.x)?t.x[e]:t.x,y:qt(t.y)?t.y[e]:t.y}:{x:t.x,y:t.y}},e.prototype.getPointAngle=function(t){return Ih(this.getCoordinate(),t)},e.prototype.getCirclePoint=function(t,e,n,A){var r=this.getCoordinate(),i=r.getCenter(),o=Sh(r,n);if(0===o)return Dt(Dt({},i),{r:o});var a=t;r.isTransposed&&o>e&&!A?a=t+2*Math.asin(e/(2*o)):o+=e;return{x:i.x+o*Math.cos(a),y:i.y+o*Math.sin(a),r:o}},e.prototype.getLabelRotate=function(t,e,n){var A=t+Ev;return n&&(A-=Ev),A&&(A>Ev?A-=Math.PI:A<-Ev&&(A+=Math.PI)),A},e.prototype.getMiddlePoint=function(t){var e=this.getCoordinate(),n=t.length,A={x:0,y:0};return $t(t,(function(t){A.x+=t.x,A.y+=t.y})),A.x/=n,A.y/=n,A=e.convert(A)},e.prototype.isToMiddle=function(t){return t.x.length>2},e}(gd),Sv=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaultLayout="distribute",e}return Tt(e,t),e.prototype.getDefaultLabelCfg=function(e,n){var A=t.prototype.getDefaultLabelCfg.call(this,e,n);return Ze({},A,on(this.geometry.theme,"pieLabels",{}))},e.prototype.getLabelOffset=function(e){return t.prototype.getLabelOffset.call(this,e)||0},e.prototype.getLabelRotate=function(t,e,n){var A;return e<0&&((A=t)>Math.PI/2&&(A-=Math.PI),A<-Math.PI/2&&(A+=Math.PI)),A},e.prototype.getLabelAlign=function(t){var e,n=this.getCoordinate().getCenter();return e=t.angle<=Math.PI/2&&t.x>=n.x?"left":"right",t.offset<=0&&(e="right"===e?"left":"right"),e},e.prototype.getArcPoint=function(t){return t},e.prototype.getPointAngle=function(t){var e,n=this.getCoordinate(),A={x:qt(t.x)?t.x[0]:t.x,y:t.y[0]},r={x:qt(t.x)?t.x[1]:t.x,y:t.y[1]},i=Ih(n,A);if(t.points&&t.points[0].y===t.points[1].y)e=i;else{var o=Ih(n,r);i>=o&&(o+=2*Math.PI),e=i+(o-i)/2}return e},e.prototype.getCirclePoint=function(t,e){var n=this.getCoordinate(),A=n.getCenter(),r=n.getRadius()+e;return Dt(Dt({},Bh(A.x,A.y,r,t)),{angle:t,r:r})},e}(Mv);function Iv(t,e,n){var A=t.filter((function(t){return!t.invisible}));A.sort((function(t,e){return t.y-e.y}));var r,i=!0,o=n.minY,a=n.maxY,s=Math.abs(o-a),l=0,u=Number.MIN_VALUE,c=A.map((function(t){return t.y>l&&(l=t.y),t.y<u&&(u=t.y),{content:t.content,size:e,targets:[t.y-o],pos:null}}));for(u-=o,l-o>s&&(s=l-o);i;)for(c.forEach((function(t){var e=(Math.min.apply(u,t.targets)+Math.max.apply(u,t.targets))/2;t.pos=Math.min(Math.max(u,e-t.size/2),s-t.size),t.pos=Math.max(0,t.pos)})),i=!1,r=c.length;r--;)if(r>0){var h=c[r-1],p=c[r];h.pos+h.size>p.pos&&(h.size+=p.size,h.targets=h.targets.concat(p.targets),h.pos+h.size>s&&(h.pos=s-h.size),c.splice(r,1),i=!0)}r=0,c.forEach((function(t){var n=o+e/2;t.targets.forEach((function(){A[r].y=t.pos+n,n+=e,r++}))}))}var kv=4;var Lv=4,Hv=4;var Tv=100,Dv=function(){function t(t){void 0===t&&(t={}),this.bitmap={};var e=t.xGap,n=void 0===e?1:e,A=t.yGap,r=void 0===A?8:A;this.xGap=n,this.yGap=r}return t.prototype.hasGap=function(t){for(var e=!0,n=this.bitmap,A=Math.round(t.minX),r=Math.round(t.maxX),i=Math.round(t.minY),o=Math.round(t.maxY),a=A;a<=r;a+=1)if(n[a]){if(a===A||a===r){for(var s=i;s<=o;s++)if(n[a][s]){e=!1;break}}else if(n[a][i]||n[a][o]){e=!1;break}}else n[a]={};return e},t.prototype.fillGap=function(t){for(var e=this.bitmap,n=Math.round(t.minX),A=Math.round(t.maxX),r=Math.round(t.minY),i=Math.round(t.maxY),o=n;o<=A;o+=1)e[o]||(e[o]={});for(o=n;o<=A;o+=this.xGap){for(var a=r;a<=i;a+=this.yGap)e[o][a]=!0;e[o][i]=!0}if(1!==this.yGap)for(o=r;o<=i;o+=1)e[n][o]=!0,e[A][o]=!0;if(1!==this.xGap)for(o=n;o<=A;o+=1)e[o][r]=!0,e[o][i]=!0},t.prototype.destroy=function(){this.bitmap={}},t}();function Pv(t,e,n,A){var r=t.getCanvasBBox(),i=r.width,o=r.height,a={x:e,y:n,textAlign:"center"};switch(A){case 0:a.y-=o+1,a.x+=1,a.textAlign="left";break;case 1:a.y-=o+1,a.x-=1,a.textAlign="right";break;case 2:a.y+=o+1,a.x-=1,a.textAlign="right";break;case 3:a.y+=o+1,a.x+=1,a.textAlign="left";break;case 5:a.y-=2*o+2;break;case 6:a.y+=2*o+2;break;case 7:a.x+=i+1,a.textAlign="left";break;case 8:a.x-=i+1,a.textAlign="right"}return t.attr(a),t.getCanvasBBox()}function Ov(t){if(t.length>4)return[];var e=function(t,e){return[e.x-t.x,e.y-t.y]};return[e(t[0],t[1]),e(t[1],t[2])]}function Rv(t,e,n){void 0===e&&(e=0),void 0===n&&(n={x:0,y:0});var A=t.x,r=t.y;return{x:(A-n.x)*Math.cos(-e)+(r-n.y)*Math.sin(-e)+n.x,y:(n.x-A)*Math.sin(-e)+(r-n.y)*Math.cos(-e)+n.y}}function Kv(t){var e=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],n=t.rotation;return n?[Rv(e[0],n,e[0]),Rv(e[1],n,e[0]),Rv(e[2],n,e[0]),Rv(e[3],n,e[0])]:e}function Vv(t,e){if(t.length>4)return{min:0,max:0};var n=[];return t.forEach((function(t){var A,r;n.push((A=[t.x,t.y],r=e,(A[0]||0)*(r[0]||0)+(A[1]||0)*(r[1]||0)+(A[2]||0)*(r[2]||0)))})),{min:Math.min.apply(Math,Nt([],Vt(n),!1)),max:Math.max.apply(Math,Nt([],Vt(n),!1))}}function Gv(t,e){return t.max>e.min&&t.min<e.max}function Nv(t){return["x","y","width","height"].every((function(e){return"number"==typeof(n=t[e])&&!Number.isNaN(n)&&n!==1/0&&n!==-1/0;var n}))}function _v(t,e,n){if(void 0===n&&(n=0),!Nv(t)||!Nv(e))return!1;if(!t.rotation&&!e.rotation)return function(t,e,n){return void 0===n&&(n=0),!(e.x>t.x+t.width+n||e.x+e.width<t.x-n||e.y>t.y+t.height+n||e.y+e.height<t.y-n)}(t,e,n);for(var A=Kv(t),r=Kv(e),i=Ov(A).concat(Ov(r)),o=0;o<i.length;o++){var a=i[o];if(!Gv(Vv(A,a),Vv(r,a)))return!1}return!0}var Xv=function(){function t(t){var e=this;this.queue=[],this.worker=new Worker(t),this.worker.onmessage=function(t){var n;null===(n=e.queue.shift())||void 0===n||n.resolve(t)},this.worker.onmessageerror=function(t){var n;console.warn("[AntV G2] Web worker is not available"),null===(n=e.queue.shift())||void 0===n||n.reject(t)}}return t.prototype.post=function(t,e){var n=this;return new Promise((function(A,r){n.queue.push({resolve:A,reject:r});try{n.worker.postMessage(t)}catch(i){console.warn("[AntV G2] Web worker is not available"),jt(e)&&e()}}))},t.prototype.destroy=function(){this.worker.terminate()},t}();var Yv="\n   self.onmessage = ".concat(function(t){var e=function(){function t(t){if(t.length>4)return[];var e=function(t,e){return[e.x-t.x,e.y-t.y]};return[e(t[0],t[1]),e(t[1],t[2])]}function e(t,e,n){void 0===e&&(e=0),void 0===n&&(n={x:0,y:0});var A=t.x,r=t.y;return{x:(A-n.x)*Math.cos(-e)+(r-n.y)*Math.sin(-e)+n.x,y:(n.x-A)*Math.sin(-e)+(r-n.y)*Math.cos(-e)+n.y}}function n(t){var n=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],A=t.rotation;return A?[e(n[0],A,n[0]),e(n[1],A,n[0]),e(n[2],A,n[0]),e(n[3],A,n[0])]:n}function A(t,e){if(t.length>4)return{min:0,max:0};var n=[];return t.forEach((function(t){var A,r;n.push((A=[t.x,t.y],r=e,(A[0]||0)*(r[0]||0)+(A[1]||0)*(r[1]||0)+(A[2]||0)*(r[2]||0)))})),{min:Math.min.apply(null,n),max:Math.max.apply(null,n)}}function r(t,e){return t.max>e.min&&t.min<e.max}function i(t){return["x","y","width","height"].every((function(e){return"number"==typeof(n=t[e])&&!Number.isNaN(n)&&n!==1/0&&n!==-1/0;var n}))}return{intersect:function(e,o,a){if(void 0===a&&(a=0),!i(e)||!i(o))return!1;if(!e.rotation&&!o.rotation)return function(t,e,n){return void 0===n&&(n=0),!(e.x>t.x+t.width+n||e.x+e.width<t.x-n||e.y>t.y+t.height+n||e.y+e.height<t.y-n)}(e,o,a);for(var s=n(e),l=n(o),u=t(s).concat(t(l)),c=0;c<u.length;c++){var h=u[c];if(!r(A(s,h),A(l,h)))return!1}return!0}}}().intersect;var n={"hide-overlap":function(t){for(var n=t.slice(),A=0;A<n.length;A++){var r=n[A];if(r.visible)for(var i=A+1;i<n.length;i++){var o=n[i];r!==o&&o.visible&&e(r,o)&&(o.visible=!1)}}return n}};try{var A=JSON.parse(t.data);if(!A||!A.type||!n[A.type])return;var r=A.type,i=A.items,o=n[r](i);self.postMessage(o)}catch(a){throw a}}.toString(),"\n"),zv=function(t){for(var e=t.slice(),n=0;n<e.length;n++){var A=e[n];if(A.visible)for(var r=n+1;r<e.length;r++){var i=e[r];A!==i&&i.visible&&_v(A,i)&&(i.visible=!1)}}return e},Wv=new Map,jv=function(t){if("undefined"!=typeof window){var e;try{e=new Blob([t.toString()],{type:"application/javascript"})}catch(n){(e=new window.BlobBuilder).append(t.toString()),e=e.getBlob()}return new Xv(URL.createObjectURL(e))}}(Yv);var Jv,qv={"#5B8FF9":!0};function Zv(t,e,n){return!!t.getAdjust("stack")||e.every((function(e,A){var r=n[A];return function(t,e,n){var A=t.coordinate,r=ud(e),i=Eh.fromObject(r.getCanvasBBox()),o=Eh.fromObject(n.getBBox());return A.isTransposed?o.height>=i.height:o.width>=i.width}(t,e,r)}))}function $v(t,e,n){return t.some((function(t){return n(t,e)}))}function tm(t,e){return $v(t,e,(function(t,e){var n,A,r,i=ud(t),o=ud(e);return n=i.getCanvasBBox(),A=o.getCanvasBBox(),void 0===(r=2)&&(r=0),Math.max(0,Math.min(n.x+n.width+r,A.x+A.width+r)-Math.max(n.x-r,A.x-r))*Math.max(0,Math.min(n.y+n.height+r,A.y+A.height+r)-Math.max(n.y-r,A.y-r))>0}))}function em(t,e,n){return t.some((function(t){return n(t,e)}))}function nm(t,e){return em(t,e,(function(t,e){var n,A,r,i=ud(t),o=ud(e);return n=i.getCanvasBBox(),A=o.getCanvasBBox(),void 0===(r=2)&&(r=0),Math.max(0,Math.min(n.x+n.width+r,A.x+A.width+r)-Math.max(n.x-r,A.x-r))*Math.max(0,Math.min(n.y+n.height+r,A.y+A.height+r)-Math.max(n.y-r,A.y-r))>0}))}var Am=Je((function(t,e){void 0===e&&(e={});var n=e.fontSize,A=e.fontFamily,r=e.fontWeight,i=e.fontStyle,o=e.fontVariant,a=(Jv||(Jv=document.createElement("canvas").getContext("2d")),Jv);return a.font=[i,o,r,"".concat(n,"px"),A].join(" "),a.measureText(pe(t)?t:"").width}),(function(t,e){return void 0===e&&(e={}),Nt([t],Vt(Le(e)),!1).join("")}));function rm(t,e,n,A,r){var i,o,a=n.start,s=n.end,l=n.getWidth(),u=n.getHeight();"y"===r?(i=a.x+l/2,o=A.y<a.y?A.y:a.y):"x"===r?(i=A.x>a.x?A.x:a.x,o=a.y+u/2):"xy"===r&&(n.isPolar?(i=n.getCenter().x,o=n.getCenter().y):(i=(a.x+s.x)/2,o=(a.y+s.y)/2));var c=function(t,e,n){var A,r=Vt(e,2),i=r[0],o=r[1];return t.applyToMatrix([i,o,1]),"x"===n?(t.setMatrix(gr(t.getMatrix(),[["t",-i,-o],["s",.01,1],["t",i,o]])),A=gr(t.getMatrix(),[["t",-i,-o],["s",100,1],["t",i,o]])):"y"===n?(t.setMatrix(gr(t.getMatrix(),[["t",-i,-o],["s",1,.01],["t",i,o]])),A=gr(t.getMatrix(),[["t",-i,-o],["s",1,100],["t",i,o]])):"xy"===n&&(t.setMatrix(gr(t.getMatrix(),[["t",-i,-o],["s",.01,.01],["t",i,o]])),A=gr(t.getMatrix(),[["t",-i,-o],["s",100,100],["t",i,o]])),A}(t,[i,o],r);t.animate({matrix:c},e)}function im(t,e){var n,A=lg(t,e),r=A.startAngle,i=A.endAngle;return!Ue(r,.5*-Math.PI)&&r<.5*-Math.PI&&(r+=2*Math.PI),!Ue(i,.5*-Math.PI)&&i<.5*-Math.PI&&(i+=2*Math.PI),0===e[5]&&(r=(n=Vt([i,r],2))[0],i=n[1]),Ue(r,1.5*Math.PI)&&(r=-.5*Math.PI),Ue(i,-.5*Math.PI)&&!Ue(r,i)&&(i=1.5*Math.PI),{startAngle:r,endAngle:i}}function om(t){var e;return"M"===t[0]||"L"===t[0]?e=[t[1],t[2]]:"a"!==t[0]&&"A"!==t[0]&&"C"!==t[0]||(e=[t[t.length-2],t[t.length-1]]),e}function am(t){var e,n,A,r=t.filter((function(t){return"A"===t[0]||"a"===t[0]}));if(0===r.length)return{startAngle:0,endAngle:0,radius:0,innerRadius:0};var i=r[0],o=r.length>1?r[1]:r[0],a=t.indexOf(i),s=t.indexOf(o),l=om(t[a-1]),u=om(t[s-1]),c=im(l,i),h=c.startAngle,p=c.endAngle,f=im(u,o),d=f.startAngle,g=f.endAngle;Ue(h,d)&&Ue(p,g)?(n=h,A=p):(n=Math.min(h,d),A=Math.max(p,g));var y=i[1],v=r[r.length-1][1];return y<v?(y=(e=Vt([v,y],2))[0],v=e[1]):y===v&&(v=0),{startAngle:n,endAngle:A,radius:y,innerRadius:v}}function sm(t,e,n){if(t.isGroup())$t(t.getChildren(),(function(t){sm(t,e,n)}));else{var A=t.getBBox(),r=(A.minX+A.maxX)/2,i=(A.minY+A.maxY)/2;if(t.applyToMatrix([r,i,1]),"zoomIn"===n){var o=gr(t.getMatrix(),[["t",-r,-i],["s",.01,.01],["t",r,i]]);t.setMatrix(o),t.animate({matrix:gr(t.getMatrix(),[["t",-r,-i],["s",100,100],["t",r,i]])},e)}else t.animate({matrix:gr(t.getMatrix(),[["t",-r,-i],["s",.01,.01],["t",r,i]])},Dt(Dt({},e),{callback:function(){t.remove(!0),jt(e.callback)&&e.callback()}}))}}function lm(t){return[wn.TOP,wn.BOTTOM].includes(t)?{offsetX:0,offsetY:t===wn.TOP?-8:8,style:{textAlign:"center",textBaseline:t===wn.TOP?"bottom":"top"}}:[wn.LEFT,wn.RIGHT].includes(t)?{offsetX:t===wn.LEFT?-8:8,offsetY:0,style:{textAlign:t===wn.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function um(t,e,n){return{x:t.x+e*Math.cos(n),y:t.y+e*Math.sin(n)}}var cm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getDefaultCfg=function(){return Ze({},t.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:t.prototype.getDefaultTitleCfg.call(this)})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.getRegion=function(t,e){var n=2*Math.PI/t,A=-1*Math.PI/2+n*e,r=.5/(1+1/Math.sin(n/2)),i=um({x:.5,y:.5},.5-r,A),o=5*Math.PI/4,a=1*Math.PI/4;return{start:um(i,r,o),end:um(i,r,a)}},e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.beforeEachView=function(t,e){},e.prototype.generateFacets=function(t){var e=this,n=this.cfg,A=n.fields,r=n.type,i=Vt(A,1)[0];if(!i)throw new Error("No `fields` specified!");var o=this.getFieldValues(t,i),a=o.length,s=[];return o.forEach((function(n,A){var l=[{field:i,value:n,values:o}],u=Yt(t,e.getFacetDataFilter(l)),c={type:r,data:u,region:e.getRegion(a,A),columnValue:n,columnField:i,columnIndex:A,columnValuesLength:a,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};s.push(c)})),s},e.prototype.getXAxisOption=function(t,e,n,A){return n},e.prototype.getYAxisOption=function(t,e,n,A){return n},e.prototype.renderTitle=function(){var t=this;$t(this.facets,(function(e){var n=e.columnValue,A=e.view,r=on(t.cfg.title,"formatter"),i=Ze({position:["50%","0%"],content:r?r(n):n},lm(wn.TOP),t.cfg.title);A.annotation().text(i)}))},e}(zh),hm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getDefaultCfg=function(){return Ze({},t.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:t.prototype.getDefaultTitleCfg.call(this)})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.beforeEachView=function(t,e){},e.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields,A=this.cfg.cols,r=Vt(n,1)[0];if(!r)throw new Error("No `fields` specified!");var i=this.getFieldValues(t,r),o=i.length;A=A||o;var a=this.getPageCount(o,A),s=[];return i.forEach((function(n,l){var u=e.getRowCol(l,A),c=u.row,h=u.col,p=[{field:r,value:n,values:i}],f=Yt(t,e.getFacetDataFilter(p)),d={type:e.cfg.type,data:f,region:e.getRegion(a,A,h,c),columnValue:n,rowValue:n,columnField:r,rowField:null,columnIndex:h,rowIndex:c,columnValuesLength:A,rowValuesLength:a,total:o};s.push(d)})),s},e.prototype.getXAxisOption=function(t,e,n,A){return A.rowIndex!==A.rowValuesLength-1&&A.columnValuesLength*A.rowIndex+A.columnIndex+1+A.columnValuesLength<=A.total?Dt(Dt({},n),{label:null,title:null}):n},e.prototype.getYAxisOption=function(t,e,n,A){return 0!==A.columnIndex?Dt(Dt({},n),{title:null,label:null}):n},e.prototype.renderTitle=function(){var t=this;$t(this.facets,(function(e){var n=e.columnValue,A=e.view,r=on(t.cfg.title,"formatter"),i=Ze({position:["50%","0%"],content:r?r(n):n},lm(wn.TOP),t.cfg.title);A.annotation().text(i)}))},e.prototype.getPageCount=function(t,e){return Math.floor((t+e-1)/e)},e.prototype.getRowCol=function(t,e){return{row:Math.floor(t/e),col:t%e}},e}(zh),pm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getDefaultCfg=function(){return Ze({},t.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:Dt({},t.prototype.getDefaultTitleCfg.call(this)),rowTitle:Dt({},t.prototype.getDefaultTitleCfg.call(this))})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.beforeEachView=function(t,e){},e.prototype.generateFacets=function(t){for(var e=this.cfg,n=e.fields,A=e.type,r=n.length,i=r,o=[],a=0;a<i;a++)for(var s=n[a],l=0;l<r;l++){var u=n[l],c={type:A,data:t,region:this.getRegion(r,i,a,l),columnValue:s,rowValue:u,columnField:s,rowField:u,columnIndex:a,rowIndex:l,columnValuesLength:i,rowValuesLength:r};o.push(c)}return o},e.prototype.getXAxisOption=function(t,e,n,A){return A.rowIndex!==A.rowValuesLength-1?Dt(Dt({},n),{label:null,title:null}):n},e.prototype.getYAxisOption=function(t,e,n,A){return 0!==A.columnIndex?Dt(Dt({},n),{title:null,label:null}):n},e.prototype.renderTitle=function(){var t=this;$t(this.facets,(function(e,n){var A=e.columnIndex,r=e.rowIndex,i=e.columnValuesLength;e.rowValuesLength;var o=e.columnValue,a=e.rowValue,s=e.view;if(0===r){var l=on(t.cfg.columnTitle,"formatter"),u=Ze({position:["50%","0%"],content:l?l(o):o},lm(wn.TOP),t.cfg.columnTitle);s.annotation().text(u)}if(A===i-1){l=on(t.cfg.rowTitle,"formatter"),u=Ze({position:["100%","50%"],content:l?l(a):a},lm(wn.RIGHT),t.cfg.rowTitle);s.annotation().text(u)}}))},e}(zh),fm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getDefaultCfg=function(){return Ze({},t.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:t.prototype.getDefaultTitleCfg.call(this),transpose:!1})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.beforeEachView=function(t,e){this.cfg.transpose?e.columnIndex%2==0?t.coordinate().transpose().reflect("x"):t.coordinate().transpose():e.rowIndex%2!=0&&t.coordinate().reflect("y")},e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.generateFacets=function(t){var e,n,A=this,r=Vt(this.cfg.fields,1)[0],i=[],o=1,a=1,s=[""],l=[""];return this.cfg.transpose?(e=r,s=this.getFieldValues(t,e).slice(0,2),o=s.length):(n=r,l=this.getFieldValues(t,n).slice(0,2),a=l.length),s.forEach((function(r,u){l.forEach((function(c,h){var p=[{field:e,value:r,values:s},{field:n,value:c,values:l}],f=Yt(t,A.getFacetDataFilter(p)),d={type:A.cfg.type,data:f,region:A.getRegion(a,o,u,h),columnValue:r,rowValue:c,columnField:e,rowField:n,columnIndex:u,rowIndex:h,columnValuesLength:o,rowValuesLength:a};i.push(d)}))})),i},e.prototype.getXAxisOption=function(t,e,n,A){return 1===A.columnIndex||1===A.rowIndex?Dt(Dt({},n),{label:null,title:null}):n},e.prototype.getYAxisOption=function(t,e,n,A){return n},e.prototype.renderTitle=function(){var t=this;$t(this.facets,(function(e,n){var A=e.columnValue,r=e.rowValue,i=e.view,o=on(t.cfg.title,"formatter");if(t.cfg.transpose){var a=Ze({position:["50%","0%"],content:o?o(A):A},lm(wn.TOP),t.cfg.title);i.annotation().text(a)}else{a=Ze({position:["100%","50%"],content:o?o(r):r},lm(wn.RIGHT),t.cfg.title);i.annotation().text(a)}}))},e}(zh),dm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.beforeEachView=function(t,e){},e.prototype.getDefaultCfg=function(){return Ze({},t.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:Dt({},t.prototype.getDefaultTitleCfg.call(this)),rowTitle:Dt({},t.prototype.getDefaultTitleCfg.call(this))})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.generateFacets=function(t){var e=this,n=Vt(this.cfg.fields,2),A=n[0],r=n[1],i=[],o=1,a=1,s=[""],l=[""];return A&&(s=this.getFieldValues(t,A),o=s.length),r&&(l=this.getFieldValues(t,r),a=l.length),s.forEach((function(n,u){l.forEach((function(c,h){var p=[{field:A,value:n,values:s},{field:r,value:c,values:l}],f=Yt(t,e.getFacetDataFilter(p)),d={type:e.cfg.type,data:f,region:e.getRegion(a,o,u,h),columnValue:n,rowValue:c,columnField:A,rowField:r,columnIndex:u,rowIndex:h,columnValuesLength:o,rowValuesLength:a};i.push(d)}))})),i},e.prototype.renderTitle=function(){var t=this;$t(this.facets,(function(e,n){var A=e.columnIndex,r=e.rowIndex,i=e.columnValuesLength,o=e.columnValue,a=e.rowValue,s=e.view;if(0===r){var l=on(t.cfg.columnTitle,"formatter"),u=Ze({position:["50%","0%"],content:l?l(o):o},lm(wn.TOP),t.cfg.columnTitle);s.annotation().text(u)}if(A===i-1){l=on(t.cfg.rowTitle,"formatter"),u=Ze({position:["100%","50%"],content:l?l(a):a},lm(wn.RIGHT),t.cfg.rowTitle);s.annotation().text(u)}}))},e.prototype.getXAxisOption=function(t,e,n,A){return A.rowIndex!==A.rowValuesLength-1?Dt(Dt({},n),{title:null,label:null}):A.columnIndex!==Math.floor((A.columnValuesLength-1)/2)?Dt(Dt({},n),{title:null}):n},e.prototype.getYAxisOption=function(t,e,n,A){return 0!==A.columnIndex?Dt(Dt({},n),{title:null,label:null}):A.rowIndex!==Math.floor((A.rowValuesLength-1)/2)?Dt(Dt({},n),{title:null}):n},e}(zh),gm=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.afterChartRender=function(){e.facets&&e.cfg.line&&(e.container.clear(),e.drawLines(e.facets))},e}return Tt(e,t),e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.beforeEachView=function(t,e){},e.prototype.init=function(){t.prototype.init.call(this),this.view.on(Un.AFTER_RENDER,this.afterChartRender)},e.prototype.getDefaultCfg=function(){return Ze({},t.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:t.prototype.getDefaultTitleCfg.call(this)})},e.prototype.generateFacets=function(t){if(!this.cfg.fields.length)throw new Error("Please specify for the fields for rootFacet!");var e=[],n={type:this.cfg.type,data:t,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return e.push(n),n.children=this.getChildFacets(t,1,e),this.setRegion(e),e},e.prototype.setRegion=function(t){var e=this;this.forceColIndex(t),t.forEach((function(t){t.region=e.getRegion(t.rowValuesLength,t.columnValuesLength,t.columnIndex,t.rowIndex)}))},e.prototype.getRegion=function(t,e,n,A){var r=1/e,i=1/t,o={x:r*n,y:i*A};return{start:o,end:{x:o.x+r,y:o.y+2*i/3}}},e.prototype.forceColIndex=function(t){var e,n,A=this,r=[],i=0;t.forEach((function(t){A.isLeaf(t)&&(r.push(t),t.columnIndex=i,i++)})),r.forEach((function(t){t.columnValuesLength=r.length}));for(var o=this.cfg.fields.length-1;o>=0;o--){var a=this.getFacetsByLevel(t,o);try{for(var s=(e=void 0,Kt(a)),l=s.next();!l.done;l=s.next()){var u=l.value;this.isLeaf(u)||(u.originColIndex=u.columnIndex,u.columnIndex=this.getRegionIndex(u.children),u.columnValuesLength=r.length)}}catch(c){e={error:c}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}}},e.prototype.getFacetsByLevel=function(t,e){var n=[];return t.forEach((function(t){t.rowIndex===e&&n.push(t)})),n},e.prototype.getRegionIndex=function(t){var e=t[0];return(t[t.length-1].columnIndex-e.columnIndex)/2+e.columnIndex},e.prototype.isLeaf=function(t){return!t.children||!t.children.length},e.prototype.getRows=function(){return this.cfg.fields.length+1},e.prototype.getChildFacets=function(t,e,n){var A=this,r=this.cfg.fields;if(!(r.length<e)){var i=[],o=r[e-1],a=this.getFieldValues(t,o);return a.forEach((function(r,s){var l=[{field:o,value:r,values:a}],u=t.filter(A.getFacetDataFilter(l));if(u.length){var c={type:A.cfg.type,data:u,region:null,columnValue:r,rowValue:"",columnField:o,rowField:"",columnIndex:s,rowValuesLength:A.getRows(),columnValuesLength:1,rowIndex:e,children:A.getChildFacets(u,e+1,n)};i.push(c),n.push(c)}})),i}},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.renderTitle=function(){var t=this;$t(this.facets,(function(e){var n=e.columnValue,A=e.view,r=on(t.cfg.title,"formatter"),i=Ze({position:["50%","0%"],content:r?r(n):n},lm(wn.TOP),t.cfg.title);A.annotation().text(i)}))},e.prototype.drawLines=function(t){var e=this;t.forEach((function(t){if(!e.isLeaf(t)){var n=t.children;e.addFacetLines(t,n)}}))},e.prototype.addFacetLines=function(t,e){var n=this,A=t.view.coordinateBBox,r={x:A.x+A.width/2,y:A.y+A.height};e.forEach((function(t){var e=t.view.coordinateBBox,A={x:e.bl.x+(e.tr.x-e.bl.x)/2,y:e.tr.y},i={x:r.x,y:r.y+(A.y-r.y)/2},o={x:A.x,y:i.y};n.drawLine([r,i,o,A])}))},e.prototype.getPath=function(t){var e=[];return this.cfg.line.smooth?(e.push(["M",t[0].x,t[0].y]),e.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach((function(t,n){0===n?e.push(["M",t.x,t.y]):e.push(["L",t.x,t.y])})),e},e.prototype.drawLine=function(t){var e=this.getPath(t),n=this.cfg.line.style;this.container.addShape("path",{attrs:ze({path:e},n)})},e.prototype.getXAxisOption=function(t,e,n,A){return A.rowIndex!==A.rowValuesLength-1?Dt(Dt({},n),{title:null,label:null}):n},e.prototype.getYAxisOption=function(t,e,n,A){return 0!==A.originColIndex&&0!==A.columnIndex?Dt(Dt({},n),{title:null,label:null}):n},e}(zh);function ym(t){var e=Nt([],Vt(t),!1);e.sort((function(t,e){return t-e}));var n=e.length;return 0===n?0:n%2==1?e[(n-1)/2]:(e[n/2]+e[n/2-1])/2}function vm(t,e){if(!e)return null;var n,A,r;switch(t){case"start":return 0;case"center":return.5;case"end":return 1;case"median":n=e.isCategory?ym(e.values.map((function(t,e){return e}))):ym(e.values);break;case"mean":n=e.isCategory?(e.values.length-1)/2:(A=e.values,r=ce(A,(function(t,e){return t+(isNaN(e)||!be(e)?0:e)}),0),0===A.length?0:r/A.length);break;case"min":n=e.isCategory?0:e[t];break;case"max":n=e.isCategory?e.values.length-1:e[t];break;default:n=t}return e.scale(n)}var mm=["regionFilter","shape"],Bm=function(t){function e(e){var n=t.call(this,e)||this;return n.cache=new Map,n.foregroundContainer=n.view.getLayer(Bn.FORE).addGroup(),n.backgroundContainer=n.view.getLayer(Bn.BG).addGroup(),n.option=[],n}return Tt(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.layout=function(){this.update()},e.prototype.render=function(){},e.prototype.update=function(){var t=this;this.onAfterRender((function(){var e=new Map;$t(t.option,(function(n){if(Xt(mm,n.type)){var A=t.updateOrCreate(n);A&&e.set(t.getCacheKey(n),A)}})),t.cache=t.syncCache(e)}));var e=new Map;$t(this.option,(function(n){if(!Xt(mm,n.type)){var A=t.updateOrCreate(n);A&&e.set(t.getCacheKey(n),A)}})),this.cache=this.syncCache(e)},e.prototype.clear=function(e){void 0===e&&(e=!1),t.prototype.clear.call(this),this.clearComponents(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),e&&(this.option=[])},e.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},e.prototype.getComponents=function(){var t=[];return this.cache.forEach((function(e){t.push(e)})),t},e.prototype.clearComponents=function(){this.getComponents().forEach((function(t){t.component.destroy()})),this.cache.clear()},e.prototype.onAfterRender=function(t){var e=!1;this.view.getOptions().animate&&this.view.geometries.forEach((function(n){n.animateOption&&(n.once(Mn.AFTER_DRAW_ANIMATE,(function(){t()})),e=!0)})),e||this.view.getRootView().once(Un.AFTER_RENDER,(function(){t()}))},e.prototype.createAnnotation=function(t){var e=t.type,n=qu[Pe(e)];if(n){var A=this.getAnnotationTheme(e),r=this.getAnnotationCfg(e,t,A);return r?{component:new n(r),layer:this.isTop(r)?Bn.FORE:Bn.BG,direction:wn.NONE,type:Fn.ANNOTATION,extra:t}:null}},e.prototype.annotation=function(t){this.option.push(t)},e.prototype.arc=function(t){return this.annotation(Dt({type:"arc"},t)),this},e.prototype.image=function(t){return this.annotation(Dt({type:"image"},t)),this},e.prototype.line=function(t){return this.annotation(Dt({type:"line"},t)),this},e.prototype.region=function(t){return this.annotation(Dt({type:"region"},t)),this},e.prototype.text=function(t){return this.annotation(Dt({type:"text"},t)),this},e.prototype.dataMarker=function(t){return this.annotation(Dt({type:"dataMarker"},t)),this},e.prototype.dataRegion=function(t){this.annotation(Dt({type:"dataRegion"},t))},e.prototype.regionFilter=function(t){this.annotation(Dt({type:"regionFilter"},t))},e.prototype.shape=function(t){this.annotation(Dt({type:"shape"},t))},e.prototype.html=function(t){this.annotation(Dt({type:"html"},t))},e.prototype.parsePosition=function(t){var e,n,A=this.view.getXScale(),r=this.view.getScalesByDim("y"),i=jt(t)?t.call(null,A,r):t,o=0,a=0;if(qt(i)){var s=Vt(i,2),l=s[0],u=s[1];if(pe(l)&&-1!==l.indexOf("%")&&!isNaN(l.slice(0,-1)))return this.parsePercentPosition(i);o=vm(l,A),a=vm(u,Object.values(r)[0])}else if(!Jt(i))try{for(var c=Kt(te(i)),h=c.next();!h.done;h=c.next()){var p=h.value,f=i[p];p===A.field&&(o=vm(f,A)),r[p]&&(a=vm(f,r[p]))}}catch(d){e={error:d}}finally{try{h&&!h.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return isNaN(o)||isNaN(a)?null:this.view.getCoordinate().convert({x:o,y:a})},e.prototype.getRegionPoints=function(t,e){var n,A=this,r=this.view.getXScale(),i=this.view.getScalesByDim("y"),o=Object.values(i)[0],a=r.field,s=this.view.getData(),l=qt(t)?t[0]:t[a],u=qt(e)?e[0]:e[a],c=[];return $t(s,(function(t,e){if(t[a]===l&&(n=e),e>=n){var r=A.parsePosition([t[a],t[o.field]]);r&&c.push(r)}if(t[a]===u)return!1})),c},e.prototype.parsePercentPosition=function(t){var e=parseFloat(t[0])/100,n=parseFloat(t[1])/100,A=this.view.getCoordinate(),r=A.start,i=A.end,o=Math.min(r.x,i.x),a=Math.min(r.y,i.y);return{x:A.getWidth()*e+o,y:A.getHeight()*n+a}},e.prototype.getCoordinateBBox=function(){var t=this.view.getCoordinate(),e=t.start,n=t.end,A=t.getWidth(),r=t.getHeight(),i={x:Math.min(e.x,n.x),y:Math.min(e.y,n.y)};return{x:i.x,y:i.y,minX:i.x,minY:i.y,maxX:i.x+A,maxY:i.y+r,width:A,height:r}},e.prototype.getAnnotationCfg=function(t,e,n){var A=this,r=this.view.getCoordinate(),i=this.view.getCanvas(),o={};if(Jt(e))return null;var a=e.start,s=e.end,l=e.position,u=this.parsePosition(a),c=this.parsePosition(s),h=this.parsePosition(l);if(!(!["arc","image","line","region","regionFilter"].includes(t)||u&&c))return null;if(["text","dataMarker","html"].includes(t)&&!h)return null;if("arc"===t){var p=e;p.start,p.end;var f=Pt(p,["start","end"]),d=Ih(r,u),g=Ih(r,c);d>g&&(g=2*Math.PI+g),o=Dt(Dt({},f),{center:r.getCenter(),radius:Sh(r,u),startAngle:d,endAngle:g})}else if("image"===t){var y=e;y.start,y.end;f=Pt(y,["start","end"]);o=Dt(Dt({},f),{start:u,end:c,src:e.src})}else if("line"===t){var v=e;v.start,v.end;f=Pt(v,["start","end"]);o=Dt(Dt({},f),{start:u,end:c,text:on(e,"text",null)})}else if("region"===t){var m=e;m.start,m.end;f=Pt(m,["start","end"]);o=Dt(Dt({},f),{start:u,end:c})}else if("text"===t){var B=this.view.getData(),x=e;x.position;var w=x.content,C=(f=Pt(x,["position","content"]),w);jt(w)&&(C=w(B)),o=Dt(Dt(Dt({},h),f),{content:C})}else if("dataMarker"===t){var F=e;F.position;var b=F.point,Q=F.line,U=F.text,E=F.autoAdjust,M=F.direction;f=Pt(F,["position","point","line","text","autoAdjust","direction"]);o=Dt(Dt(Dt({},f),h),{coordinateBBox:this.getCoordinateBBox(),point:b,line:Q,text:U,autoAdjust:E,direction:M})}else if("dataRegion"===t){var S=e,I=S.start,k=S.end,L=S.region,H=(U=S.text,S.lineLength);f=Pt(S,["start","end","region","text","lineLength"]);o=Dt(Dt({},f),{points:this.getRegionPoints(I,k),region:L,text:U,lineLength:H})}else if("regionFilter"===t){var T=e;T.start,T.end;var D=T.apply,P=T.color,O=(f=Pt(T,["start","end","apply","color"]),this.view.geometries),R=[],K=function(t){t&&(t.isGroup()?t.getChildren().forEach((function(t){return K(t)})):R.push(t))};$t(O,(function(t){D?Xt(D,t.type)&&$t(t.elements,(function(t){K(t.shape)})):$t(t.elements,(function(t){K(t.shape)}))})),o=Dt(Dt({},f),{color:P,shapes:R,start:u,end:c})}else if("shape"===t){var V=e,G=V.render,N=Pt(V,["render"]);o=Dt(Dt({},N),{render:function(t){if(jt(e.render))return G(t,A.view,{parsePosition:A.parsePosition.bind(A)})}})}else if("html"===t){var _=e,X=_.html;_.position;N=Pt(_,["html","position"]);o=Dt(Dt(Dt({},N),h),{parent:i.get("el").parentNode,html:function(t){return jt(X)?X(t,A.view):X}})}var Y=Ze({},n,Dt(Dt({},o),{top:e.top,style:e.style,offsetX:e.offsetX,offsetY:e.offsetY}));return"html"!==t&&(Y.container=this.getComponentContainer(Y)),Y.animate=this.view.getOptions().animate&&Y.animate&&on(e,"animate",Y.animate),Y.animateOption=Ze({},Kf,Y.animateOption,e.animateOption),Y},e.prototype.isTop=function(t){return on(t,"top",!0)},e.prototype.getComponentContainer=function(t){return this.isTop(t)?this.foregroundContainer:this.backgroundContainer},e.prototype.getAnnotationTheme=function(t){return on(this.view.getTheme(),["components","annotation",t],{})},e.prototype.updateOrCreate=function(t){var e=this.cache.get(this.getCacheKey(t));if(e){var n=t.type,A=this.getAnnotationTheme(n),r=this.getAnnotationCfg(n,t,A);r&&Qh(r,["container"]),e.component.update(Dt(Dt({},r||{}),{visible:!!r})),Xt(mm,t.type)&&e.component.render()}else(e=this.createAnnotation(t))&&(e.component.init(),Xt(mm,t.type)&&e.component.render());return e},e.prototype.syncCache=function(t){var e=this,n=new Map(this.cache);return t.forEach((function(t,e){n.set(e,t)})),n.forEach((function(t,A){re(e.option,(function(t){return A===e.getCacheKey(t)}))||(t.component.destroy(),n.delete(A))})),n},e.prototype.getCacheKey=function(t){return t},e}(Tf);function xm(t,e){var n=Ze({},on(t,["components","axis","common"]),on(t,["components","axis",e]));return on(n,["grid"],{})}function wm(t,e,n,A){var r=[],i=e.getTicks();return t.isPolar&&i.push({value:1,text:"",tickValue:""}),i.reduce((function(e,i,o){var a=i.value;if(A)r.push({points:[t.convert("y"===n?{x:0,y:a}:{x:a,y:0}),t.convert("y"===n?{x:1,y:a}:{x:a,y:1})]});else if(o){var s=(e.value+a)/2;r.push({points:[t.convert("y"===n?{x:0,y:s}:{x:s,y:0}),t.convert("y"===n?{x:1,y:s}:{x:s,y:1})]})}return i}),i[0]),r}function Cm(t,e,n,A,r){var i=e.values.length,o=[],a=n.getTicks();return a.reduce((function(e,n){var a=e?e.value:n.value,s=n.value,l=(a+s)/2;return"x"===r?o.push({points:[t.convert({x:A?s:l,y:0}),t.convert({x:A?s:l,y:1})]}):o.push({points:An(Array(i+1),(function(e,n){return t.convert({x:n/i,y:A?s:l})}))}),n}),a[0]),o}function Fm(t,e){var n=on(e,"grid");if(null===n)return!1;var A=on(t,"grid");return!(void 0===n&&null===A)}var bm=["container"],Qm=Dt(Dt({},Kf),{appear:null}),Um=function(t){function e(e){var n=t.call(this,e)||this;return n.cache=new Map,n.gridContainer=n.view.getLayer(Bn.BG).addGroup(),n.gridForeContainer=n.view.getLayer(Bn.FORE).addGroup(),n.axisContainer=n.view.getLayer(Bn.BG).addGroup(),n.axisForeContainer=n.view.getLayer(Bn.FORE).addGroup(),n}return Tt(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.render=function(){this.update()},e.prototype.layout=function(){var t=this,e=this.view.getCoordinate();$t(this.getComponents(),(function(n){var A,r=n.component,i=n.direction,o=n.type,a=n.extra,s=a.dim,l=a.scale,u=a.alignTick;if(o===Fn.AXIS)e.isPolar?"x"===s?A=e.isTransposed?Oh(e,i):Nh(e):"y"===s&&(A=e.isTransposed?Nh(e):Oh(e,i)):A=Oh(e,i);else if(o===Fn.GRID)if(e.isPolar){A={items:e.isTransposed?"x"===s?Cm(e,t.view.getYScales()[0],l,u,s):wm(e,l,s,u):"x"===s?wm(e,l,s,u):Cm(e,t.view.getXScale(),l,u,s),center:t.view.getCoordinate().getCenter()}}else A={items:wm(e,l,s,u)};r.update(A)}))},e.prototype.update=function(){this.option=this.view.getOptions().axes;var t=new Map;this.updateXAxes(t),this.updateYAxes(t);var e=new Map;this.cache.forEach((function(n,A){t.has(A)?e.set(A,n):n.component.destroy()})),this.cache=e},e.prototype.clear=function(){t.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.gridForeContainer.clear(),this.axisContainer.clear(),this.axisForeContainer.clear()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.gridContainer.remove(!0),this.gridForeContainer.remove(!0),this.axisContainer.remove(!0),this.axisForeContainer.remove(!0)},e.prototype.getComponents=function(){var t=[];return this.cache.forEach((function(e){t.push(e)})),t},e.prototype.updateXAxes=function(t){var e=this.view.getXScale();if(e&&!e.isIdentity){var n=_h(this.option,e.field);if(!1!==n){var A=Xh(n,wn.BOTTOM),r=Bn.BG,i="x",o=this.view.getCoordinate(),a=this.getId("axis",e.field),s=this.getId("grid",e.field);if(o.isRect){if(l=this.cache.get(a))Qh(c=this.getLineAxisCfg(e,n,A),bm),l.component.update(c),t.set(a,l);else l=this.createLineAxis(e,n,r,A,i),this.cache.set(a,l),t.set(a,l);if(u=this.cache.get(s))Qh(c=this.getLineGridCfg(e,n,A,i),bm),u.component.update(c),t.set(s,u);else(u=this.createLineGrid(e,n,r,A,i))&&(this.cache.set(s,u),t.set(s,u))}else if(o.isPolar){var l,u;if(l=this.cache.get(a)){Qh(c=o.isTransposed?this.getLineAxisCfg(e,n,wn.RADIUS):this.getCircleAxisCfg(e,n,A),bm),l.component.update(c),t.set(a,l)}else{if(o.isTransposed){if(_e(n))return;l=this.createLineAxis(e,n,r,wn.RADIUS,i)}else l=this.createCircleAxis(e,n,r,A,i);this.cache.set(a,l),t.set(a,l)}if(u=this.cache.get(s)){var c;Qh(c=o.isTransposed?this.getCircleGridCfg(e,n,wn.RADIUS,i):this.getLineGridCfg(e,n,wn.CIRCLE,i),bm),u.component.update(c),t.set(s,u)}else{if(o.isTransposed){if(_e(n))return;u=this.createCircleGrid(e,n,r,wn.RADIUS,i)}else u=this.createLineGrid(e,n,r,wn.CIRCLE,i);u&&(this.cache.set(s,u),t.set(s,u))}}}}},e.prototype.updateYAxes=function(t){var e=this;$t(this.view.getYScales(),(function(n,A){if(n&&!n.isIdentity){var r=n.field,i=_h(e.option,r);if(!1!==i){var o=Bn.BG,a="y",s=e.getId("axis",r),l=e.getId("grid",r),u=e.view.getCoordinate();if(u.isRect){var c=Xh(i,0===A?wn.LEFT:wn.RIGHT);if(h=e.cache.get(s))Qh(f=e.getLineAxisCfg(n,i,c),bm),h.component.update(f),t.set(s,h);else h=e.createLineAxis(n,i,o,c,a),e.cache.set(s,h),t.set(s,h);if(p=e.cache.get(l))Qh(f=e.getLineGridCfg(n,i,c,a),bm),p.component.update(f),t.set(l,p);else(p=e.createLineGrid(n,i,o,c,a))&&(e.cache.set(l,p),t.set(l,p))}else if(u.isPolar){var h,p;if(h=e.cache.get(s)){Qh(f=u.isTransposed?e.getCircleAxisCfg(n,i,wn.CIRCLE):e.getLineAxisCfg(n,i,wn.RADIUS),bm),h.component.update(f),t.set(s,h)}else{if(u.isTransposed){if(_e(i))return;h=e.createCircleAxis(n,i,o,wn.CIRCLE,a)}else h=e.createLineAxis(n,i,o,wn.RADIUS,a);e.cache.set(s,h),t.set(s,h)}if(p=e.cache.get(l)){var f;Qh(f=u.isTransposed?e.getLineGridCfg(n,i,wn.CIRCLE,a):e.getCircleGridCfg(n,i,wn.RADIUS,a),bm),p.component.update(f),t.set(l,p)}else{if(u.isTransposed){if(_e(i))return;p=e.createLineGrid(n,i,o,wn.CIRCLE,a)}else p=e.createCircleGrid(n,i,o,wn.RADIUS,a);p&&(e.cache.set(l,p),t.set(l,p))}}}}}))},e.prototype.createLineAxis=function(t,e,n,A,r){var i={component:new ch(this.getLineAxisCfg(t,e,A)),layer:n,direction:A===wn.RADIUS?wn.NONE:A,type:Fn.AXIS,extra:{dim:r,scale:t}};return i.component.set("field",t.field),i.component.init(),i},e.prototype.createLineGrid=function(t,e,n,A,r){var i=this.getLineGridCfg(t,e,A,r);if(i){var o={component:new ph(i),layer:n,direction:wn.NONE,type:Fn.GRID,extra:{dim:r,scale:t,alignTick:on(i,"alignTick",!0)}};return o.component.init(),o}},e.prototype.createCircleAxis=function(t,e,n,A,r){var i={component:new hh(this.getCircleAxisCfg(t,e,A)),layer:n,direction:A,type:Fn.AXIS,extra:{dim:r,scale:t}};return i.component.set("field",t.field),i.component.init(),i},e.prototype.createCircleGrid=function(t,e,n,A,r){var i=this.getCircleGridCfg(t,e,A,r);if(i){var o={component:new fh(i),layer:n,direction:wn.NONE,type:Fn.GRID,extra:{dim:r,scale:t,alignTick:on(i,"alignTick",!0)}};return o.component.init(),o}},e.prototype.getLineAxisCfg=function(t,e,n){var A=on(e,["top"])?this.axisForeContainer:this.axisContainer,r=this.view.getCoordinate(),i=Oh(r,n),o=Yh(t,e),a=Vh(this.view.getTheme(),n),s=on(e,["title"])?Ze({title:{style:{text:o}}},{title:Gh(this.view.getTheme(),n,e.title)},e):e,l=Ze(Dt(Dt({container:A},i),{ticks:t.getTicks().map((function(t){return{id:"".concat(t.tickValue),name:t.text,value:t.value}})),verticalFactor:r.isPolar?-1*Kh(i,r.getCenter()):Kh(i,r.getCenter()),theme:a}),a,s),u=this.getAnimateCfg(l),c=u.animate,h=u.animateOption;l.animateOption=h,l.animate=c;var p=Rh(i),f=on(l,"verticalLimitLength",p?1/3:.5);if(f<=1){var d=this.view.getCanvas().get("width"),g=this.view.getCanvas().get("height");l.verticalLimitLength=f*(p?d:g)}return l},e.prototype.getLineGridCfg=function(t,e,n,A){if(Fm(Vh(this.view.getTheme(),n),e)){var r=xm(this.view.getTheme(),n),i=Ze({container:on(e,["top"])?this.gridForeContainer:this.gridContainer},r,on(e,"grid"),this.getAnimateCfg(e));return i.items=wm(this.view.getCoordinate(),t,A,on(i,"alignTick",!0)),i}},e.prototype.getCircleAxisCfg=function(t,e,n){var A=on(e,["top"])?this.axisForeContainer:this.axisContainer,r=this.view.getCoordinate(),i=t.getTicks().map((function(t){return{id:"".concat(t.tickValue),name:t.text,value:t.value}}));t.isCategory||Math.abs(r.endAngle-r.startAngle)!==2*Math.PI||i.length&&(i[i.length-1].name="");var o=Yh(t,e),a=Vh(this.view.getTheme(),wn.CIRCLE),s=on(e,["title"])?Ze({title:{style:{text:o}}},{title:Gh(this.view.getTheme(),n,e.title)},e):e,l=Ze(Dt(Dt({container:A},Nh(this.view.getCoordinate())),{ticks:i,verticalFactor:1,theme:a}),a,s),u=this.getAnimateCfg(l),c=u.animate,h=u.animateOption;return l.animate=c,l.animateOption=h,l},e.prototype.getCircleGridCfg=function(t,e,n,A){if(Fm(Vh(this.view.getTheme(),n),e)){var r=xm(this.view.getTheme(),wn.RADIUS),i=Ze({container:on(e,["top"])?this.gridForeContainer:this.gridContainer,center:this.view.getCoordinate().getCenter()},r,on(e,"grid"),this.getAnimateCfg(e)),o=on(i,"alignTick",!0),a="x"===A?this.view.getYScales()[0]:this.view.getXScale();return i.items=Cm(this.view.getCoordinate(),a,t,o,A),i}},e.prototype.getId=function(t,e){var n=this.view.getCoordinate();return"".concat(t,"-").concat(e,"-").concat(n.type)},e.prototype.getAnimateCfg=function(t){return{animate:this.view.getOptions().animate&&on(t,"animate"),animateOption:t&&t.animateOption?Ze({},Qm,t.animateOption):Qm}},e}(Tf);function Em(t,e,n){return n===wn.TOP?[t.minX+t.width/2-e.width/2,t.minY]:n===wn.BOTTOM?[t.minX+t.width/2-e.width/2,t.maxY-e.height]:n===wn.LEFT?[t.minX,t.minY+t.height/2-e.height/2]:n===wn.RIGHT?[t.maxX-e.width,t.minY+t.height/2-e.height/2]:n===wn.TOP_LEFT||n===wn.LEFT_TOP?[t.tl.x,t.tl.y]:n===wn.TOP_RIGHT||n===wn.RIGHT_TOP?[t.tr.x-e.width,t.tr.y]:n===wn.BOTTOM_LEFT||n===wn.LEFT_BOTTOM?[t.bl.x,t.bl.y-e.height]:n===wn.BOTTOM_RIGHT||n===wn.RIGHT_BOTTOM?[t.br.x-e.width,t.br.y-e.height]:[0,0]}function Mm(t,e){return Ke(t)?!1!==t&&{}:on(t,[e],t)}function Sm(t){return on(t,"position",wn.BOTTOM)}var Im=function(t){function e(e){var n=t.call(this,e)||this;return n.container=n.view.getLayer(Bn.FORE).addGroup(),n}return Tt(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.render=function(){this.update()},e.prototype.layout=function(){var t=this;this.layoutBBox=this.view.viewBBox,$t(this.components,(function(e){var n=e.component,A=e.direction,r=xd(A),i=n.get("maxWidthRatio"),o=n.get("maxHeightRatio"),a=t.getCategoryLegendSizeCfg(r,i,o),s=n.get("maxWidth"),l=n.get("maxHeight");n.update({maxWidth:Math.min(a.maxWidth,s||0),maxHeight:Math.min(a.maxHeight,l||0)});var u=n.get("padding"),c=n.getLayoutBBox(),h=new Eh(c.x,c.y,c.width,c.height).expand(u),p=Vt(Em(t.view.viewBBox,h,A),2),f=p[0],d=p[1],g=Vt(Em(t.layoutBBox,h,A),2),y=g[0],v=g[1],m=0,B=0;A.startsWith("top")||A.startsWith("bottom")?(m=f,B=v):(m=y,B=d),n.setLocation({x:m+u[3],y:B+u[0]}),t.layoutBBox=t.layoutBBox.cut(h,A)}))},e.prototype.update=function(){var t=this;this.option=this.view.getOptions().legends;var e={};if(on(this.option,"custom")){var n="global-custom",A=this.getComponentById(n);if(A){var r=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);Qh(r,["container"]),A.component.update(r),e[n]=!0}else{var i=this.createCustomLegend(void 0,void 0,void 0,this.option);if(i){i.init();var o=Bn.FORE,a=Sm(this.option);this.components.push({id:n,component:i,layer:o,direction:a,type:Fn.LEGEND,extra:void 0}),e[n]=!0}}}else this.loopLegends((function(n,A,r){var i=t.getId(r.field),o=t.getComponentById(i);if(o){var a=void 0,s=Mm(t.option,r.field);!1!==s&&(on(s,"custom")?a=t.getCategoryCfg(n,A,r,s,!0):r.isLinear?a=t.getContinuousCfg(n,A,r,s):r.isCategory&&(a=t.getCategoryCfg(n,A,r,s))),a&&(Qh(a,["container"]),o.direction=Sm(s),o.component.update(a),e[i]=!0)}else{var l=t.createFieldLegend(n,A,r);l&&(l.component.init(),t.components.push(l),e[i]=!0)}}));var s=[];$t(this.getComponents(),(function(t){e[t.id]?s.push(t):t.component.destroy()})),this.components=s},e.prototype.clear=function(){t.prototype.clear.call(this),this.container.clear()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.container.remove(!0)},e.prototype.getGeometries=function(t){var e=this,n=t.geometries;return $t(t.views,(function(t){n=n.concat(e.getGeometries(t))})),n},e.prototype.loopLegends=function(t){if(this.view.getRootView()===this.view){var e=this.getGeometries(this.view),n={};$t(e,(function(e){$t(e.getGroupAttributes(),(function(A){var r=A.getScale(A.type);r&&"identity"!==r.type&&!n[r.field]&&(t(e,A,r),n[r.field]=!0)}))}))}},e.prototype.createFieldLegend=function(t,e,n){var A,r=Mm(this.option,n.field),i=Bn.FORE,o=Sm(r);if(!1!==r&&(on(r,"custom")?A=this.createCustomLegend(t,e,n,r):n.isLinear?A=this.createContinuousLegend(t,e,n,r):n.isCategory&&(A=this.createCategoryLegend(t,e,n,r))),A)return A.set("field",n.field),{id:this.getId(n.field),component:A,layer:i,direction:o,type:Fn.LEGEND,extra:{scale:n}}},e.prototype.createCustomLegend=function(t,e,n,A){var r=this.getCategoryCfg(t,e,n,A,!0);return new dh(r)},e.prototype.createContinuousLegend=function(t,e,n,A){var r=this.getContinuousCfg(t,e,n,Qh(A,["value"]));return new gh(r)},e.prototype.createCategoryLegend=function(t,e,n,A){var r=this.getCategoryCfg(t,e,n,A);return new dh(r)},e.prototype.getContinuousCfg=function(t,e,n,A){var r=n.getTicks(),i=re(r,(function(t){return 0===t.value})),o=re(r,(function(t){return 1===t.value})),a=r.map((function(t){var A=t.value,r=t.tickValue,i=e.mapping(n.invert(A)).join("");return{value:r,attrValue:i,color:i,scaleValue:A}}));i||a.push({value:n.min,attrValue:e.mapping(n.invert(0)).join(""),color:e.mapping(n.invert(0)).join(""),scaleValue:0}),o||a.push({value:n.max,attrValue:e.mapping(n.invert(1)).join(""),color:e.mapping(n.invert(1)).join(""),scaleValue:1}),a.sort((function(t,e){return t.value-e.value}));var s={min:ge(a).value,max:ye(a).value,colors:[],rail:{type:e.type},track:{}};"size"===e.type&&(s.track={style:{fill:"size"===e.type?this.view.getTheme().defaultColor:void 0}}),"color"===e.type&&(s.colors=a.map((function(t){return t.attrValue})));var l=this.container,u=xd(Sm(A)),c=on(A,"title");return c&&(c=Ze({text:Dh(n)},c)),s.container=l,s.layout=u,s.title=c,s.animateOption=Kf,this.mergeLegendCfg(s,A,"continuous")},e.prototype.getCategoryCfg=function(t,e,n,A,r){var i=this.container,o=on(A,"position",wn.BOTTOM),a=Cd(this.view.getTheme(),o),s=on(a,["marker"]),l=on(A,"marker"),u=xd(o),c=on(a,["pageNavigator"]),h=on(A,"pageNavigator"),p=r?function(t,e,n){return n.map((function(n,A){var r=e;jt(r)&&(r=r(n.name,A,Ze({},t,n)));var i=jt(n.marker)?n.marker(n.name,A,Ze({},t,n)):n.marker,o=Ze({},t,r,i);return Bd(o),n.marker=o,n}))}(s,l,A.items):wd(this.view,t,e,s,l),f=on(A,"title");f&&(f=Ze({text:n?Dh(n):""},f));var d=on(A,"maxWidthRatio"),g=on(A,"maxHeightRatio"),y=this.getCategoryLegendSizeCfg(u,d,g);y.container=i,y.layout=u,y.items=p,y.title=f,y.animateOption=Kf,y.pageNavigator=Ze({},c,h);var v=this.mergeLegendCfg(y,A,o);v.reversed&&v.items.reverse();var m=on(v,"maxItemWidth");return m&&m<=1&&(v.maxItemWidth=this.view.viewBBox.width*m),v},e.prototype.mergeLegendCfg=function(t,e,n){var A=n.split("-")[0],r=Cd(this.view.getTheme(),A);return Ze({},r,t,e)},e.prototype.getId=function(t){return"".concat(this.name,"-").concat(t)},e.prototype.getComponentById=function(t){return re(this.components,(function(e){return e.id===t}))},e.prototype.getCategoryLegendSizeCfg=function(t,e,n){void 0===e&&(e=.25),void 0===n&&(n=.25);var A=this.view.viewBBox,r=A.width,i=A.height;return"vertical"===t?{maxWidth:r*e,maxHeight:i}:{maxWidth:r,maxHeight:i*n}},e}(Tf),km=function(t){function e(e){var n=t.call(this,e)||this;return n.onChangeFn=dn,n.resetMeasure=function(){n.clear()},n.onValueChange=function(t){var e=Vt(t,2),A=e[0],r=e[1];n.start=A,n.end=r,n.changeViewData(A,r)},n.container=n.view.getLayer(Bn.FORE).addGroup(),n.onChangeFn=cn(n.onValueChange,20,{leading:!0}),n.width=0,n.view.on(Un.BEFORE_CHANGE_DATA,n.resetMeasure),n.view.on(Un.BEFORE_CHANGE_SIZE,n.resetMeasure),n}return Tt(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.view.off(Un.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(Un.BEFORE_CHANGE_SIZE,this.resetMeasure)},e.prototype.init=function(){},e.prototype.render=function(){this.option=this.view.getOptions().slider;var t=this.getSliderCfg(),e=t.start,n=t.end;Jt(this.start)&&(this.start=e,this.end=n);var A=this.view.getOptions().data;this.option&&!en(A)?this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onChangeFn)):this.slider&&(this.slider.component.destroy(),this.slider=void 0)},e.prototype.layout=function(){var t=this;if(this.option&&!this.width&&(this.measureSlider(),setTimeout((function(){t.view.destroyed||t.changeViewData(t.start,t.end)}),0)),this.slider){var e=this.view.coordinateBBox.width,n=this.slider.component.get("padding"),A=Vt(n,4),r=A[0];A[1],A[2];var i=A[3],o=this.slider.component.getLayoutBBox(),a=new Eh(o.x,o.y,Math.min(o.width,e),o.height).expand(n),s=this.getMinMaxText(this.start,this.end),l=s.minText,u=s.maxText,c=Vt(Em(this.view.viewBBox,a,wn.BOTTOM),2);c[0];var h=c[1],p=Vt(Em(this.view.coordinateBBox,a,wn.BOTTOM),2),f=p[0];p[1],this.slider.component.update(Dt(Dt({},this.getSliderCfg()),{x:f+i,y:h+r,width:this.width,start:this.start,end:this.end,minText:l,maxText:u})),this.view.viewBBox=this.view.viewBBox.cut(a,wn.BOTTOM)}},e.prototype.update=function(){this.render()},e.prototype.createSlider=function(){var t=this.getSliderCfg(),e=new sh(Dt({container:this.container},t));return e.init(),{component:e,layer:Bn.FORE,direction:wn.BOTTOM,type:Fn.SLIDER}},e.prototype.updateSlider=function(){var t=this.getSliderCfg();if(this.width){var e=this.getMinMaxText(this.start,this.end),n=e.minText,A=e.maxText;t=Dt(Dt({},t),{width:this.width,start:this.start,end:this.end,minText:n,maxText:A})}return this.slider.component.update(t),this.slider},e.prototype.measureSlider=function(){var t=this.getSliderCfg().width;this.width=t},e.prototype.getSliderCfg=function(){var t={height:16,start:0,end:1,minText:"",maxText:"",x:0,y:0,width:this.view.coordinateBBox.width};if(Zt(this.option)){var e=Dt({data:this.getData()},on(this.option,"trendCfg",{}));t=Ze({},t,this.getThemeOptions(),this.option),t=Dt(Dt({},t),{trendCfg:e})}return t.start=Ce(Math.min(Jt(t.start)?0:t.start,Jt(t.end)?1:t.end),0,1),t.end=Ce(Math.max(Jt(t.start)?0:t.start,Jt(t.end)?1:t.end),0,1),t},e.prototype.getData=function(){var t=this.view.getOptions().data,e=Vt(this.view.getYScales(),1)[0],n=this.view.getGroupScales();if(n.length){var A=n[0],r=A.field,i=A.ticks;return t.reduce((function(t,n){return n[r]===i[0]&&t.push(n[e.field]),t}),[])}return t.map((function(t){return t[e.field]||0}))},e.prototype.getThemeOptions=function(){var t=this.view.getTheme();return on(t,["components","slider","common"],{})},e.prototype.getMinMaxText=function(t,e){var n=this.view.getOptions().data,A=this.view.getXScale(),r=de(n,A.field);A.isLinear&&(r=r.sort());var i=r,o=gn(n);if(!A||!o)return{};var a=gn(i),s=Math.round(t*(a-1)),l=Math.round(e*(a-1)),u=on(i,[s]),c=on(i,[l]),h=this.getSliderCfg().formatter;return h&&(u=h(u,n[s],s),c=h(c,n[l],l)),{minText:u,maxText:c}},e.prototype.changeViewData=function(t,e){var n=this.view.getOptions().data,A=this.view.getXScale(),r=gn(n);if(A&&r){var i=de(n,A.field),o=this.view.getXScale().isLinear?i.sort((function(t,e){return Number(t)-Number(e)})):i,a=gn(o),s=Math.round(t*(a-1)),l=Math.round(e*(a-1));this.view.filter(A.field,(function(t,e){var n=o.indexOf(t);return!(n>-1)||bh(n,s,l)})),this.view.render(!0)}},e.prototype.getComponents=function(){return this.slider?[this.slider]:[]},e.prototype.clear=function(){this.slider&&(this.slider.component.destroy(),this.slider=void 0),this.width=0,this.start=void 0,this.end=void 0},e}(Tf),Lm=function(t){function e(e){var n=t.call(this,e)||this;return n.onChangeFn=dn,n.resetMeasure=function(){n.clear()},n.onValueChange=function(t){var e=t.ratio,A=n.getValidScrollbarCfg().animate;n.ratio=Ce(e,0,1);var r=n.view.getOptions().animate;A||n.view.animate(!1),n.changeViewData(n.getScrollRange(),!0),n.view.animate(r)},n.container=n.view.getLayer(Bn.FORE).addGroup(),n.onChangeFn=cn(n.onValueChange,20,{leading:!0}),n.trackLen=0,n.thumbLen=0,n.ratio=0,n.view.on(Un.BEFORE_CHANGE_DATA,n.resetMeasure),n.view.on(Un.BEFORE_CHANGE_SIZE,n.resetMeasure),n}return Tt(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"scrollbar"},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.view.off(Un.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(Un.BEFORE_CHANGE_SIZE,this.resetMeasure)},e.prototype.init=function(){},e.prototype.render=function(){this.option=this.view.getOptions().scrollbar,this.option?this.scrollbar?this.scrollbar=this.updateScrollbar():(this.scrollbar=this.createScrollbar(),this.scrollbar.component.on("scrollchange",this.onChangeFn)):this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0)},e.prototype.layout=function(){var t=this;if(this.option&&!this.trackLen&&(this.measureScrollbar(),setTimeout((function(){t.view.destroyed||t.changeViewData(t.getScrollRange(),!0)}))),this.scrollbar){var e=this.view.coordinateBBox.width,n=this.scrollbar.component.get("padding"),A=this.scrollbar.component.getLayoutBBox(),r=new Eh(A.x,A.y,Math.min(A.width,e),A.height).expand(n),i=this.getScrollbarComponentCfg(),o=void 0,a=void 0;if(i.isHorizontal){var s=Vt(Em(this.view.viewBBox,r,wn.BOTTOM),2);s[0];var l=s[1],u=Vt(Em(this.view.coordinateBBox,r,wn.BOTTOM),2),c=u[0];u[1],o=c,a=l}else{var h=Vt(Em(this.view.viewBBox,r,wn.RIGHT),2);h[0];l=h[1];var p=Vt(Em(this.view.viewBBox,r,wn.RIGHT),2);c=p[0];p[1],o=c,a=l}o+=n[3],a+=n[0],this.trackLen?this.scrollbar.component.update(Dt(Dt({},i),{x:o,y:a,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio})):this.scrollbar.component.update(Dt(Dt({},i),{x:o,y:a})),this.view.viewBBox=this.view.viewBBox.cut(r,i.isHorizontal?wn.BOTTOM:wn.RIGHT)}},e.prototype.update=function(){this.render()},e.prototype.getComponents=function(){return this.scrollbar?[this.scrollbar]:[]},e.prototype.clear=function(){this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0),this.trackLen=0,this.thumbLen=0,this.ratio=0,this.cnt=0,this.step=0,this.data=void 0,this.xScaleCfg=void 0,this.yScalesCfg=[]},e.prototype.setValue=function(t){this.onValueChange({ratio:t})},e.prototype.getValue=function(){return this.ratio},e.prototype.getThemeOptions=function(){var t=this.view.getTheme();return on(t,["components","scrollbar","common"],{})},e.prototype.getScrollbarTheme=function(t){var e=on(this.view.getTheme(),["components","scrollbar"]),n=t||{},A=n.thumbHighlightColor,r=Pt(n,["thumbHighlightColor"]);return{default:Ze({},on(e,["default","style"],{}),r),hover:Ze({},on(e,["hover","style"],{}),{thumbColor:A})}},e.prototype.measureScrollbar=function(){var t=this.view.getXScale(),e=this.view.getYScales().slice();this.data=this.getScrollbarData(),this.step=this.getStep(),this.cnt=this.getCnt();var n=this.getScrollbarComponentCfg(),A=n.trackLen,r=n.thumbLen;this.trackLen=A,this.thumbLen=r,this.xScaleCfg={field:t.field,values:t.values||[]},this.yScalesCfg=e},e.prototype.getScrollRange=function(){var t=Math.floor((this.cnt-this.step)*Ce(this.ratio,0,1));return[t,Math.min(t+this.step-1,this.cnt-1)]},e.prototype.changeViewData=function(t,e){var n=this,A=Vt(t,2),r=A[0],i=A[1],o="vertical"!==this.getValidScrollbarCfg().type,a=de(this.data,this.xScaleCfg.field),s=this.view.getXScale().isLinear?a.sort((function(t,e){return Number(t)-Number(e)})):a,l=o?s:s.reverse();this.yScalesCfg.forEach((function(t){n.view.scale(t.field,{formatter:t.formatter,type:t.type,min:t.min,max:t.max,tickMethod:t.tickMethod})})),this.view.filter(this.xScaleCfg.field,(function(t){var e=l.indexOf(t);return!(e>-1)||bh(e,r,i)})),this.view.render(!0)},e.prototype.createScrollbar=function(){var t="vertical"!==this.getValidScrollbarCfg().type,e=new uh(Dt(Dt({container:this.container},this.getScrollbarComponentCfg()),{x:0,y:0}));return e.init(),{component:e,layer:Bn.FORE,direction:t?wn.BOTTOM:wn.RIGHT,type:Fn.SCROLLBAR}},e.prototype.updateScrollbar=function(){var t=this.getScrollbarComponentCfg(),e=this.trackLen?Dt(Dt({},t),{trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio}):Dt({},t);return this.scrollbar.component.update(e),this.scrollbar},e.prototype.getStep=function(){if(this.step)return this.step;var t=this.view.coordinateBBox,e=this.getValidScrollbarCfg(),n=e.type,A=e.categorySize,r="vertical"!==n;return Math.floor((r?t.width:t.height)/A)},e.prototype.getCnt=function(){if(this.cnt)return this.cnt;var t=this.view.getXScale(),e=this.getScrollbarData();return gn(de(e,t.field))},e.prototype.getScrollbarComponentCfg=function(){var t=this.view,e=t.coordinateBBox,n=t.viewBBox,A=this.getValidScrollbarCfg(),r=A.type,i=A.padding,o=A.width,a=A.height,s=A.style,l="vertical"!==r,u=Vt(i,4),c=u[0],h=u[1],p=u[2],f=u[3],d=l?{x:e.minX+f,y:n.maxY-a-p}:{x:n.maxX-o-h,y:e.minY+c},g=this.getStep(),y=this.getCnt(),v=l?e.width-f-h:e.height-c-p,m=Math.max(v*Ce(g/y,0,1),20);return Dt(Dt({},this.getThemeOptions()),{x:d.x,y:d.y,size:l?a:o,isHorizontal:l,trackLen:v,thumbLen:m,thumbOffset:0,theme:this.getScrollbarTheme(s)})},e.prototype.getValidScrollbarCfg=function(){var t={type:"horizontal",categorySize:32,width:8,height:8,padding:[0,0,0,0],animate:!0,style:{}};return Zt(this.option)&&(t=Dt(Dt({},t),this.option)),Zt(this.option)&&this.option.padding||(t.padding=(t.type,[0,0,0,0])),t},e.prototype.getScrollbarData=function(){var t=this.view.getCoordinate(),e=this.getValidScrollbarCfg(),n=this.view.getOptions().data||[];return t.isReflect("y")&&"vertical"===e.type&&(n=Nt([],Vt(n),!1).reverse()),n},e}(Tf),Hm={fill:"#CCD6EC",opacity:.3};function Tm(t,e,n){var A,r,i,o,a,s,l=function(t,e,n){var A,r,i=xf(t,e,n);try{for(var o=Kt(t.views),a=o.next();!a.done;a=o.next()){var s=a.value;i=i.concat(xf(s,e,n))}}catch(l){A={error:l}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(A)throw A.error}}return i}(t,e,n);if(l.length){l=oe(l);try{for(var u=Kt(l),c=u.next();!c.done;c=u.next()){var h=c.value;try{for(var p=(i=void 0,Kt(h)),f=p.next();!f.done;f=p.next()){var d=f.value,g=d.mappingData,y=g.x,v=g.y;d.x=qt(y)?y[y.length-1]:y,d.y=qt(v)?v[v.length-1]:v}}catch(b){i={error:b}}finally{try{f&&!f.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}}}catch(Q){A={error:Q}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(A)throw A.error}}if(!1===n.shared&&l.length>1){var m=l[0],B=Math.abs(e.y-m[0].y);try{for(var x=Kt(l),w=x.next();!w.done;w=x.next()){var C=w.value,F=Math.abs(e.y-C[0].y);F<=B&&(m=C,B=F)}}catch(U){a={error:U}}finally{try{w&&!w.done&&(s=x.return)&&s.call(x)}finally{if(a)throw a.error}}l=[m]}return fe(oe(l))}return[]}var Dm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.show=function(t){var e=this.context.view,n=this.context.event,A=e.getController("tooltip").getTooltipCfg(),r=Tm(e,{x:n.x,y:n.y},A);if(!nn(r,this.items)&&(this.items=r,r.length)){var i=e.getXScale().field,o=r[0].data[i],a=[];if($t(e.geometries,(function(t){if("interval"===t.type||"schema"===t.type){var e=t.getElementsBy((function(t){return t.getData()[i]===o}));a=a.concat(e)}})),a.length){var s=e.getCoordinate(),l=a[0].shape.getCanvasBBox(),u=a[0].shape.getCanvasBBox(),c=l;$t(a,(function(t){var e=t.shape.getCanvasBBox();s.isTransposed?(e.minY<l.minY&&(l=e),e.maxY>u.maxY&&(u=e)):(e.minX<l.minX&&(l=e),e.maxX>u.maxX&&(u=e)),c.x=Math.min(e.minX,c.minX),c.y=Math.min(e.minY,c.minY),c.width=Math.max(e.maxX,c.maxX)-c.x,c.height=Math.max(e.maxY,c.maxY)-c.y}));var h=e.backgroundGroup,p=e.coordinateBBox,f=void 0;if(s.isRect){var d=e.getXScale(),g=t||{},y=g.appendRatio,v=g.appendWidth;Jt(v)&&(y=Jt(y)?d.isLinear?0:.25:y,v=s.isTransposed?y*u.height:y*l.width);var m=void 0,B=void 0,x=void 0,w=void 0;s.isTransposed?(m=p.minX,B=Math.min(u.minY,l.minY)-v,x=p.width,w=c.height+2*v):(m=Math.min(l.minX,u.minX)-v,B=p.minY,x=c.width+2*v,w=p.height),f=[["M",m,B],["L",m+x,B],["L",m+x,B+w],["L",m,B+w],["Z"]]}else{var C=ge(a),F=ye(a),b=Ch(C.getModel(),s).startAngle,Q=Ch(F.getModel(),s).endAngle,U=s.getCenter(),E=s.getRadius(),M=s.innerRadius*E;f=xh(U.x,U.y,E,b,Q,M)}if(this.regionPath)this.regionPath.attr("path",f),this.regionPath.show();else{var S=on(t,"style",Hm);this.regionPath=h.addShape({type:"path",name:"active-region",capture:!1,attrs:Dt(Dt({},S),{path:f})})}}}},e.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},e.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),t.prototype.destroy.call(this)},e}(Jh),Pm=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timeStamp=0,e}return Tt(e,t),e.prototype.show=function(){var t=this.context,e=t.event,n=t.view;if(!n.isTooltipLocked()){var A=this.timeStamp,r=+new Date;if(r-A>on(t.view.getOptions(),"tooltip.showDelay",16)){var i=this.location,o={x:e.x,y:e.y};i&&nn(i,o)||this.showTooltip(n,o),this.timeStamp=r,this.location=o}}},e.prototype.hide=function(){var t=this.context.view,e=t.getController("tooltip"),n=this.context.event,A=n.clientX,r=n.clientY;e.isCursorEntered({x:A,y:r})||t.isTooltipLocked()||(this.hideTooltip(t),this.location=null)},e.prototype.showTooltip=function(t,e){t.showTooltip(e)},e.prototype.hideTooltip=function(t){t.hideTooltip()},e}(Jh),Om=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.showTooltip=function(t,e){$t(Lp(t),(function(n){var A=Hp(t,n,e);n.showTooltip(A)}))},e.prototype.hideTooltip=function(t){$t(Lp(t),(function(t){t.hideTooltip()}))},e}(Pm),Rm=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timeStamp=0,e}return Tt(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},e.prototype.show=function(){var t=this.context.event,e=this.timeStamp,n=+new Date;if(n-e>16){var A=this.location,r={x:t.x,y:t.y};A&&nn(A,r)||this.showTooltip(r),this.timeStamp=n,this.location=r}},e.prototype.hide=function(){this.hideTooltip(),this.location=null},e.prototype.showTooltip=function(t){var e=this.context,n=e.event.target;if(n&&n.get("tip")){if(this.tooltip){var A=e.view.canvas,r={start:{x:0,y:0},end:{x:A.get("width"),y:A.get("height")}};this.tooltip.set("region",r)}else this.renderTooltip();var i=n.get("tip");this.tooltip.update(Dt({title:i},t)),this.tooltip.show()}},e.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},e.prototype.renderTooltip=function(){var t,e=this.context.view,n=e.canvas,A={start:{x:0,y:0},end:{x:n.get("width"),y:n.get("height")}},r=e.getTheme(),i=on(r,["components","tooltip","domStyles"],{}),o=new yh({parent:n.get("el").parentNode,region:A,visible:!1,crosshairs:null,domStyles:Dt({},Ze({},i,(t={},t[Dc]={"max-width":"50%"},t[Pc]={"word-break":"break-all"},t)))});o.init(),o.setCapture(!1),this.tooltip=o},e}(Jh),Km=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="",e}return Tt(e,t),e.prototype.hasState=function(t){return t.hasState(this.stateName)},e.prototype.setElementState=function(t,e){t.setState(this.stateName,e)},e.prototype.setState=function(){this.setStateEnable(!0)},e.prototype.clear=function(){var t=this.context.view;this.clearViewState(t)},e.prototype.clearViewState=function(t){var e=this;$t(bp(t,this.stateName),(function(t){e.setElementState(t,!1)}))},e}(Jh);function Vm(t){return on(t.get("delegateObject"),"item")}var Gm=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ignoreListItemStates=["unchecked"],e}return Tt(e,t),e.prototype.isItemIgnore=function(t,e){return!!this.ignoreListItemStates.filter((function(n){return e.hasState(t,n)})).length},e.prototype.setStateByComponent=function(t,e,n){var A=this.context.view,r=t.get("field"),i=Fp(A);this.setElementsStateByItem(i,r,e,n)},e.prototype.setStateByElement=function(t,e){this.setElementState(t,e)},e.prototype.isMathItem=function(t,e,n){var A=Dp(this.context.view,e),r=Qp(t,e);return!Jt(r)&&n.name===A.getText(r)},e.prototype.setElementsStateByItem=function(t,e,n,A){var r=this;$t(t,(function(t){r.isMathItem(t,e,n)&&t.setState(r.stateName,A)}))},e.prototype.setStateEnable=function(t){var e=fp(this.context);if(e)gp(this.context)&&this.setStateByElement(e,t);else{var n=dp(this.context);if(yp(n)){var A=n.item,r=n.component;if(A&&r&&!this.isItemIgnore(A,r)){var i=this.context.event.gEvent;if(i&&i.fromShape&&i.toShape&&Vm(i.fromShape)===Vm(i.toShape))return;this.setStateByComponent(r,A,t)}}}},e.prototype.toggle=function(){var t=fp(this.context);if(t){var e=t.hasState(this.stateName);this.setElementState(t,!e)}},e.prototype.reset=function(){this.setStateEnable(!1)},e}(Km),Nm=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return Tt(e,t),e.prototype.active=function(){this.setState()},e}(Gm),_m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cache={},e}return Tt(e,t),e.prototype.getColorScale=function(t,e){var n=e.geometry.getAttribute("color");return n?t.getScaleByField(n.getFields()[0]):null},e.prototype.getLinkPath=function(t,e){var n=this.context.view.getCoordinate().isTransposed,A=t.shape.getCanvasBBox(),r=e.shape.getCanvasBBox();return n?[["M",A.minX,A.minY],["L",r.minX,r.maxY],["L",r.maxX,r.maxY],["L",A.maxX,A.minY],["Z"]]:[["M",A.maxX,A.minY],["L",r.minX,r.minY],["L",r.minX,r.maxY],["L",A.maxX,A.maxY],["Z"]]},e.prototype.addLinkShape=function(t,e,n,A){var r={opacity:.4,fill:e.shape.attr("fill")};t.addShape({type:"path",attrs:Dt(Dt({},Ze({},r,jt(A)?A(r,e):A)),{path:this.getLinkPath(e,n)})})},e.prototype.linkByElement=function(t,e){var n=this,A=this.context.view,r=this.getColorScale(A,t);if(r){var i=Qp(t,r.field);if(!this.cache[i]){var o=function(t,e,n){return Fp(t).filter((function(t){return Qp(t,e)===n}))}(A,r.field,i),a=this.linkGroup.addGroup();this.cache[i]=a;var s=o.length;$t(o,(function(t,A){if(A<s-1){var r=o[A+1];n.addLinkShape(a,t,r,e)}}))}}},e.prototype.removeLink=function(t){var e=this.getColorScale(this.context.view,t);if(e){var n=Qp(t,e.field);this.cache[n]&&(this.cache[n].remove(),this.cache[n]=null)}},e.prototype.link=function(t){var e=this.context;this.linkGroup||(this.linkGroup=e.view.foregroundGroup.addGroup({id:"link-by-color-group",capture:!1}));var n=fp(e);n&&this.linkByElement(n,null==t?void 0:t.style)},e.prototype.unlink=function(){var t=fp(this.context);t&&this.removeLink(t)},e.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear(),this.cache={}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},e}(Jh),Xm=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startPoint=null,e.endPoint=null,e.isStarted=!1,e.effectSiblings=!1,e.effectByRecord=!1,e}return Tt(e,t),e.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},e.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},e.prototype.getIntersectElements=function(){var t=null;if(mp(this.context))t=xp(this.context,10);else{var e=this.startPoint,n=this.isStarted?this.getCurrentPoint():this.endPoint;if(!e||!n)return;var A={minX:Math.min(e.x,n.x),minY:Math.min(e.y,n.y),maxX:Math.max(e.x,n.x),maxY:Math.max(e.y,n.y)};t=Up(this.context.view,A)}return t},e.prototype.setStateEnable=function(t){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(t);else{var e=Fp(this.context.view),n=this.getIntersectElements();n&&n.length?this.effectByRecord?this.setSiblingsStateByRecord(n,t):this.setElementsState(n,t,e):this.clear()}},e.prototype.setSiblingsStateByRecord=function(t,e){var n=this,A=this.context.view,r=Lp(A),i=t.map((function(t){return t.getModel().data})),o=A.getXScale().field,a=A.getYScales()[0].field;$t(r,(function(t){var A=Fp(t),r=A.filter((function(t){var e=t.getModel().data;return Tp(i,e,o,a)}));n.setElementsState(r,e,A)}))},e.prototype.setSiblingsState=function(t){var e=this,n=Lp(this.context.view);mp(this.context)&&$t(n,(function(n){var A=Fp(n),r=wp(e.context,n,10);r&&r.length?e.setElementsState(r,t,A):e.clearViewState(n)}))},e.prototype.setElementsState=function(t,e,n){var A=this;$t(n,(function(n){t.includes(n)?A.setElementState(n,e):A.setElementState(n,!1)}))},e.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},e.prototype.clear=function(){var t=this,e=this.context.view;this.effectSiblings?$t(Lp(e),(function(e){t.clearViewState(e)})):this.clearViewState(e)},e}(Km),Ym=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return Tt(e,t),e.prototype.active=function(){this.setState()},e}(Xm),zm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.setStateEnable=function(t){var e=fp(this.context);if(e){if(!gp(this.context))return;t?(this.clear(),this.setElementState(e,!0)):this.hasState(e)&&this.setElementState(e,!1)}},e.prototype.toggle=function(){var t=fp(this.context);if(t){var e=this.hasState(t);e||this.clear(),this.setElementState(t,!e)}},e.prototype.reset=function(){this.setStateEnable(!1)},e}(Km),Wm=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return Tt(e,t),e.prototype.active=function(){this.setState()},e}(zm),jm="inactive",Jm="active";function qm(t){$t(Fp(t),(function(t){t.hasState(Jm)&&t.setState(Jm,!1),t.hasState(jm)&&t.setState(jm,!1)}))}function Zm(t,e,n){$t(t,(function(t){e(t)?(t.hasState(jm)&&t.setState(jm,!1),t.setState(Jm,n)):(t.hasState(Jm)&&t.setState(Jm,!1),t.setState(jm,n))}))}var $m,tB,eB=Ln.INACTIVE,nB=Ln.ACTIVE,AB=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName=nB,e}return Tt(e,t),e.prototype.setElementsStateByItem=function(t,e,n,A){var r=this;this.setHighlightBy(t,(function(t){return r.isMathItem(t,e,n)}),A)},e.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(eB)&&t.setState(eB,!1),t.setState(nB,!0)):t.hasState(nB)||t.setState(eB,!0)},e.prototype.setHighlightBy=function(t,e,n){var A=this;if(n)$t(t,(function(t){A.setElementHighlight(t,e)}));else{var r=bp(this.context.view,nB),i=!0;$t(r,(function(t){if(!e(t))return i=!1,!1})),i?this.clear():$t(t,(function(t){e(t)&&(t.hasState(nB)&&t.setState(nB,!1),t.setState(eB,!0))}))}},e.prototype.setElementState=function(t,e){var n=Fp(this.context.view);this.setHighlightBy(n,(function(e){return t===e}),e)},e.prototype.highlight=function(){this.setState()},e.prototype.clear=function(){qm(this.context.view)},e}(Gm),rB=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.setStateByElement=function(t,e){var n=this.context.view,A=t.geometry.getAttribute("color");if(A){var r=n.getScaleByField(A.getFields()[0]),i=Qp(t,r.field),o=Fp(n),a=o.filter((function(t){return Qp(t,r.field)===i}));this.setHighlightBy(o,(function(t){return a.includes(t)}),e)}},e}(AB),iB=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(eB)&&t.setState(eB,!1),t.setState(nB,!0)):(t.setState(eB,!0),t.hasState(nB)&&t.setState(nB,!1))},e.prototype.setStateByElement=function(t,e){var n=this.context.view,A=n.getXScale(),r=Qp(t,A.field),i=Fp(n),o=i.filter((function(t){return Qp(t,A.field)===r}));this.setHighlightBy(i,(function(t){return o.includes(t)}),e)},e.prototype.toggle=function(){var t=fp(this.context);if(t){var e=t.hasState(this.stateName);this.setStateByElement(t,!e)}},e}(AB);(tB=$m||($m={})).BEFORE_HIGHLIGHT="element-range-highlight:beforehighlight",tB.AFTER_HIGHLIGHT="element-range-highlight:afterhighlight",tB.BEFORE_CLEAR="element-range-highlight:beforeclear",tB.AFTER_CLEAR="element-range-highlight:afterclear";var oB=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return Tt(e,t),e.prototype.clearViewState=function(t){qm(t)},e.prototype.highlight=function(){var t=this.context,e=t.view,n={view:e,event:t.event,highlightElements:this.getIntersectElements()};e.emit($m.BEFORE_HIGHLIGHT,Qf.fromData(e,$m.BEFORE_HIGHLIGHT,n)),this.setState(),e.emit($m.AFTER_HIGHLIGHT,Qf.fromData(e,$m.AFTER_HIGHLIGHT,n))},e.prototype.clear=function(){var e=this.context.view;e.emit($m.BEFORE_CLEAR,Qf.fromData(e,$m.BEFORE_CLEAR,{})),t.prototype.clear.call(this),e.emit($m.AFTER_CLEAR,Qf.fromData(e,$m.AFTER_CLEAR,{}))},e.prototype.setElementsState=function(t,e,n){Zm(n,(function(e){return t.indexOf(e)>=0}),e)},e}(Xm),aB=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return Tt(e,t),e.prototype.highlight=function(){this.setState()},e.prototype.setElementState=function(t,e){Zm(Fp(this.context.view),(function(e){return t===e}),e)},e.prototype.clear=function(){qm(this.context.view)},e}(zm),sB=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="selected",e}return Tt(e,t),e.prototype.selected=function(){this.setState()},e}(Xm),lB=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="selected",e}return Tt(e,t),e.prototype.selected=function(){this.setState()},e}(Gm),uB=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="selected",e}return Tt(e,t),e.prototype.selected=function(){this.setState()},e}(zm),cB=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="",e.ignoreItemStates=[],e}return Tt(e,t),e.prototype.getTriggerListInfo=function(){var t=dp(this.context),e=null;return yp(t)&&(e={item:t.item,list:t.component}),e},e.prototype.getAllowComponents=function(){var t=this,e=Sp(this.context.view),n=[];return $t(e,(function(e){e.isList()&&t.allowSetStateByElement(e)&&n.push(e)})),n},e.prototype.hasState=function(t,e){return t.hasState(e,this.stateName)},e.prototype.clearAllComponentsState=function(){var t=this;$t(this.getAllowComponents(),(function(e){e.clearItemsState(t.stateName)}))},e.prototype.allowSetStateByElement=function(t){var e=t.get("field");if(!e)return!1;if(this.cfg&&this.cfg.componentNames){var n=t.get("name");if(-1===this.cfg.componentNames.indexOf(n))return!1}var A=Dp(this.context.view,e);return A&&A.isCategory},e.prototype.allowSetStateByItem=function(t,e){var n=this.ignoreItemStates;return!n.length||0===n.filter((function(n){return e.hasState(t,n)})).length},e.prototype.setStateByElement=function(t,e,n){var A=t.get("field"),r=Dp(this.context.view,A),i=Qp(e,A),o=r.getText(i);this.setItemsState(t,o,n)},e.prototype.setStateEnable=function(t){var e=this,n=fp(this.context);if(n){$t(this.getAllowComponents(),(function(A){e.setStateByElement(A,n,t)}))}else{var A=dp(this.context);if(yp(A)){var r=A.item,i=A.component;this.allowSetStateByElement(i)&&this.allowSetStateByItem(r,i)&&this.setItemState(i,r,t)}}},e.prototype.setItemsState=function(t,e,n){var A=this;$t(t.getItems(),(function(r){r.name===e&&A.setItemState(t,r,n)}))},e.prototype.setItemState=function(t,e,n){t.setItemState(e,this.stateName,n)},e.prototype.setState=function(){this.setStateEnable(!0)},e.prototype.reset=function(){this.setStateEnable(!1)},e.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var e=t.list,n=t.item,A=this.hasState(e,n);this.setItemState(e,n,!A)}},e.prototype.clear=function(){var t=this.getTriggerListInfo();t?t.list.clearItemsState(this.stateName):this.clearAllComponentsState()},e}(Jh),hB=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return Tt(e,t),e.prototype.active=function(){this.setState()},e}(cB),pB="inactive",fB="active";var dB="inactive",gB="active",yB=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName=gB,e.ignoreItemStates=["unchecked"],e}return Tt(e,t),e.prototype.setItemsState=function(t,e,n){this.setHighlightBy(t,(function(t){return t.name===e}),n)},e.prototype.setItemState=function(t,e,n){t.getItems(),this.setHighlightBy(t,(function(t){return t===e}),n)},e.prototype.setHighlightBy=function(t,e,n){var A=t.getItems();if(n)$t(A,(function(n){e(n)?(t.hasState(n,dB)&&t.setItemState(n,dB,!1),t.setItemState(n,gB,!0)):t.hasState(n,gB)||t.setItemState(n,dB,!0)}));else{var r=t.getItemsByState(gB),i=!0;$t(r,(function(t){if(!e(t))return i=!1,!1})),i?this.clear():$t(A,(function(n){e(n)&&(t.hasState(n,gB)&&t.setItemState(n,gB,!1),t.setItemState(n,dB,!0))}))}},e.prototype.highlight=function(){this.setState()},e.prototype.clear=function(){var t,e=this.getTriggerListInfo();e?$t((t=e.list).getItems(),(function(e){t.hasState(e,fB)&&t.setItemState(e,fB,!1),t.hasState(e,pB)&&t.setItemState(e,pB,!1)})):$t(this.getAllowComponents(),(function(t){t.clearItemsState(gB),t.clearItemsState(dB)}))},e}(cB),vB=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="selected",e}return Tt(e,t),e.prototype.selected=function(){this.setState()},e}(cB),mB=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="unchecked",e}return Tt(e,t),e.prototype.unchecked=function(){this.setState()},e}(cB),BB="unchecked",xB="checked",wB=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName=xB,e}return Tt(e,t),e.prototype.setItemState=function(t,e,n){this.setCheckedBy(t,(function(t){return t===e}),n)},e.prototype.setCheckedBy=function(t,e,n){var A=t.getItems();n&&$t(A,(function(n){e(n)?(t.hasState(n,BB)&&t.setItemState(n,BB,!1),t.setItemState(n,xB,!0)):t.hasState(n,xB)||t.setItemState(n,BB,!0)}))},e.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var e=t.list,n=t.item;!me(e.getItems(),(function(t){return e.hasState(t,BB)}))||e.hasState(n,BB)?this.setItemState(e,n,!0):this.reset()}},e.prototype.checked=function(){this.setState()},e.prototype.reset=function(){$t(this.getAllowComponents(),(function(t){t.clearItemsState(xB),t.clearItemsState(BB)}))},e}(cB),CB="unchecked",FB=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.toggle=function(){var t,e,n,A,r,i,o,a,s=this.getTriggerListInfo();if(null==s?void 0:s.item){var l=s.list,u=s.item,c=l.getItems(),h=c.filter((function(t){return!l.hasState(t,CB)})),p=c.filter((function(t){return l.hasState(t,CB)})),f=h[0];if(c.length===h.length)try{for(var d=Kt(c),g=d.next();!g.done;g=d.next()){var y=g.value;l.setItemState(y,CB,y.id!==u.id)}}catch(F){t={error:F}}finally{try{g&&!g.done&&(e=d.return)&&e.call(d)}finally{if(t)throw t.error}}else if(c.length-p.length==1)if(f.id===u.id)try{for(var v=Kt(c),m=v.next();!m.done;m=v.next()){y=m.value;l.setItemState(y,CB,!1)}}catch(b){n={error:b}}finally{try{m&&!m.done&&(A=v.return)&&A.call(v)}finally{if(n)throw n.error}}else try{for(var B=Kt(c),x=B.next();!x.done;x=B.next()){y=x.value;l.setItemState(y,CB,y.id!==u.id)}}catch(Q){r={error:Q}}finally{try{x&&!x.done&&(i=B.return)&&i.call(B)}finally{if(r)throw r.error}}else try{for(var w=Kt(c),C=w.next();!C.done;C=w.next()){y=C.value;l.setItemState(y,CB,y.id!==u.id)}}catch(U){o={error:U}}finally{try{C&&!C.done&&(a=w.return)&&a.call(w)}finally{if(o)throw o.error}}}},e}(cB),bB="showRadio",QB="legend-radio-tip",UB=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timeStamp=0,e}return Tt(e,t),e.prototype.show=function(){var t=this.getTriggerListInfo();if(null==t?void 0:t.item){var e=t.list,n=t.item;e.setItemState(n,bB,!0)}},e.prototype.hide=function(){var t=this.getTriggerListInfo();if(null==t?void 0:t.item){var e=t.list,n=t.item;e.setItemState(n,bB,!1)}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},e.prototype.showTip=function(){var t=this.context.event,e=this.timeStamp,n=+new Date,A=this.context.event.target;if(n-e>16&&"legend-item-radio"===A.get("name")){var r=this.location,i={x:t.x,y:t.y};this.timeStamp=n,this.location=i,r&&nn(r,i)||this.showTooltip(i)}},e.prototype.hideTip=function(){this.hideTooltip(),this.location=null},e.prototype.showTooltip=function(t){var e=this.context,n=e.event.target;if(n&&n.get("tip")){this.tooltip||this.renderTooltip();var A=e.view.getCanvas().get("el").getBoundingClientRect(),r=A.x,i=A.y;this.tooltip.update(Dt(Dt({title:n.get("tip")},t),{x:t.x+r,y:t.y+i})),this.tooltip.show()}},e.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},e.prototype.renderTooltip=function(){var t,e=((t={})[Dc]={padding:"6px 8px",transform:"translate(-50%, -80%)",background:"rgba(0,0,0,0.75)",color:"#fff","border-radius":"2px","z-index":100},t[Pc]={"font-size":"12px","line-height":"14px","margin-bottom":0,"word-break":"break-all"},t);document.getElementById(QB)&&document.body.removeChild(document.getElementById(QB));var n=new yh({parent:document.body,region:null,visible:!1,crosshairs:null,domStyles:e,containerId:QB});n.init(),n.setCapture(!1),this.tooltip=n},e}(cB),EB=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.maskShape=null,e.points=[],e.starting=!1,e.moving=!1,e.preMovePoint=null,e.shapeType="path",e}return Tt(e,t),e.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},e.prototype.emitEvent=function(t){var e="mask:".concat(t),n=this.context.view,A=this.context.event;n.emit(e,{target:this.maskShape,shape:this.maskShape,points:this.points,x:A.x,y:A.y})},e.prototype.createMask=function(){var t=this.context.view,e=this.getMaskAttrs();return t.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:Dt({fill:"#C5D4EB",opacity:.3},e)})},e.prototype.getMaskPath=function(){return[]},e.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},e.prototype.start=function(t){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(null==t?void 0:t.maskStyle),this.emitEvent("start")},e.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},e.prototype.move=function(){if(this.moving&&this.maskShape){var t=this.getCurrentPoint(),e=this.preMovePoint,n=t.x-e.x,A=t.y-e.y;$t(this.points,(function(t){t.x+=n,t.y+=A})),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t}},e.prototype.updateMask=function(t){var e=Ze({},this.getMaskAttrs(),t);this.maskShape.attr(e)},e.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},e.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},e.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},e.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},e.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,t.prototype.destroy.call(this)},e}(Jh);function MB(t){var e=ye(t),n=0,A=0,r=0;if(t.length){var i=t[0];n=Ip(i,e)/2,A=(e.x+i.x)/2,r=(e.y+i.y)/2}return{x:A,y:r,r:n}}var SB=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shapeType="circle",e}return Tt(e,t),e.prototype.getMaskAttrs=function(){return MB(this.points)},e}(EB);function IB(t){return{start:ge(t),end:ye(t)}}function kB(t,e){return{x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),width:Math.abs(e.x-t.x),height:Math.abs(e.y-t.y)}}var LB=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shapeType="rect",e}return Tt(e,t),e.prototype.getRegion=function(){return IB(this.points)},e.prototype.getMaskAttrs=function(){var t=this.getRegion();return kB(t.start,t.end)},e}(EB);function HB(t){t.x=Ce(t.x,0,1),t.y=Ce(t.y,0,1)}function TB(t,e,n,A){var r=null,i=null,o=A.invert(ge(t)),a=A.invert(ye(t));return n&&(HB(o),HB(a)),"x"===e?(r=A.convert({x:o.x,y:0}),i=A.convert({x:a.x,y:1})):(r=A.convert({x:0,y:o.y}),i=A.convert({x:1,y:a.y})),{start:r,end:i}}var DB=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dim="x",e.inPlot=!0,e}return Tt(e,t),e.prototype.getRegion=function(){var t=this.context.view.getCoordinate();return TB(this.points,this.dim,this.inPlot,t)},e}(LB);function PB(t){var e=[];return t.length&&($t(t,(function(t,n){0===n?e.push(["M",t.x,t.y]):e.push(["L",t.x,t.y])})),e.push(["L",t[0].x,t[0].y])),e}function OB(t){return{path:PB(t)}}var RB=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getMaskPath=function(){return PB(this.points)},e.prototype.getMaskAttrs=function(){return OB(this.points)},e.prototype.addPoint=function(){this.resize()},e}(EB);function KB(t){return function(t,e){if(t.length<=2)return op(t,!1);var n=t[0],A=[];$t(t,(function(t){A.push(t.x),A.push(t.y)}));var r=ip(A,e,null);return r.unshift(["M",n.x,n.y]),r}(t,!0)}function VB(t){return{path:KB(t)}}var GB,NB=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getMaskPath=function(){return KB(this.points)},e.prototype.getMaskAttrs=function(){return VB(this.points)},e}(RB),_B=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.maskShapes=[],e.starting=!1,e.moving=!1,e.recordPoints=null,e.preMovePoint=null,e.shapeType="path",e.maskType="multi-mask",e}return Tt(e,t),e.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},e.prototype.emitEvent=function(t){var e="".concat(this.maskType,":").concat(t),n=this.context.view,A=this.context.event,r={type:this.shapeType,name:this.maskType,get:function(t){return r.hasOwnProperty(t)?r[t]:void 0}};n.emit(e,{target:r,maskShapes:this.maskShapes,multiPoints:this.recordPoints,x:A.x,y:A.y})},e.prototype.createMask=function(t){var e=this.context.view,n=this.recordPoints[t],A=this.getMaskAttrs(n),r=e.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:Dt({fill:"#C5D4EB",opacity:.3},A)});this.maskShapes.push(r)},e.prototype.getMaskPath=function(t){return[]},e.prototype.show=function(){this.maskShapes.length>0&&(this.maskShapes.forEach((function(t){return t.show()})),this.emitEvent("show"))},e.prototype.start=function(t){this.recordPointStart(),this.starting=!0,this.moving=!1;var e=this.recordPoints.length-1;this.createMask(e),this.updateShapesCapture(!1),this.updateMask(null==t?void 0:t.maskStyle),this.emitEvent("start")},e.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint(),this.updateShapesCapture(!1)},e.prototype.move=function(){if(this.moving&&0!==this.maskShapes.length){var t=this.getCurrentPoint(),e=this.preMovePoint,n=t.x-e.x,A=t.y-e.y,r=this.getCurMaskShapeIndex();r>-1&&(this.recordPoints[r].forEach((function(t){t.x+=n,t.y+=A})),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t)}},e.prototype.updateMask=function(t){var e=this;this.recordPoints.forEach((function(n,A){var r=Ze({},e.getMaskAttrs(n),t);e.maskShapes[A].attr(r)}))},e.prototype.resize=function(){this.starting&&this.maskShapes.length>0&&(this.recordPointContinue(),this.updateMask(),this.emitEvent("change"))},e.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null,this.updateShapesCapture(!0)},e.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.updateShapesCapture(!0)},e.prototype.hide=function(){this.maskShapes.length>0&&(this.maskShapes.forEach((function(t){return t.hide()})),this.emitEvent("hide"))},e.prototype.remove=function(){var t=this.getCurMaskShapeIndex();t>-1&&(this.recordPoints.splice(t,1),this.maskShapes[t].remove(),this.maskShapes.splice(t,1),this.preMovePoint=null,this.updateShapesCapture(!0),this.emitEvent("change"))},e.prototype.clearAll=function(){this.recordPointClear(),this.maskShapes.forEach((function(t){return t.remove()})),this.maskShapes=[],this.preMovePoint=null},e.prototype.clear=function(){var t=this.getCurMaskShapeIndex();-1===t?(this.recordPointClear(),this.maskShapes.forEach((function(t){return t.remove()})),this.maskShapes=[],this.emitEvent("clearAll")):(this.recordPoints.splice(t,1),this.maskShapes[t].remove(),this.maskShapes.splice(t,1),this.preMovePoint=null,this.emitEvent("clearSingle")),this.preMovePoint=null},e.prototype.destroy=function(){this.clear(),t.prototype.destroy.call(this)},e.prototype.getRecordPoints=function(){var t;return Nt([],Vt(null!==(t=this.recordPoints)&&void 0!==t?t:[]),!1)},e.prototype.recordPointStart=function(){var t=this.getRecordPoints(),e=this.getCurrentPoint();this.recordPoints=Nt(Nt([],Vt(t),!1),[[e]],!1)},e.prototype.recordPointContinue=function(){var t=this.getRecordPoints(),e=this.getCurrentPoint(),n=t.splice(-1,1)[0]||[];n.push(e),this.recordPoints=Nt(Nt([],Vt(t),!1),[n],!1)},e.prototype.recordPointClear=function(){this.recordPoints=[]},e.prototype.updateShapesCapture=function(t){this.maskShapes.forEach((function(e){return e.set("capture",t)}))},e.prototype.getCurMaskShapeIndex=function(){var t=this.getCurrentPoint();return this.maskShapes.findIndex((function(e){var n=e.attrs,A=n.width,r=n.height,i=n.r;return!(0===A||0===r||0===i)&&e.isHit(t.x,t.y)}))},e}(Jh),XB=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shapeType="rect",e}return Tt(e,t),e.prototype.getRegion=function(t){return IB(t)},e.prototype.getMaskAttrs=function(t){var e=this.getRegion(t);return kB(e.start,e.end)},e}(_B),YB=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dim="x",e.inPlot=!0,e}return Tt(e,t),e.prototype.getRegion=function(t){var e=this.context.view.getCoordinate();return TB(t,this.dim,this.inPlot,e)},e}(XB),zB=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shapeType="circle",e.getMaskAttrs=MB,e}return Tt(e,t),e}(_B),WB=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.getMaskPath=PB,e.getMaskAttrs=OB,e}return Tt(e,t),e.prototype.addPoint=function(){this.resize()},e}(_B),jB=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.getMaskPath=KB,e.getMaskAttrs=VB,e}return Tt(e,t),e}(WB),JB=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.setCursor=function(t){this.context.view.getCanvas().setCursor(t)},e.prototype.default=function(){this.setCursor("default")},e.prototype.pointer=function(){this.setCursor("pointer")},e.prototype.move=function(){this.setCursor("move")},e.prototype.crosshair=function(){this.setCursor("crosshair")},e.prototype.wait=function(){this.setCursor("wait")},e.prototype.help=function(){this.setCursor("help")},e.prototype.text=function(){this.setCursor("text")},e.prototype.eResize=function(){this.setCursor("e-resize")},e.prototype.wResize=function(){this.setCursor("w-resize")},e.prototype.nResize=function(){this.setCursor("n-resize")},e.prototype.sResize=function(){this.setCursor("s-resize")},e.prototype.neResize=function(){this.setCursor("ne-resize")},e.prototype.nwResize=function(){this.setCursor("nw-resize")},e.prototype.seResize=function(){this.setCursor("se-resize")},e.prototype.swResize=function(){this.setCursor("sw-resize")},e.prototype.nsResize=function(){this.setCursor("ns-resize")},e.prototype.ewResize=function(){this.setCursor("ew-resize")},e.prototype.zoomIn=function(){this.setCursor("zoom-in")},e.prototype.zoomOut=function(){this.setCursor("zoom-out")},e}(Jh),qB=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.filterView=function(t,e,n){var A=this;t.getScaleByField(e)&&t.filter(e,n),t.views&&t.views.length&&$t(t.views,(function(t){A.filterView(t,e,n)}))},e.prototype.filter=function(){var t=dp(this.context);if(t){var e=this.context.view,n=t.component,A=n.get("field");if(yp(t)){if(A){var r=n.getItemsByState("unchecked"),i=Dp(e,A),o=r.map((function(t){return t.name}));o.length?this.filterView(e,A,(function(t){var e=i.getText(t);return!o.includes(e)})):this.filterView(e,A,null),e.render(!0)}}else if(vp(t)){var a=Vt(n.getValue(),2),s=a[0],l=a[1];this.filterView(e,A,(function(t){return t>=s&&t<=l})),e.render(!0)}}},e}(Jh);function ZB(t,e,n,A){var r=Math.min(n[e],A[e]),i=Math.max(n[e],A[e]),o=Vt(t.range,2),a=o[0],s=o[1];if(r<a&&(r=a),i>s&&(i=s),r===s&&i===s)return null;var l=t.invert(r),u=t.invert(i);if(t.isCategory){var c=t.values.indexOf(l),h=t.values.indexOf(u),p=t.values.slice(c,h+1);return function(t){return p.includes(t)}}return function(t){return t>=l&&t<=u}}!function(t){t.FILTER="brush-filter-processing",t.RESET="brush-filter-reset",t.BEFORE_FILTER="brush-filter:beforefilter",t.AFTER_FILTER="brush-filter:afterfilter",t.BEFORE_RESET="brush-filter:beforereset",t.AFTER_RESET="brush-filter:afterreset"}(GB||(GB={}));var $B=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dims=["x","y"],e.startPoint=null,e.isStarted=!1,e}return Tt(e,t),e.prototype.hasDim=function(t){return this.dims.includes(t)},e.prototype.start=function(){var t=this.context;this.isStarted=!0,this.startPoint=t.getCurrentPoint()},e.prototype.filter=function(){var t,e;if(mp(this.context)){var n=this.context.event.target.getCanvasBBox();t={x:n.x,y:n.y},e={x:n.maxX,y:n.maxY}}else{if(!this.isStarted)return;t=this.startPoint,e=this.context.getCurrentPoint()}if(!(Math.abs(t.x-e.x)<5||Math.abs(t.x-e.y)<5)){var A=this.context,r=A.view,i={view:r,event:A.event,dims:this.dims};r.emit(GB.BEFORE_FILTER,Qf.fromData(r,GB.BEFORE_FILTER,i));var o=r.getCoordinate(),a=o.invert(e),s=o.invert(t);if(this.hasDim("x")){var l=r.getXScale(),u=ZB(l,"x",a,s);this.filterView(r,l.field,u)}if(this.hasDim("y")){var c=r.getYScales()[0];u=ZB(c,"y",a,s);this.filterView(r,c.field,u)}this.reRender(r,{source:GB.FILTER}),r.emit(GB.AFTER_FILTER,Qf.fromData(r,GB.AFTER_FILTER,i))}},e.prototype.end=function(){this.isStarted=!1},e.prototype.reset=function(){var t=this.context.view;if(t.emit(GB.BEFORE_RESET,Qf.fromData(t,GB.BEFORE_RESET,{})),this.isStarted=!1,this.hasDim("x")){var e=t.getXScale();this.filterView(t,e.field,null)}if(this.hasDim("y")){var n=t.getYScales()[0];this.filterView(t,n.field,null)}this.reRender(t,{source:GB.RESET}),t.emit(GB.AFTER_RESET,Qf.fromData(t,GB.AFTER_RESET,{}))},e.prototype.filterView=function(t,e,n){t.filter(e,n)},e.prototype.reRender=function(t,e){t.render(!0,e)},e}(Jh),tx=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.filterView=function(t,e,n){$t(Lp(t),(function(t){t.filter(e,n)}))},e.prototype.reRender=function(t){$t(Lp(t),(function(t){t.render(!0)}))},e}($B),ex=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.filter=function(){var t=dp(this.context),e=this.context.view,n=Fp(e);if(mp(this.context)){var A=xp(this.context,10);A&&$t(n,(function(t){A.includes(t)?t.show():t.hide()}))}else if(t){var r=t.component,i=r.get("field");if(yp(t)){if(i){var o=r.getItemsByState("unchecked"),a=Dp(e,i),s=o.map((function(t){return t.name}));$t(n,(function(t){var e=Qp(t,i),n=a.getText(e);s.indexOf(n)>=0?t.hide():t.show()}))}}else if(vp(t)){var l=Vt(r.getValue(),2),u=l[0],c=l[1];$t(n,(function(t){var e=Qp(t,i);e>=u&&e<=c?t.show():t.hide()}))}}},e.prototype.clear=function(){$t(Fp(this.context.view),(function(t){t.show()}))},e.prototype.reset=function(){this.clear()},e}(Jh),nx=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.byRecord=!1,e}return Tt(e,t),e.prototype.filter=function(){mp(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},e.prototype.filterByRecord=function(){var t=this.context.view,e=xp(this.context,10);if(e){var n=t.getXScale().field,A=t.getYScales()[0].field,r=e.map((function(t){return t.getModel().data}));$t(Lp(t),(function(t){$t(Fp(t),(function(t){var e=t.getModel().data;Tp(r,e,n,A)?t.show():t.hide()}))}))}},e.prototype.filterByBBox=function(){var t=this;$t(Lp(this.context.view),(function(e){var n=wp(t.context,e,10),A=Fp(e);n&&$t(A,(function(t){n.includes(t)?t.show():t.hide()}))}))},e.prototype.reset=function(){$t(Lp(this.context.view),(function(t){$t(Fp(t),(function(t){t.show()}))}))},e}(Jh),Ax=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.buttonGroup=null,e.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},e}return Tt(e,t),e.prototype.getButtonCfg=function(){return Ze(this.buttonCfg,this.cfg)},e.prototype.drawButton=function(){var t=this.getButtonCfg(),e=this.context.view.foregroundGroup.addGroup({name:t.name}),n=e.addShape({type:"text",name:"button-text",attrs:Dt({text:t.text},t.textStyle)}).getBBox(),A=wf(t.padding),r=e.addShape({type:"rect",name:"button-rect",attrs:Dt({x:n.x-A[3],y:n.y-A[0],width:n.width+A[1]+A[3],height:n.height+A[0]+A[2]},t.style)});r.toBack(),e.on("mouseenter",(function(){r.attr(t.activeStyle)})),e.on("mouseleave",(function(){r.attr(t.style)})),this.buttonGroup=e},e.prototype.resetPosition=function(){var t=this.context.view.getCoordinate().convert({x:1,y:1}),e=this.buttonGroup,n=e.getBBox(),A=gr(null,[["t",t.x-n.width-10,t.y+n.height+5]]);e.setMatrix(A)},e.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},e.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},e.prototype.destroy=function(){var e=this.buttonGroup;e&&e.remove(),t.prototype.destroy.call(this)},e}(Jh),rx=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.starting=!1,e.dragStart=!1,e}return Tt(e,t),e.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},e.prototype.drag=function(){if(this.startPoint){var t=this.context.getCurrentPoint(),e=this.context.view,n=this.context.event;this.dragStart?e.emit("drag",{target:n.target,x:n.x,y:n.y}):Ip(t,this.startPoint)>4&&(e.emit("dragstart",{target:n.target,x:n.x,y:n.y}),this.dragStart=!0)}},e.prototype.end=function(){if(this.dragStart){var t=this.context.view,e=this.context.event;t.emit("dragend",{target:e.target,x:e.x,y:e.y})}this.starting=!1,this.dragStart=!1},e}(Jh),ix=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.starting=!1,e.isMoving=!1,e.startPoint=null,e.startMatrix=null,e}return Tt(e,t),e.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},e.prototype.move=function(){if(this.starting){var t=this.startPoint,e=this.context.getCurrentPoint();if(Ip(t,e)>5&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var n=this.context.view,A=gr(this.startMatrix,[["t",e.x-t.x,e.y-t.y]]);n.backgroundGroup.setMatrix(A),n.foregroundGroup.setMatrix(A),n.middleGroup.setMatrix(A)}}},e.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},e.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var t=this.context.view;t.backgroundGroup.resetMatrix(),t.foregroundGroup.resetMatrix(),t.middleGroup.resetMatrix(),this.isMoving=!1},e}(Jh),ox=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dims=["x","y"],e.cfgFields=["dims"],e.cacheScaleDefs={},e}return Tt(e,t),e.prototype.hasDim=function(t){return this.dims.includes(t)},e.prototype.getScale=function(t){var e=this.context.view;return"x"===t?e.getXScale():e.getYScales()[0]},e.prototype.resetDim=function(t){var e=this.context.view;if(this.hasDim(t)&&this.cacheScaleDefs[t]){var n=this.getScale(t);e.scale(n.field,this.cacheScaleDefs[t]),this.cacheScaleDefs[t]=null}},e.prototype.reset=function(){this.resetDim("x"),this.resetDim("y"),this.context.view.render(!0)},e}(Jh),ax=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startPoint=null,e.starting=!1,e.startCache={},e}return Tt(e,t),e.prototype.start=function(){var t=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0,$t(this.dims,(function(e){var n=t.getScale(e),A=n.min,r=n.max,i=n.values;t.startCache[e]={min:A,max:r,values:i}}))},e.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},e.prototype.translate=function(){var t=this;if(this.starting){var e=this.startPoint,n=this.context.view.getCoordinate(),A=this.context.getCurrentPoint(),r=n.invert(e),i=n.invert(A),o=i.x-r.x,a=i.y-r.y,s=this.context.view;$t(this.dims,(function(e){t.translateDim(e,{x:-1*o,y:-1*a})})),s.render(!0)}},e.prototype.translateDim=function(t,e){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.translateLinear(t,n,e)}},e.prototype.translateLinear=function(t,e,n){var A=this.context.view,r=this.startCache[t],i=r.min,o=r.max,a=o-i,s=n[t]*a;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:i,max:o}),A.scale(e.field,{nice:!1,min:i+s,max:o+s})},e.prototype.reset=function(){t.prototype.reset.call(this),this.startPoint=null,this.starting=!1},e}(ox),sx=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.zoomRatio=.05,e}return Tt(e,t),e.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},e.prototype.zoom=function(t){var e=this;$t(this.dims,(function(n){e.zoomDim(n,t)})),this.context.view.render(!0)},e.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},e.prototype.zoomDim=function(t,e){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.zoomLinear(t,n,e)}},e.prototype.zoomLinear=function(t,e,n){var A=this.context.view;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:e.min,max:e.max});var r=this.cacheScaleDefs[t],i=r.max-r.min,o=e.min,a=e.max,s=n*i,l=o-s,u=a+s,c=(u-l)/i;u>l&&c<100&&c>.01&&A.scale(e.field,{nice:!1,min:o-s,max:a+s})},e}(ox);var lx,ux,cx=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.scroll=function(t){var e=this.context,n=e.view,A=e.event;if(n.getOptions().scrollbar){var r=(null==t?void 0:t.wheelDelta)||1,i=n.getController("scrollbar"),o=n.getXScale(),a=n.getOptions().data,s=gn(de(a,o.field)),l=gn(o.values),u=i.getValue(),c=Math.floor((s-l)*u)+(function(t){return t.gEvent.originalEvent.deltaY>0}(A)?r:-r),h=Ce(c/(s-l)+r/(s-l)/1e4,0,1);i.setValue(h)}},e}(Jh),hx=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.show=function(){var t=this.context,e=dp(t).axis.cfg.title,n=e.description,A=e.text,r=e.descriptionTooltipStyle,i=t.event,o=i.x,a=i.y;this.tooltip||this.renderTooltip(),this.tooltip.update({title:A||"",customContent:function(){return'\n          <div class="'.concat(Dc,'" style={').concat(r,'}>\n            <div class="').concat(Pc,'">\n              字段说明：').concat(n,"\n            </div>\n          </div>\n        ")},x:o,y:a}),this.tooltip.show()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},e.prototype.hide=function(){this.tooltip&&this.tooltip.hide()},e.prototype.renderTooltip=function(){var t,e=this.context.view.canvas,n={start:{x:0,y:0},end:{x:e.get("width"),y:e.get("height")}},A=new yh({parent:e.get("el").parentNode,region:n,visible:!1,containerId:"aixs-description-tooltip",domStyles:Dt({},Ze({},(t={},t[Dc]={"max-width":"50%",padding:"10px","line-height":"15px","font-size":"12px",color:"rgba(0, 0, 0, .65)"},t[Pc]={"word-break":"break-all","margin-bottom":"3px"},t)))});A.init(),A.setCapture(!1),this.tooltip=A},e}(Jh);function px(t){return t.isInPlot()}function fx(t){return t.gEvent.preventDefault(),t.gEvent.originalEvent.deltaY>0}lx="dark",ux=Jp(jd),cf[Te(lx)]=uf(ux),Xn("canvas",oy),Xn("svg",Wy),Lf("Polygon",fv),Lf("Interval",lv),Lf("Schema",dv),Lf("Path",jy),Lf("Point",pv),Lf("Line",uv),Lf("Area",$y),Lf("Edge",tv),Lf("Heatmap",ev),Lf("Violin",gv),jf("base",gd),jf("interval",Uv),jf("pie",Sv),jf("polar",Mv),Jf("overlap",(function(t,e,n,A){var r=new Dv;$t(e,(function(t){for(var e=t.find((function(t){return"text"===t.get("type")})),n=e.attr(),A=n.x,i=n.y,o=!1,a=0;a<=8;a++){var s=Pv(e,A,i,a);if(r.hasGap(s)){r.fillGap(s),o=!0;break}}o||t.remove(!0)})),r.destroy()})),Jf("distribute",(function(t,e,n,A){if(t.length&&e.length){var r=t[0]?t[0].offset:0,i=e[0].get("coordinate"),o=i.getRadius(),a=i.getCenter();if(r>0){var s=2*(o+r)+28,l={start:i.start,end:i.end},u=[[],[]];t.forEach((function(t){t&&("right"===t.textAlign?u[0].push(t):u[1].push(t))})),u.forEach((function(t,n){var A=s/14;t.length>A&&(t.sort((function(t,e){return e["..percent"]-t["..percent"]})),t.splice(A,t.length-A)),t.sort((function(t,e){return t.y-e.y})),function(t,e,n,A,r,i){var o,a,s,l=!0,u=A.start,c=A.end,h=Math.min(u.y,c.y),p=Math.abs(u.y-c.y),f=0,d=Number.MIN_VALUE,g=e.map((function(t){return t.y>f&&(f=t.y),t.y<d&&(d=t.y),{size:n,targets:[t.y-h]}}));for(d-=h,f-h>p&&(p=f-h);l;)for(g.forEach((function(t){var e=(Math.min.apply(d,t.targets)+Math.max.apply(d,t.targets))/2;t.pos=Math.min(Math.max(d,e-t.size/2),p-t.size)})),l=!1,s=g.length;s--;)if(s>0){var y=g[s-1],v=g[s];y.pos+y.size>v.pos&&(y.size+=v.size,y.targets=y.targets.concat(v.targets),y.pos+y.size>p&&(y.pos=p-y.size),g.splice(s,1),l=!0)}s=0,g.forEach((function(t){var A=h+n/2;t.targets.forEach((function(){e[s].y=t.pos+A,A+=n,s++}))}));var m={};try{for(var B=Kt(t),x=B.next();!x.done;x=B.next()){var w=x.value;m[w.get("id")]=w}}catch(C){o={error:C}}finally{try{x&&!x.done&&(a=B.return)&&a.call(B)}finally{if(o)throw o.error}}e.forEach((function(t){var e=t.r*t.r,n=Math.pow(Math.abs(t.y-r.y),2);if(e<n)t.x=r.x;else{var A=Math.sqrt(e-n);t.x=i?r.x+A:r.x-A}var o=m[t.id];o.attr("x",t.x),o.attr("y",t.y);var a=re(o.getChildren(),(function(t){return"text"===t.get("type")}));a&&(a.attr("y",t.y),a.attr("x",t.x))}))}(e,t,14,l,a,n)}))}$t(t,(function(t){if(t&&t.labelLine){var e=t.offset,n=t.angle,A=Bh(a.x,a.y,o,n),r=Bh(a.x,a.y,o+e/2,n),i=t.x+on(t,"offsetX",0),s=t.y+on(t,"offsetY",0),l={x:i-4*Math.cos(n),y:s-4*Math.sin(n)};Zt(t.labelLine)||(t.labelLine={}),t.labelLine.path=["M ".concat(A.x),"".concat(A.y," Q").concat(r.x),"".concat(r.y," ").concat(l.x),l.y].join(",")}}))}})),Jf("fixed-overlap",(function(t,e,n,A){var r=new Dv;$t(e,(function(t){(function(t,e,n){void 0===n&&(n=Tv);var A,r=t.attr(),i=r.x,o=r.y,a=t.getCanvasBBox(),s=Math.sqrt(a.width*a.width+a.height*a.height),l=1,u=0,c=0;if(e.hasGap(a))return e.fillGap(a),!0;for(var h,p,f=!1,d=0,g={};Math.min(Math.abs(u),Math.abs(c))<s&&d<n;)if(h=l+=-1,p=void 0,c=~~(A=[(p=.1*h)*Math.cos(p),p*Math.sin(p)])[1],((u=~~A[0])||c)&&!g["".concat(u,"-").concat(c)]&&(t.attr({x:i+u,y:o+c}),u+c<0&&t.attr("textAlign","right"),d++,e.hasGap(t.getCanvasBBox()))){e.fillGap(t.getCanvasBBox()),f=!0,g["".concat(u,"-").concat(c)]=!0;break}return f})(t.find((function(t){return"text"===t.get("type")})),r)||t.remove(!0)})),r.destroy()})),Jf("hide-overlap",(function(t,e,n,A){return Ot(this,void 0,void 0,(function(){var n,A,r,i,o,a;return Rt(this,(function(s){switch(s.label){case 0:return n=e.map((function(e,n){return Dt(Dt({},cd(e,t[n],on(t[n],"background.padding"))),{visible:!0})})),A=JSON.stringify(n),r=function(t){return Wv.set(A,t),$t(t,(function(t,n){var A=t.visible,r=e[n];A?null==r||r.show():null==r||r.hide()})),t},Wv.get(A)?(r(Wv.get(A)),[3,7]):[3,1];case 1:if(!jv)return[3,6];s.label=2;case 2:return s.trys.push([2,4,,5]),i=JSON.stringify({type:"hide-overlap",items:n}),[4,jv.post(i,(function(){return r(zv(n))}))];case 3:return o=s.sent(),r(Array.isArray(o.data)?o.data:[]),[3,5];case 4:return a=s.sent(),console.error(a),r(zv(n)),[3,5];case 5:return[3,7];case 6:r(zv(n)),s.label=7;case 7:return[2]}}))}))})),Jf("limit-in-shape",(function(t,e,n,A){$t(e,(function(t,e){var A=t.getCanvasBBox(),r=n[e].getBBox();(A.minX<r.minX||A.minY<r.minY||A.maxX>r.maxX||A.maxY>r.maxY)&&t.remove(!0)}))})),Jf("limit-in-canvas",(function(t,e,n,A){$t(e,(function(t){var e=A.minX,n=A.minY,r=A.maxX,i=A.maxY,o=t.getCanvasBBox(),a=o.minX,s=o.minY,l=o.maxX,u=o.maxY,c=o.x,h=o.y,p=o.width,f=o.height,d=c,g=h;(a<e||l<e)&&(d=e),(s<n||u<n)&&(g=n),a>r?d=r-p:l>r&&(d-=l-r),s>i?g=i-f:u>i&&(g-=u-i),d===c&&g===h||sd(t,d-c,g-h)}))})),Jf("limit-in-plot",(function(t,e,n,A,r){if(!(e.length<=0)){var i=(null==r?void 0:r.direction)||["top","right","bottom","left"],o=(null==r?void 0:r.action)||"translate",a=(null==r?void 0:r.margin)||0,s=e[0].get("coordinate");if(s){var l=function(t,e){void 0===e&&(e=0);var n=t.start,A=t.end,r=t.getWidth(),i=t.getHeight(),o=Math.min(n.x,A.x),a=Math.min(n.y,A.y);return Eh.fromRange(o-e,a-e,o+r+e,a+i+e)}(s,a),u=l.minX,c=l.minY,h=l.maxX,p=l.maxY;$t(e,(function(t){var e=t.getCanvasBBox(),n=e.minX,A=e.minY,r=e.maxX,a=e.maxY,s=e.x,l=e.y,f=e.width,d=e.height,g=s,y=l;if(i.indexOf("left")>=0&&(n<u||r<u)&&(g=u),i.indexOf("top")>=0&&(A<c||a<c)&&(y=c),i.indexOf("right")>=0&&(n>h?g=h-f:r>h&&(g-=r-h)),i.indexOf("bottom")>=0&&(A>p?y=p-d:a>p&&(y-=a-p)),g!==s||y!==l){var v=g-s;if("translate"===o)sd(t,v,y-l);else if("ellipsis"===o){t.findAll((function(t){return"text"===t.get("type")})).forEach((function(t){var e=ln(t.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),n=t.getCanvasBBox(),A=function(t,e,n){var A,r=Am("...",n);A=pe(t)?t:He(t);var i,o,a=e,s=[];if(Am(t,n)<=e)return t;for(;i=A.substr(0,16),!((o=Am(i,n))+r>a&&o>a);)if(s.push(i),a-=o,!(A=A.substr(16)))return s.join("");for(;i=A.substr(0,1),!((o=Am(i,n))+r>a);)if(s.push(i),a-=o,!(A=A.substr(1)))return s.join("");return"".concat(s.join(""),"...")}(t.attr("text"),n.width-Math.abs(v),e);t.attr("text",A)}))}else t.hide()}}))}}})),Jf("pie-outer",(function(t,e,n,A){var r,i,o=Yt(t,(function(t){return!Jt(t)})),a=e[0]&&e[0].get("coordinate");if(a){var s=a.getCenter(),l=a.getRadius(),u={};try{for(var c=Kt(e),h=c.next();!h.done;h=c.next()){var p=h.value;u[p.get("id")]=p}}catch(C){r={error:C}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}var f=on(o[0],"labelHeight",14),d=on(o[0],"offset",0);if(!(d<=0)){var g="right",y=xe(o,(function(t){return t.x<s.x?"left":g})),v=a.start,m=a.end,B=Math.min(2*(l+d+f),a.getHeight()),x=B/2,w={minX:v.x,maxX:m.x,minY:s.y-x,maxY:s.y+x};$t(y,(function(t,e){var n=Math.floor(B/f);t.length>n&&(t.sort((function(t,e){return e.percent-t.percent})),$t(t,(function(t,e){e+1>n&&(u[t.id].set("visible",!1),t.invisible=!0)}))),Iv(t,f,w)})),$t(y,(function(t,e){$t(t,(function(t){var n=e===g,A=u[t.id].getChildByIndex(0);if(A){var r=l+d,i=t.y-s.y,o=Math.pow(r,2),c=Math.pow(i,2),h=o-c>0?o-c:0,p=Math.sqrt(h),f=Math.abs(Math.cos(t.angle)*r);t.x=n?s.x+Math.max(p,f):s.x-Math.max(p,f)}A&&(A.attr("y",t.y),A.attr("x",t.x)),function(t,e){var n=e.getCenter(),A=e.getRadius();if(t&&t.labelLine){var r=t.angle,i=t.offset,o=Bh(n.x,n.y,A,r),a=t.x+on(t,"offsetX",0)*(Math.cos(r)>0?1:-1),s=t.y+on(t,"offsetY",0)*(Math.sin(r)>0?1:-1),l={x:a-Math.cos(r)*kv,y:s-Math.sin(r)*kv},u=t.labelLine.smooth,c=[],h=l.x-n.x,p=l.y-n.y,f=Math.atan(p/h);if(h<0&&(f+=Math.PI),!1===u){Zt(t.labelLine)||(t.labelLine={});var d=0;(r<0&&r>-Math.PI/2||r>1.5*Math.PI)&&l.y>o.y&&(d=1),r>=0&&r<Math.PI/2&&l.y>o.y&&(d=1),r>=Math.PI/2&&r<Math.PI&&o.y>l.y&&(d=1),(r<-Math.PI/2||r>=Math.PI&&r<1.5*Math.PI)&&o.y>l.y&&(d=1);var g=i/2>4?4:Math.max(i/2-1,0),y=Bh(n.x,n.y,A+g,r),v=Bh(n.x,n.y,A+i/2,f);c.push("M ".concat(o.x," ").concat(o.y)),c.push("L ".concat(y.x," ").concat(y.y)),c.push("A ".concat(n.x," ").concat(n.y," 0 ").concat(0," ").concat(d," ").concat(v.x," ").concat(v.y)),c.push("L ".concat(l.x," ").concat(l.y))}else{y=Bh(n.x,n.y,A+(i/2>4?4:Math.max(i/2-1,0)),r);var m=o.x<n.x?1:-1;c.push("M ".concat(l.x," ").concat(l.y));var B=(o.y-n.y)/(o.x-n.x),x=(l.y-n.y)/(l.x-n.x);Math.abs(B-x)>Math.pow(Math.E,-16)&&c.push.apply(c,["C",l.x+4*m,l.y,2*y.x-o.x,2*y.y-o.y,o.x,o.y]),c.push("L ".concat(o.x," ").concat(o.y))}t.labelLine.path=c.join(" ")}}(t,a)}))}))}}})),Jf("adjust-color",(function(t,e,n){if(0!==n.length){var A=n[0].get("element").geometry.theme,r=A.labels||{},i=r.fillColorLight,o=r.fillColorDark;n.forEach((function(t,n){var r=e[n].find((function(t){return"text"===t.get("type")})),a=Eh.fromObject(t.getBBox()),s=Eh.fromObject(r.getCanvasBBox()),l=!a.contains(s),u=function(t){var e=ys.toRGB(t).toUpperCase();if(qv[e])return qv[e];var n=Vt(ys.rgb2arr(e),3);return(299*n[0]+587*n[1]+114*n[2])/1e3<128}(t.attr("fill"));l?r.attr(A.overflowLabels.style):u?i&&r.attr("fill",i):o&&r.attr("fill",o)}))}})),Jf("interval-adjust-position",(function(t,e,n){var A;if(0!==n.length){var r=null===(A=n[0])||void 0===A?void 0:A.get("element"),i=null==r?void 0:r.geometry;if(i&&"interval"===i.type)Zv(i,e,n)&&n.forEach((function(t,n){var A=e[n];!function(t,e,n){var A=t.coordinate,r=Eh.fromObject(n.getBBox()),i=ud(e);A.isTransposed?i.attr({x:r.minX+r.width/2,textAlign:"center"}):i.attr({y:r.minY+r.height/2,textBaseline:"middle"})}(i,A,t)}))}})),Jf("interval-hide-overlap",(function(t,e,n){var A;if(0!==n.length){var r=null===(A=n[0])||void 0===A?void 0:A.get("element"),i=null==r?void 0:r.geometry;if(i&&"interval"===i.type){var o,a=function(t){var e=[],n=Math.max(Math.floor(t.length/500),1);return $t(t,(function(t,A){A%n==0?e.push(t):t.set("visible",!1)})),e}(e),s=Vt(i.getXYFields(),1)[0],l=[],u=[],c=xe(a,(function(t){return t.get("data")[s]})),h=fe(An(a,(function(t){return t.get("data")[s]})));a.forEach((function(t){t.set("visible",!0)}));var p=function(t){t&&(t.length&&u.push(t.pop()),u.push.apply(u,Nt([],Vt(t),!1)))};for(gn(h)>0&&(o=h.shift(),p(c[o])),gn(h)>0&&(o=h.pop(),p(c[o])),$t(h.reverse(),(function(t){p(c[t])}));u.length>0;){var f=u.shift();f.get("visible")&&(hd(f,l)?f.set("visible",!1):l.push(f))}}}})),Jf("point-adjust-position",(function(t,e,n,A,r){var i,o;if(0!==n.length){var a=null===(i=n[0])||void 0===i?void 0:i.get("element"),s=null==a?void 0:a.geometry;if(s&&"point"===s.type){var l=Vt(s.getXYFields(),2),u=l[0],c=l[1],h=xe(e,(function(t){return t.get("data")[u]})),p=[],f=r&&r.offset||(null===(o=t[0])||void 0===o?void 0:o.offset)||12;An(te(h).reverse(),(function(t){for(var e=function(t,e){var n=t.getXYFields()[1],A=[],r=e.sort((function(t,e){return t.get("data")[n]-t.get("data")[n]}));return r.length>0&&A.push(r.shift()),r.length>0&&A.push(r.pop()),A.push.apply(A,Nt([],Vt(r),!1)),A}(s,h[t]);e.length;){var n=e.shift(),A=ud(n);if($v(p,n,(function(t,e){return t.get("data")[u]===e.get("data")[u]&&t.get("data")[c]===e.get("data")[c]})))A.set("visible",!1);else{var r=!1;tm(p,n)&&(A.attr("y",A.attr("y")+2*f),r=tm(p,n)),r?A.set("visible",!1):p.push(n)}}}))}}})),Jf("pie-spider",(function(t,e,n,A){var r,i,o=e[0]&&e[0].get("coordinate");if(o){var a=o.getCenter(),s=o.getRadius(),l={};try{for(var u=Kt(e),c=u.next();!c.done;c=u.next()){var h=c.value;l[h.get("id")]=h}}catch(C){r={error:C}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}var p=on(t[0],"labelHeight",14),f=Math.max(on(t[0],"offset",0),Lv);$t(t,(function(t){if(t&&on(l,[t.id])){var e=t.x>a.x||t.x===a.x&&t.y>a.y,n=Jt(t.offsetX)?4:t.offsetX,A=Bh(a.x,a.y,s+Lv,t.angle),r=f+n;t.x=a.x+(e?1:-1)*(s+r),t.y=A.y}}));var d=o.start,g=o.end,y="right",v=xe(t,(function(t){return t.x<a.x?"left":y})),m=2*(s+f)+p;$t(v,(function(t){var e=t.length*p;e>m&&(m=Math.min(e,Math.abs(d.y-g.y)))}));var B={minX:d.x,maxX:g.x,minY:a.y-m/2,maxY:a.y+m/2};$t(v,(function(t,e){var n=m/p;t.length>n&&(t.sort((function(t,e){return e.percent-t.percent})),$t(t,(function(t,e){e>n&&(l[t.id].set("visible",!1),t.invisible=!0)}))),Iv(t,p,B)}));var x=B.minY,w=B.maxY;$t(v,(function(t,e){var n=e===y;$t(t,(function(t){var e=on(l,t&&[t.id]);if(e)if(t.y<x||t.y>w)e.set("visible",!1);else{var A=e.getChildByIndex(0),r=A.getCanvasBBox(),i=n?r.x:r.maxX,a=r.y+r.height/2;sd(A,t.x-i,t.y-a),t.labelLine&&function(t,e,n){var A,r=e.getCenter(),i=e.getRadius(),o={x:t.x-(n?Hv:-Hv),y:t.y},a=Bh(r.x,r.y,i+Lv,t.angle),s={x:o.x,y:o.y},l={x:a.x,y:a.y},u=Bh(r.x,r.y,i,t.angle);if(o.y!==a.y){var c=n?4:-4;s.y=o.y,t.angle<0&&t.angle>=-Math.PI/2&&(s.x=Math.max(a.x,o.x-c),o.y<a.y?l.y=s.y:(l.y=a.y,l.x=Math.max(l.x,s.x-c))),t.angle>0&&t.angle<Math.PI/2&&(s.x=Math.max(a.x,o.x-c),o.y>a.y?l.y=s.y:(l.y=a.y,l.x=Math.max(l.x,s.x-c))),t.angle>Math.PI/2&&(s.x=Math.min(a.x,o.x-c),o.y>a.y?l.y=s.y:(l.y=a.y,l.x=Math.min(l.x,s.x-c))),t.angle<-Math.PI/2&&(s.x=Math.min(a.x,o.x-c),o.y<a.y?l.y=s.y:(l.y=a.y,l.x=Math.min(l.x,s.x-c)))}A=["M ".concat(o.x,",").concat(o.y),"L ".concat(s.x,",").concat(s.y),"L ".concat(l.x,",").concat(l.y),"L ".concat(a.x,",").concat(a.y),"L ".concat(u.x,",").concat(u.y)].join(" "),t.labelLine=Ze({},t.labelLine,{path:A})}(t,o,n)}}))}))}})),Jf("path-adjust-position",(function(t,e,n,A,r){var i,o;if(0!==n.length){var a=null===(i=n[0])||void 0===i?void 0:i.get("element"),s=null==a?void 0:a.geometry;if(s&&!(["path","line","area"].indexOf(s.type)<0)){var l=Vt(s.getXYFields(),2),u=l[0],c=l[1],h=xe(e,(function(t){return t.get("data")[u]})),p=[],f=r&&r.offset||(null===(o=t[0])||void 0===o?void 0:o.offset)||12;An(te(h).reverse(),(function(t){for(var e=function(t,e){var n=t.getXYFields()[1],A=[],r=e.sort((function(t,e){return t.get("data")[n]-t.get("data")[n]}));return r.length>0&&A.push(r.shift()),r.length>0&&A.push(r.pop()),A.push.apply(A,Nt([],Vt(r),!1)),A}(s,h[t]);e.length;){var n=e.shift(),A=ud(n);if(em(p,n,(function(t,e){return t.get("data")[u]===e.get("data")[u]&&t.get("data")[c]===e.get("data")[c]})))A.set("visible",!1);else{var r=!1;nm(p,n)&&(A.attr("y",A.attr("y")+2*f),r=nm(p,n)),r?A.set("visible",!1):p.push(n)}}}))}}})),Rf("fade-in",(function(t,e,n){var A={fillOpacity:Jt(t.attr("fillOpacity"))?1:t.attr("fillOpacity"),strokeOpacity:Jt(t.attr("strokeOpacity"))?1:t.attr("strokeOpacity"),opacity:Jt(t.attr("opacity"))?1:t.attr("opacity")};t.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),t.animate(A,e)})),Rf("fade-out",(function(t,e,n){var A=e.easing,r=e.duration,i=e.delay;t.animate({fillOpacity:0,strokeOpacity:0,opacity:0},r,A,(function(){t.remove(!0)}),i)})),Rf("grow-in-x",(function(t,e,n){rm(t,e,n.coordinate,n.minYPoint,"x")})),Rf("grow-in-xy",(function(t,e,n){rm(t,e,n.coordinate,n.minYPoint,"xy")})),Rf("grow-in-y",(function(t,e,n){rm(t,e,n.coordinate,n.minYPoint,"y")})),Rf("scale-in-x",(function(t,e,n){var A=t.getBBox(),r=t.get("origin").mappingData.points,i=r[0].y-r[1].y>0?A.maxX:A.minX,o=(A.minY+A.maxY)/2;t.applyToMatrix([i,o,1]);var a=gr(t.getMatrix(),[["t",-i,-o],["s",.01,1],["t",i,o]]);t.setMatrix(a),t.animate({matrix:gr(t.getMatrix(),[["t",-i,-o],["s",100,1],["t",i,o]])},e)})),Rf("scale-in-y",(function(t,e,n){var A=t.getBBox(),r=t.get("origin").mappingData,i=(A.minX+A.maxX)/2,o=r.points,a=o[0].y-o[1].y<=0?A.maxY:A.minY;t.applyToMatrix([i,a,1]);var s=gr(t.getMatrix(),[["t",-i,-a],["s",1,.01],["t",i,a]]);t.setMatrix(s),t.animate({matrix:gr(t.getMatrix(),[["t",-i,-a],["s",1,100],["t",i,a]])},e)})),Rf("wave-in",(function(t,e,n){var A=kh(n.coordinate,20),r=A.type,i=A.startState,o=A.endState,a=t.setClip({type:r,attrs:i});n.toAttrs&&t.attr(n.toAttrs),a.animate(o,Dt(Dt({},e),{callback:function(){t&&!t.get("destroyed")&&t.set("clipShape",null),a.remove(!0),jt(e.callback)&&e.callback()}}))})),Rf("zoom-in",(function(t,e,n){sm(t,e,"zoomIn")})),Rf("zoom-out",(function(t,e,n){sm(t,e,"zoomOut")})),Rf("position-update",(function(t,e,n){var A=n.toAttrs,r=A.x,i=A.y;delete A.x,delete A.y,t.attr(A),t.animate({x:r,y:i},e)})),Rf("sector-path-update",(function(t,e,n){var A=n.toAttrs,r=n.coordinate,i=A.path||[],o=i.map((function(t){return t[0]}));if(!(i.length<1)){var a=am(i),s=a.startAngle,l=a.endAngle,u=a.radius,c=a.innerRadius,h=am(t.attr("path")),p=h.startAngle,f=h.endAngle,d=r.getCenter(),g=s-p,y=l-f;0!==g||0!==y?t.animate((function(t){var e=p+t*g,n=f+t*y;return Dt(Dt({},A),{path:nn(o,["M","A","A","Z"])?wh(d.x,d.y,u,e,n):xh(d.x,d.y,u,e,n,c)})}),Dt(Dt({},e),{callback:function(){t.attr("path",i),jt(e.callback)&&e.callback()}})):t.attr(A)}})),Rf("path-in",(function(t,e,n){var A=t.getTotalLength();t.attr("lineDash",[A]),t.animate((function(t){return{lineDashOffset:(1-t)*A}}),e)})),jh("rect",dm),jh("mirror",fm),jh("list",hm),jh("matrix",pm),jh("circle",cm),jh("tree",gm),Ff("axis",Um),Ff("legend",Im),Ff("tooltip",Df),Ff("annotation",Bm),Ff("slider",km),Ff("scrollbar",Lm),tp("tooltip",Pm),tp("sibling-tooltip",Om),tp("ellipsis-text",Rm),tp("element-active",Nm),tp("element-single-active",Wm),tp("element-range-active",Ym),tp("element-highlight",AB),tp("element-highlight-by-x",iB),tp("element-highlight-by-color",rB),tp("element-single-highlight",aB),tp("element-range-highlight",oB),tp("element-sibling-highlight",oB,{effectSiblings:!0,effectByRecord:!0}),tp("element-selected",lB),tp("element-single-selected",uB),tp("element-range-selected",sB),tp("element-link-by-color",_m),tp("active-region",Dm),tp("list-active",hB),tp("list-selected",vB),tp("list-highlight",yB),tp("list-unchecked",mB),tp("list-checked",wB),tp("list-focus",FB),tp("list-radio",UB),tp("legend-item-highlight",yB,{componentNames:["legend"]}),tp("axis-label-highlight",yB,{componentNames:["axis"]}),tp("axis-description",hx),tp("rect-mask",LB),tp("x-rect-mask",DB,{dim:"x"}),tp("y-rect-mask",DB,{dim:"y"}),tp("circle-mask",SB),tp("path-mask",RB),tp("smooth-path-mask",NB),tp("rect-multi-mask",XB),tp("x-rect-multi-mask",YB,{dim:"x"}),tp("y-rect-multi-mask",YB,{dim:"y"}),tp("circle-multi-mask",zB),tp("path-multi-mask",WB),tp("smooth-path-multi-mask",jB),tp("cursor",JB),tp("data-filter",qB),tp("brush",$B),tp("brush-x",$B,{dims:["x"]}),tp("brush-y",$B,{dims:["y"]}),tp("sibling-filter",tx),tp("sibling-x-filter",tx,{dims:"x"}),tp("sibling-y-filter",tx,{dims:"y"}),tp("element-filter",ex),tp("element-sibling-filter",nx),tp("element-sibling-filter-record",nx,{byRecord:!0}),tp("view-drag",rx),tp("view-move",ix),tp("scale-translate",ax),tp("scale-zoom",sx),tp("reset-button",Ax,{name:"reset-button",text:"reset"}),tp("mousewheel-scroll",cx),Wp("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),Wp("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseout",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]}),Wp("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),Wp("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),Wp("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),Wp("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),Wp("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),Wp("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),Wp("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),Wp("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),Wp("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),Wp("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(t){return!t.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(t){return!t.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),Wp("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:px,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:px,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:px,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),Wp("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]}),Wp("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:px,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:px,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:px,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),Wp("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:px,action:"path-mask:start"},{trigger:"mousedown",isEnable:px,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),Wp("brush-x-multi",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"mousedown",isEnable:px,action:["x-rect-multi-mask:start","x-rect-multi-mask:show"]},{trigger:"mask:dragstart",action:["x-rect-multi-mask:moveStart"]}],processing:[{trigger:"mousemove",isEnable:function(t){return!Bp(t)},action:["x-rect-multi-mask:resize"]},{trigger:"multi-mask:change",action:"element-range-highlight:highlight"},{trigger:"mask:drag",action:["x-rect-multi-mask:move"]}],end:[{trigger:"mouseup",action:["x-rect-multi-mask:end"]},{trigger:"mask:dragend",action:["x-rect-multi-mask:moveEnd"]}],rollback:[{trigger:"dblclick",action:["x-rect-multi-mask:clear","cursor:crosshair"]},{trigger:"multi-mask:clearAll",action:["element-range-highlight:clear"]},{trigger:"multi-mask:clearSingle",action:["element-range-highlight:highlight"]}]}),Wp("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),Wp("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:["cursor:pointer","list-radio:show"]},{trigger:"legend-item:mouseleave",action:["cursor:default","list-radio:hide"]}],start:[{trigger:"legend-item:click",isEnable:function(t){return!t.isInShape("legend-item-radio")},action:["legend-item-highlight:reset","element-highlight:reset","list-unchecked:toggle","data-filter:filter","list-radio:show"]},{trigger:"legend-item-radio:mouseenter",action:["list-radio:showTip"]},{trigger:"legend-item-radio:mouseleave",action:["list-radio:hideTip"]},{trigger:"legend-item-radio:click",action:["list-focus:toggle","data-filter:filter","list-radio:show"]}]}),Wp("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),Wp("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),Wp("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["legend-item-highlight:reset","element-highlight:reset","list-unchecked:toggle","element-filter:filter"]}]}),Wp("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]}),Wp("axis-description",{start:[{trigger:"axis-description:mousemove",action:"axis-description:show"}],end:[{trigger:"axis-description:mouseleave",action:"axis-description:hide"}]}),Wp("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(t){return fx(t.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(t){return!fx(t.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),Wp("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]}),Wp("plot-mousewheel-scroll",{start:[{trigger:"plot:mousewheel",action:"mousewheel-scroll:scroll"}]});var dx,gx,yx=["type","alias","tickCount","tickInterval","min","max","nice","minLimit","maxLimit","range","tickMethod","base","exponent","mask","sync"];(gx=dx||(dx={})).ERROR="error",gx.WARN="warn",gx.INFO="log";var vx="AntV/G2Plot";function mx(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var A=0;return"".concat(vx,": ").concat(t.replace(/%s/g,(function(){return"".concat(e[A++])})))}function Bx(t,e,n){for(var A=[],r=3;r<arguments.length;r++)A[r-3]=arguments[r];e||console[t](mx.apply(void 0,Nt([n],A,!1)))}function xx(t,e){var n={};return null!==t&&"object"==typeof t&&e.forEach((function(e){var A=t[e];void 0!==A&&(n[e]=A)})),n}function wx(t,e){if(!t)return{};var n=t.filter((function(t){var n=on(t,[e]);return be(n)&&!isNaN(n)})),A=n.every((function(t){return on(t,[e])>=0})),r=n.every((function(t){return on(t,[e])<=0}));return A?{min:0}:r?{max:0}:{}}function Cx(t,e,n,A,r){if(void 0===r&&(r=[]),!Array.isArray(t))return{nodes:[],links:[]};var i=[],o={},a=-1;return t.forEach((function(t){var s=t[e],l=t[n],u=t[A],c=xx(t,r);o[s]||(o[s]=Dt({id:++a,name:s},c)),o[l]||(o[l]=Dt({id:++a,name:l},c)),i.push(Dt({source:o[s].id,target:o[l].id,value:u},c))})),{nodes:Object.values(o).sort((function(t,e){return t.id-e.id})),links:i}}function Fx(t,e){var n=Yt(t,(function(t){var n=t[e];return null===n||"number"==typeof n&&!isNaN(n)}));return Bx(dx.WARN,n.length===t.length,"illegal data existed in chart data."),n}var bx,Qx={}.toString,Ux=function(t,e){return Qx.call(t)==="[object "+e+"]"},Ex=function(t){return Ux(t,"Array")},Mx=function(t){if(!function(t){return"object"==typeof t&&null!==t}(t)||!Ux(t,"Object"))return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},Sx=function(t,e,n,A){for(var r in n=n||0,A=A||5,e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=e[r];i?Mx(i)?(Mx(t[r])||(t[r]={}),n<A?Sx(t[r],i,n+1,A):t[r]=e[r]):Ex(i)?(t[r]=[],t[r]=t[r].concat(i)):t[r]=i:t[r]=i}},Ix=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var A=0;A<e.length;A+=1)Sx(t,e[A]);return t};function kx(t){if(!t)return{width:0,height:0};var e=getComputedStyle(t);return{width:(t.clientWidth||parseInt(e.width,10))-parseInt(e.paddingLeft,10)-parseInt(e.paddingRight,10),height:(t.clientHeight||parseInt(e.height,10))-parseInt(e.paddingTop,10)-parseInt(e.paddingBottom,10)}}function Lx(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return t.reduce((function(t,e){return e(t)}),e)}}function Hx(t,e){return t.geometries.find((function(t){return t.type===e}))}function Tx(t){return ce(t.geometries,(function(t,e){return t.concat(e.elements)}),[])}function Dx(t){return on(t,["views","length"],0)<=0?Tx(t):ce(t.views,(function(t,e){return t.concat(Dx(e))}),Tx(t))}function Px(t){return t?t.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g).map((function(t){return t.toLowerCase()})).join("-"):t}function Ox(t){if(!Wt(t,"Object"))return t;var e=Dt({},t);return e.formatter&&!e.content&&(e.content=e.formatter),e}function Rx(t){return"number"==typeof t&&!isNaN(t)}function Kx(t){if(be(t))return[t,t,t,t];if(qt(t)){var e=t.length;if(1===e)return[t[0],t[0],t[0],t[0]];if(2===e)return[t[0],t[1],t[0],t[1]];if(3===e)return[t[0],t[1],t[2],t[1]];if(4===e)return t}return[0,0,0,0]}function Vx(t,e,n){void 0===e&&(e="bottom"),void 0===n&&(n=25);var A=Kx(t),r=[e.startsWith("top")?n:0,e.startsWith("right")?n:0,e.startsWith("bottom")?n:0,e.startsWith("left")?n:0];return[A[0]+r[0],A[1]+r[1],A[2]+r[2],A[3]+r[3]]}function Gx(t){var e=t.map((function(t){return Kx(t)})),n=[0,0,0,0];return e.length>0&&(n=n.map((function(t,n){return e.forEach((function(A,r){t+=e[r][n]})),t}))),n}Je((function(t,e){void 0===e&&(e={});var n=e.fontSize,A=e.fontFamily,r=void 0===A?"sans-serif":A,i=e.fontWeight,o=e.fontStyle,a=e.fontVariant,s=(bx||(bx=document.createElement("canvas").getContext("2d")),bx);return s.font=[o,i,a,"".concat(n,"px"),r].join(" "),s.measureText(pe(t)?t:"").width}),(function(t,e){return void 0===e&&(e={}),Nt([t],Le(e),!0).join("")}));var Nx=function(t,e,n,A){var r,i,o,a,s=[],l=!!A;if(l){o=[1/0,1/0],a=[-1/0,-1/0];for(var u=0,c=t.length;u<c;u++){o=rr([0,0],o,p=t[u]),a=ir([0,0],a,p)}o=rr([0,0],o,A[0]),a=ir([0,0],a,A[1])}u=0;for(var h=t.length;u<h;u++){var p=t[u];if(n)r=t[u?u-1:h-1],i=t[(u+1)%h];else{if(0===u||u===h-1){s.push(p);continue}r=t[u-1],i=t[u+1]}var f=[0,0];f=or(f=cr(f,i,r),f,e);var d=ar(p,r),g=ar(p,i),y=d+g;0!==y&&(d/=y,g/=y);var v=or([0,0],f,-d),m=or([0,0],f,g),B=nr([0,0],p,v),x=nr([0,0],p,m);l&&(B=rr([0,0],B=ir([0,0],B,o),a),x=rr([0,0],x=ir([0,0],x,o),a)),s.push(B),s.push(x)}return n&&s.push(s.shift()),s};function _x(t,e,n){var A=[],r=t[0],i=null;if(t.length<=2)return function(t,e){var n=[];if(t.length){n.push(["M",t[0].x,t[0].y]);for(var A=1,r=t.length;A<r;A+=1){var i=t[A];n.push(["L",i.x,i.y])}e&&n.push(["Z"])}return n}(t,e);for(var o=0,a=t.length;o<a;o++){var s=t[o];i&&i.x===s.x&&i.y===s.y||(A.push(s.x),A.push(s.y),i=s)}var l=function(t,e,n){for(var A=!!e,r=[],i=0,o=t.length;i<o;i+=2)r.push([t[i],t[i+1]]);var a,s,l,u=Nx(r,.4,A,n),c=r.length,h=[];for(i=0;i<c-1;i++)a=u[2*i],s=u[2*i+1],l=r[i+1],h.push(["C",a[0],a[1],s[0],s[1],l[0],l[1]]);return A&&(a=u[c],s=u[c+1],l=r[0],h.push(["C",a[0],a[1],s[0],s[1],l[0],l[1]])),h}(A,e,n||[[0,0],[1,1]]);return l.unshift(["M",r.x,r.y]),l}function Xx(t){var e={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",display:"flex",justifyContent:"center",alignItems:"center"},n=["stroke","lineWidth","shadowColor","strokeOpacity","shadowBlur","shadowOffsetX","shadowOffsetY","fill"];on(t,"fill")&&(e.color=t.fill);var A=xx(t,n),r=A.shadowColor,i=A.shadowBlur,o=void 0===i?0:i,a=A.shadowOffsetX,s=void 0===a?0:a,l=A.shadowOffsetY,u=void 0===l?0:l;e["text-shadow"]="".concat([r,"".concat(s,"px"),"".concat(u,"px"),"".concat(o,"px")].join(" "));var c=xx(t,n),h=c.stroke,p=c.lineWidth,f=void 0===p?0:p;return e["-webkit-text-stroke"]="".concat(["".concat(f,"px"),h].join(" ")),$t(t,(function(t,A){["fontSize"].includes(A)&&be(t)?e[Px(A)]="".concat(t,"px"):A&&!n.includes(A)&&(e[Px(A)]="".concat(t))})),e}function Yx(t,e){t.style["pointer-events"]="none",$t(e,(function(e,n){n&&e&&(t.style[n]=e)}))}var zx=function(t,e,n){var A=e.statistic,r=e.plotType,i=A.title,o=A.content;[i,o].forEach((function(e,A){if(e){var a="";a=0===A?o?"translate(-50%, -100%)":"translate(-50%, -50%)":i?"translate(-50%, 0)":"translate(-50%, -50%)";var s=jt(e.style)?e.style(n):e.style;t.annotation().html(Dt({position:["50%","50%"],html:function(t,A){var i=A.getCoordinate(),o=0;if("pie"===r||"ring-progress"===r)o=i.getRadius()*i.innerRadius*2;else if("liquid"===r){var l=on(A.geometries,[0,"elements",0,"shape"]);if(l)o=l.find((function(t){return"wrap"===t.get("name")})).getCanvasBBox().width}else o||(o=i.getWidth());Yx(t,Dt({width:"".concat(o,"px"),transform:a},Xx(s)));var u=A.getData();if(e.customHtml)return e.customHtml(t,A,n,u);var c=e.content;return e.formatter&&(c=e.formatter(n,u)),c?pe(c)?c:"".concat(c):"<div></div>"},key:"".concat(0===A?"top":"bottom","-statistic")},xx(e,["offsetX","offsetY","rotate","style","formatter"])))}}))},Wx=function(t,e,n){var A=e.statistic;[A.title,A.content].forEach((function(e){if(e){var A=jt(e.style)?e.style(n):e.style;t.annotation().html(Dt({position:["50%","100%"],html:function(t,r){var i=r.getCoordinate(),o=r.views[0].getCoordinate(),a=o.getCenter(),s=o.getRadius(),l=Math.max(Math.sin(o.startAngle),Math.sin(o.endAngle))*s,u=a.y+l-i.y.start-parseFloat(on(A,"fontSize",0)),c=i.getRadius()*i.innerRadius*2;Yx(t,Dt({width:"".concat(c,"px"),transform:"translate(-50%, ".concat(u,"px)")},Xx(A)));var h=r.getData();if(e.customHtml)return e.customHtml(t,r,n,h);var p=e.content;return e.formatter&&(p=e.formatter(n,h)),p?pe(p)?p:"".concat(p):"<div></div>"}},xx(e,["offsetX","offsetY","rotate","style","formatter"])))}}))};function jx(t,e){return e?ce(e,(function(t,e,n){return t.replace(new RegExp("{\\s*".concat(n,"\\s*}"),"g"),e)}),t):t}function Jx(t,e){return t.views.find((function(t){return t.id===e}))}function qx(t){var e=t.parent;return e?e.views:[]}function Zx(t){return qx(t).filter((function(e){return e!==t}))}function $x(t,e,n){void 0===n&&(n=t.geometries),"boolean"==typeof e?t.animate(e):t.animate(!0),$t(n,(function(t){var n;n=jt(e)?e(t.type||t.shapeType,t)||!0:e,t.animate(n)}))}function tw(){return"object"==typeof window?null===window||void 0===window?void 0:window.devicePixelRatio:2}function ew(t,e){void 0===e&&(e=t);var n=document.createElement("canvas"),A=tw();return n.width=t*A,n.height=e*A,n.style.width="".concat(t,"px"),n.style.height="".concat(e,"px"),n.getContext("2d").scale(A,A),n}function nw(t,e,n,A){void 0===A&&(A=n);var r=e.backgroundColor,i=e.opacity;t.globalAlpha=i,t.fillStyle=r,t.beginPath(),t.fillRect(0,0,n,A),t.closePath()}function Aw(t,e,n){var A=t+e;return n?2*A:A}function rw(t,e){return e?[[t*(1/4),t*(1/4)],[t*(3/4),t*(3/4)]]:[[.5*t,.5*t]]}function iw(t,e){var n=e*Math.PI/180;return{a:Math.cos(n)*(1/t),b:Math.sin(n)*(1/t),c:-Math.sin(n)*(1/t),d:Math.cos(n)*(1/t),e:0,f:0}}var ow={size:6,padding:2,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0,isStagger:!0};function aw(t,e,n,A){var r=e.size,i=e.fill,o=e.lineWidth,a=e.stroke,s=e.fillOpacity;t.beginPath(),t.globalAlpha=s,t.fillStyle=i,t.strokeStyle=a,t.lineWidth=o,t.arc(n,A,r/2,0,2*Math.PI,!1),t.fill(),o&&t.stroke(),t.closePath()}var sw={rotation:45,spacing:5,opacity:1,backgroundColor:"transparent",strokeOpacity:.5,stroke:"#fff",lineWidth:2};function lw(t){var e=Ix({},sw,t),n=e.spacing,A=e.rotation,r=e.lineWidth,i=n+r||1,o=n+r||1,a="\n            M 0 0 L ".concat(i," 0\n            M 0 ").concat(o," L ").concat(i," ").concat(o,"\n            "),s=ew(i,o),l=s.getContext("2d");nw(l,e,i,o),function(t,e,n){var A=e.stroke,r=e.lineWidth,i=e.strokeOpacity,o=new Path2D(n);t.globalAlpha=i,t.lineCap="square",t.strokeStyle=r?A:"transparent",t.lineWidth=r,t.stroke(o)}(l,e,a);var u=l.createPattern(s,"repeat");if(u){var c=iw(tw(),A);u.setTransform(c)}return u}var uw={size:6,padding:1,isStagger:!0,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0};function cw(t,e,n,A){var r=e.stroke,i=e.size,o=e.fill,a=e.lineWidth,s=e.fillOpacity;t.globalAlpha=s,t.strokeStyle=r,t.lineWidth=a,t.fillStyle=o,t.strokeRect(n-i/2,A-i/2,i,i),t.fillRect(n-i/2,A-i/2,i,i)}function hw(t){var e,n=t.type,A=t.cfg;switch(n){case"dot":e=function(t){var e=Ix({},ow,t),n=e.size,A=e.padding,r=e.isStagger,i=e.rotation,o=Aw(n,A,r),a=rw(o,r),s=ew(o,o),l=s.getContext("2d");nw(l,e,o);for(var u=0,c=a;u<c.length;u++){var h=c[u];aw(l,e,h[0],h[1])}var p=l.createPattern(s,"repeat");if(p){var f=iw(tw(),i);p.setTransform(f)}return p}(A);break;case"line":e=lw(A);break;case"square":e=function(t){var e=Ix({},uw,t),n=e.size,A=e.padding,r=e.isStagger,i=e.rotation,o=Aw(n,A,r),a=rw(o,r),s=ew(o,o),l=s.getContext("2d");nw(l,e,o);for(var u=0,c=a;u<c.length;u++){var h=c[u];cw(l,e,h[0],h[1])}var p=l.createPattern(s,"repeat");if(p){var f=iw(tw(),i);p.setTransform(f)}return p}(A)}return e}function pw(t){var e=this;return function(n){var A,r=n.options,i=n.chart,o=r.pattern;if(!o)return n;return Ix({},n,{options:(A={},A[t]=function(n){for(var A,a,s,l=[],u=1;u<arguments.length;u++)l[u-1]=arguments[u];var c=i.getTheme().defaultColor,h=c,p=null===(a=null===(A=i.geometries)||void 0===A?void 0:A[0])||void 0===a?void 0:a.getAttribute("color");if(p){var f=p.getFields()[0],d=on(n,f);h=Dd.getMappingValue(p,d,(null===(s=p.values)||void 0===s?void 0:s[0])||c)}var g=o;"function"==typeof o&&(g=o.call(e,n,h)),g instanceof CanvasPattern==!1&&(g=hw(Ix({},{cfg:{backgroundColor:h}},g)));var y=r[t];return Dt(Dt({},"function"==typeof y?y.call.apply(y,Nt([e,n],l,!1)):y||{}),{fill:g||h})},A)})}}function fw(t){var e=t.chart,n=t.options,A=n.legend,r=n.colorField,i=n.seriesField;return!1===A?e.legend(!1):(r||i)&&e.legend(r||i,A),t}function dw(t){var e=t.chart,n=t.options.tooltip;return void 0!==n&&e.tooltip(n),t}function gw(t){var e=t.chart;return $t(t.options.interactions,(function(t){!1===t.enable?e.removeInteraction(t.type):e.interaction(t.type,t.cfg||{})})),t}function yw(t){return $x(t.chart,t.options.animation),t}function vw(t){var e=t.chart,n=t.options.theme;return n&&e.theme(n),t}function mw(t){var e=t.chart,n=t.options.state;return n&&$t(e.geometries,(function(t){t.state(n)})),t}function Bw(t){var e=t.chart,n=t.options.slider;return e.option("slider",n),t}function xw(t){var e=t.chart,n=t.options.scrollbar;return e.option("scrollbar",n),t}function ww(t,e){return function(n){var A=n.chart,r=n.options,i={};return $t(t,(function(t,e){i[e]=xx(t,yx)})),i=Ix({},e,r.meta,i),A.scale(i),n}}function Cw(t){return function(e){var n=e.chart,A=e.options,r=n.getController("annotation");return $t(Nt(Nt([],A.annotations||[],!0),t||[],!0),(function(t){r.annotation(t)})),e}}function Fw(t){var e=t.chart,n=t.options,A=n.yAxis,r=n.limitInPlot,i=r;return Zt(A)&&Jt(r)&&(i=!!Object.values(xx(A,["min","max","minLimit","maxLimit"])).some((function(t){return!Jt(t)}))),e.limitInPlot=i,t}function bw(t){return void 0===t&&(t="rect"),function(e){var n=e.chart,A=e.options.coordinate,r=Array.from(A||[]).map((function(t){return"reflectX"===t.type?["reflect","x"]:"reflectY"===t.type?["reflect","y"]:"transpose"===t.type?["transpose"]:null})).filter((function(t){return!!t}));return 0!==r.length&&n.coordinate({type:t,actions:r}),e}}var Qw={locale:"en-US"},Uw={};function Ew(t,e){Uw[t]=e}function Mw(t){return{get:function(e,n){return jx(on(Uw[t],e)||on(Uw[Qw.locale],e)||on(Uw["en-US"],e)||e,n)}}}function Sw(t,e){if(!1===t)return{fields:!1};var n=on(t,"fields"),A=on(t,"formatter");return A&&!n&&(n=e),{fields:n,formatter:A}}function Iw(t,e){var n=t.type,A=t.xField,r=t.yField,i=t.colorField,o=t.shapeField,a=t.sizeField,s=t.styleField,l=t.rawFields,u=[];if(l=(jt(l)?l(n,e):l)||[],"color"===e)u=Nt([i||A],l,!0);else if("shape"===e)u=Nt([o||A],l,!0);else if("size"===e)u=Nt([a||A],l,!0);else{u=Nt([A,r,i,o,a,s],l,!0);var c=["x","y","color","shape","size","style"].indexOf(e),h=u[c];u.splice(c,1),u.unshift(h)}var p=fe(u.filter((function(t){return!!t}))),f="line"===n&&[A,r].includes(p.join("*"))?"":p.join("*");return{mappingFields:p,tileMappingField:f}}function kw(t,e){if(e)return function(){for(var n=[],A=0;A<arguments.length;A++)n[A]=arguments[A];var r={};return t.forEach((function(t,e){r[t]=n[e]})),delete r[void 0],e(r)}}function Lw(t){var e=t.chart,n=t.options,A=n.type,r=n.args,i=n.mapping,o=n.xField,a=n.yField,s=n.colorField,l=n.shapeField,u=n.sizeField,c=n.tooltipFields,h=n.label,p=n.state,f=n.customInfo;if(!i)return t;var d=i.color,g=i.shape,y=i.size,v=i.style,m=i.tooltip,B=e[A](r).position("".concat(o,"*").concat(a));if(pe(d))s?B.color(s,d):B.color(d);else if(jt(d)){var x=Iw(n,"color"),w=x.mappingFields,C=x.tileMappingField;B.color(C,kw(w,d))}else s&&B.color(s,d);if(pe(g))l?B.shape(l,[g]):B.shape(g);else if(jt(g)){var F=Iw(n,"shape");w=F.mappingFields,C=F.tileMappingField;B.shape(C,kw(w,g))}else l&&B.shape(l,g);if(be(y))u?B.size(u,y):B.size(y);else if(jt(y)){var b=Iw(n,"size");w=b.mappingFields,C=b.tileMappingField;B.size(C,kw(w,y))}else u&&B.size(u,y);if(jt(v)){var Q=Iw(n,"style");w=Q.mappingFields,C=Q.tileMappingField;B.style(C,kw(w,v))}else Zt(v)&&B.style(v);if(!1===c?B.tooltip(!1):en(c)||B.tooltip(c.join("*"),kw(c,m)),!1===h)B.label(!1);else if(h){var U=h.callback,E=h.fields,M=Pt(h,["callback","fields"]);B.label({fields:E||[a],callback:U,cfg:Ox(M)})}return p&&B.state(p),f&&B.customInfo(f),[o,a].filter((function(t){return t!==s})).forEach((function(t){e.legend(t,!1)})),Dt(Dt({},t),{ext:{geometry:B}})}function Hw(t){var e=t.options,n=e.area,A=e.xField,r=e.yField,i=e.seriesField,o=e.smooth,a=e.tooltip,s=e.useDeferredLabel,l=Sw(a,[A,r,i]),u=l.fields,c=l.formatter;return n?Lw(Ix({},t,{options:{type:"area",colorField:i,tooltipFields:u,mapping:Ze({shape:o?"smooth":"area",tooltip:c},n),args:{useDeferredLabel:s}}})):t}function Tw(t){var e=t.options,n=e.edge,A=e.xField,r=e.yField,i=e.seriesField,o=e.tooltip,a=e.useDeferredLabel,s=Sw(o,[A,r,i]),l=s.fields,u=s.formatter;return n?Lw(Ix({},t,{options:{type:"edge",colorField:i,tooltipFields:l,mapping:Dt({tooltip:u},n),args:{useDeferredLabel:a}}})):t}function Dw(t){var e=t.options,n=e.xField,A=e.yField,r=e.interval,i=e.seriesField,o=e.tooltip,a=e.minColumnWidth,s=e.maxColumnWidth,l=e.columnBackground,u=e.dodgePadding,c=e.intervalPadding,h=e.useDeferredLabel,p=Sw(o,[n,A,i]),f=p.fields,d=p.formatter,g=(r?Lw(Ix({},t,{options:{type:"interval",colorField:i,tooltipFields:f,mapping:Dt({tooltip:d},r),args:{dodgePadding:u,intervalPadding:c,minColumnWidth:a,maxColumnWidth:s,background:l,useDeferredLabel:h}}})):t).ext;return function(t){var e=t.chart,n=t.options,A=t.ext,r=n.seriesField,i=n.isGroup,o=n.isStack,a=n.marginRatio,s=n.widthRatio,l=n.groupField,u=n.theme,c=[];return r&&(i&&c.push({type:"dodge",dodgeBy:l||r,marginRatio:a}),o&&c.push({type:"stack",marginRatio:a})),c.length&&(null==A?void 0:A.geometry)&&(null==A?void 0:A.geometry).adjust(c),Jt(s)||e.theme(Ix({},Zt(u)?u:hf(u),{columnWidthRatio:s})),t}(Dt(Dt({},t),{ext:g}))}function Pw(t){var e=t.options,n=e.line,A=e.stepType,r=e.xField,i=e.yField,o=e.seriesField,a=e.smooth,s=e.connectNulls,l=e.tooltip,u=e.useDeferredLabel,c=Sw(l,[r,i,o]),h=c.fields,p=c.formatter;return n?Lw(Ix({},t,{options:{type:"line",colorField:o,tooltipFields:h,mapping:Ze({shape:A||(a?"smooth":"line"),tooltip:p},n),args:{connectNulls:s,useDeferredLabel:u}}})):t}function Ow(t){var e=t.options,n=e.point,A=e.xField,r=e.yField,i=e.seriesField,o=e.sizeField,a=e.shapeField,s=e.tooltip,l=e.useDeferredLabel,u=Sw(s,[A,r,i,o,a]),c=u.fields,h=u.formatter;return n?Lw(Ix({},t,{options:{type:"point",colorField:i,shapeField:a,tooltipFields:c,mapping:Dt({tooltip:h},n),args:{useDeferredLabel:l}}})):t}function Rw(t){var e=t.options,n=e.polygon,A=e.xField,r=e.yField,i=e.seriesField,o=e.tooltip,a=e.useDeferredLabel,s=Sw(o,[A,r,i]),l=s.fields,u=s.formatter;return n?Lw(Ix({},t,{options:{type:"polygon",colorField:i,tooltipFields:l,mapping:Dt({tooltip:u},n),args:{useDeferredLabel:a}}})):t}function Kw(t){var e=t.options,n=e.schema,A=e.xField,r=e.yField,i=e.seriesField,o=e.tooltip,a=e.useDeferredLabel,s=Sw(o,[A,r,i]),l=s.fields,u=s.formatter;return n?Lw(Ix({},t,{options:{type:"schema",colorField:i,tooltipFields:l,mapping:Dt({tooltip:u},n),args:{useDeferredLabel:a}}})):t}function Vw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gw={},Nw={},_w={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=1;t.default=function(){return"".concat(e++)}}(_w);var Xw={},Yw={},zw={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,n=null;return function(){for(var A=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];clearTimeout(n),n=setTimeout((function(){t.apply(A,i)}),e)}}}(zw);var Ww={};Object.defineProperty(Ww,"__esModule",{value:!0}),Ww.SizeSensorId=Ww.SensorTabIndex=Ww.SensorClassName=void 0;Ww.SizeSensorId="size-sensor-id";Ww.SensorClassName="size-sensor-object";Ww.SensorTabIndex="-1",Object.defineProperty(Yw,"__esModule",{value:!0}),Yw.createSensor=void 0;var jw,Jw=(jw=zw)&&jw.__esModule?jw:{default:jw},qw=Ww;Yw.createSensor=function(t,e){var n=void 0,A=[],r=(0,Jw.default)((function(){A.forEach((function(e){e(t)}))})),i=function(){n&&n.parentNode&&(n.contentDocument&&n.contentDocument.defaultView.removeEventListener("resize",r),n.parentNode.removeChild(n),t.removeAttribute(qw.SizeSensorId),n=void 0,A=[],e&&e())};return{element:t,bind:function(e){n||(n=function(){"static"===getComputedStyle(t).position&&(t.style.position="relative");var e=document.createElement("object");return e.onload=function(){e.contentDocument.defaultView.addEventListener("resize",r),r()},e.style.display="block",e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.height="100%",e.style.width="100%",e.style.overflow="hidden",e.style.pointerEvents="none",e.style.zIndex="-1",e.style.opacity="0",e.setAttribute("class",qw.SensorClassName),e.setAttribute("tabindex",qw.SensorTabIndex),e.type="text/html",t.appendChild(e),e.data="about:blank",e}()),-1===A.indexOf(e)&&A.push(e)},destroy:i,unbind:function(t){var e=A.indexOf(t);-1!==e&&A.splice(e,1),0===A.length&&n&&i()}}};var Zw={};Object.defineProperty(Zw,"__esModule",{value:!0}),Zw.createSensor=void 0;var $w=Ww,tC=function(t){return t&&t.__esModule?t:{default:t}}(zw);Zw.createSensor=function(t,e){var n=void 0,A=[],r=(0,tC.default)((function(){A.forEach((function(e){e(t)}))})),i=function(){n.disconnect(),A=[],n=void 0,t.removeAttribute($w.SizeSensorId),e&&e()};return{element:t,bind:function(e){var i;n||((i=new ResizeObserver(r)).observe(t),r(),n=i),-1===A.indexOf(e)&&A.push(e)},destroy:i,unbind:function(t){var e=A.indexOf(t);-1!==e&&A.splice(e,1),0===A.length&&n&&i()}}},Object.defineProperty(Xw,"__esModule",{value:!0}),Xw.createSensor=void 0;var eC=Yw,nC="undefined"!=typeof ResizeObserver?Zw.createSensor:eC.createSensor;Xw.createSensor=nC,Object.defineProperty(Nw,"__esModule",{value:!0}),Nw.removeSensor=Nw.getSensor=Nw.Sensors=void 0;var AC=function(t){return t&&t.__esModule?t:{default:t}}(_w),rC=Xw,iC=Ww;var oC={};function aC(t){t&&oC[t]&&delete oC[t]}Nw.Sensors=oC;Nw.getSensor=function(t){var e=t.getAttribute(iC.SizeSensorId);if(e&&oC[e])return oC[e];var n=(0,AC.default)();t.setAttribute(iC.SizeSensorId,n);var A=(0,rC.createSensor)(t,(function(){return aC(n)}));return oC[n]=A,A};Nw.removeSensor=function(t){var e=t.element.getAttribute(iC.SizeSensorId);t.destroy(),aC(e)},Object.defineProperty(Gw,"__esModule",{value:!0}),Gw.ver=Gw.clear=lC=Gw.bind=void 0;var sC=Nw,lC=Gw.bind=function(t,e){var n=(0,sC.getSensor)(t);return n.bind(e),function(){n.unbind(e)}};Gw.clear=function(t){var e=(0,sC.getSensor)(t);(0,sC.removeSensor)(e)};Gw.ver="1.0.2";var uC="data-chart-source-type",cC=["padding","appendPadding","renderer","pixelRatio","syncViewPadding","supportCSSTransform","limitInPlot"],hC=function(t){function e(e,n){var A=t.call(this)||this;return A.container="string"==typeof e?document.getElementById(e):e,A.options=Ix({},A.getDefaultOptions(),n),A.createG2(),A.bindEvents(),A}return Tt(e,t),e.getDefaultOptions=function(){return{renderer:"canvas",xAxis:{nice:!0,label:{autoRotate:!1,autoHide:{type:"equidistance",cfg:{minGap:6}}}},yAxis:{nice:!0,label:{autoHide:!0,autoRotate:!1}},animation:!0}},e.prototype.createG2=function(){var t=this.options,e=t.width,n=t.height,A=t.defaultInteractions;this.chart=new Hf(Dt(Dt(Dt(Dt({container:this.container,autoFit:!1},this.getChartSize(e,n)),{localRefresh:!1}),xx(this.options,cC)),{defaultInteractions:A})),this.container.setAttribute(uC,"G2Plot")},e.prototype.getChartSize=function(t,e){var n=kx(this.container);return{width:t||n.width||400,height:e||n.height||400}},e.prototype.bindEvents=function(){var t=this;this.chart&&this.chart.on("*",(function(e){(null==e?void 0:e.type)&&t.emit(e.type,e)}))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.render=function(){this.chart.clear(),this.chart.options={data:[],animate:!0},this.chart.views=[],this.execAdaptor(),this.chart.render(),this.bindSizeSensor()},e.prototype.update=function(t){this.updateOption(t),this.render()},e.prototype.updateOption=function(t){this.options=Ix({},this.options,t)},e.prototype.setState=function(t,e,n){void 0===n&&(n=!0),$t(Dx(this.chart),(function(A){e(A.getData())&&A.setState(t,n)}))},e.prototype.getStates=function(){var t=Dx(this.chart),e=[];return $t(t,(function(t){var n=t.getData();$t(t.getStates(),(function(A){e.push({data:n,state:A,geometry:t.geometry,element:t})}))})),e},e.prototype.changeData=function(t){this.update({data:t})},e.prototype.changeSize=function(t,e){this.chart.changeSize(t,e)},e.prototype.addAnnotations=function(t,e){e=e||this.chart;var n=Nt([],t,!0),A=e.getController("annotation"),r=A.getComponents().map((function(t){return t.extra}));A.clear(!0);for(var i=function(t){var e=r[t],i=n.findIndex((function(t){return t.id&&t.id===e.id}));-1!==i&&(e=Ix({},e,n[i]),n.splice(i,1)),A.annotation(e)},o=0;o<r.length;o++)i(o);n.forEach((function(t){return A.annotation(t)})),e.render(!0)},e.prototype.removeAnnotations=function(t){var e=this.chart.getController("annotation"),n=e.getComponents().map((function(t){return t.extra}));e.clear(!0);for(var A=function(A){var r=n[A];t.find((function(t){return t.id&&t.id===r.id}))||e.annotation(r)},r=0;r<n.length;r++)A(r);this.chart.render(!0)},e.prototype.destroy=function(){this.unbindSizeSensor(),this.chart.destroy(),this.off(),this.container.removeAttribute(uC)},e.prototype.execAdaptor=function(){var t=this.getSchemaAdaptor(),e=this.options,n=e.padding,A=e.appendPadding;this.chart.padding=n,this.chart.appendPadding=A,t({chart:this.chart,options:this.options})},e.prototype.triggerResize=function(){this.chart.forceFit()},e.prototype.bindSizeSensor=function(){var t=this;if(!this.unbind){var e=this.options.autoFit;(void 0===e||e)&&(this.unbind=lC(this.container,(function(){var e=kx(t.container),n=e.width,A=e.height;n===t.chart.width&&A===t.chart.height||t.triggerResize()})))}},e.prototype.unbindSizeSensor=function(){this.unbind&&(this.unbind(),this.unbind=void 0)},e}(tA);function pC(t,e,n,A){var r=ce(t,(function(t,A){var r=A[n],i=t.has(r)?t.get(r):0,o=A[e];return i=Rx(o)?i+o:i,t.set(r,i),t}),new Map);return An(t,(function(t){var i,o=t[e],a=t[n],s=Rx(o)&&0!==r.get(a)?o/r.get(a):0;return Dt(Dt({},t),((i={})[A]=s,i))}))}function fC(t,e,n,A,r){return r?pC(t,e,n,A):t}function dC(t){var e=t.chart,n=t.options,A=n.data,r=n.color,i=n.lineStyle,o=n.lineShape,a=n.point,s=n.area,l=n.seriesField,u=null==a?void 0:a.state,c=null==s?void 0:s.state;e.data(A);var h=Ix({},t,{options:{shapeField:l,line:{color:r,style:i,shape:o},point:a&&Dt({color:r,shape:"circle"},a),area:s&&Dt({color:r},s),label:void 0}}),p=Ix({},h,{options:{tooltip:!1,state:u}}),f=Ix({},h,{options:{tooltip:!1,state:c}});return Pw(h),Ow(p),Hw(f),t}function gC(t){var e,n,A=t.options,r=A.xAxis,i=A.yAxis,o=A.xField,a=A.yField,s=A.data;return Lx(ww(((e={})[o]=r,e[a]=i,e),((n={})[o]={type:"cat"},n[a]=wx(s,a),n)))(t)}function yC(t){var e=t.chart,n=t.options.reflect;if(n){var A=n;qt(A)||(A=[A]);var r=A.map((function(t){return["reflect",t]}));e.coordinate({type:"rect",actions:r})}return t}function vC(t){var e=t.chart,n=t.options,A=n.xAxis,r=n.yAxis,i=n.xField,o=n.yField;return!1===A?e.axis(i,!1):e.axis(i,A),!1===r?e.axis(o,!1):e.axis(o,r),t}function mC(t){var e=t.chart,n=t.options,A=n.legend,r=n.seriesField;return A&&r?e.legend(r,A):!1===A&&e.legend(!1),t}function BC(t){var e=t.chart,n=t.options,A=n.label,r=n.yField,i=Hx(e,"line");if(A){var o=A.callback,a=Pt(A,["callback"]);i.label({fields:[r],callback:o,cfg:Dt({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Ox(a))})}else i.label(!1);return t}function xC(t){var e=t.chart;return t.options.isStack&&$t(e.geometries,(function(t){t.adjust("stack")})),t}function wC(t){return Lx(dC,gC,xC,vw,yC,vC,mC,dw,BC,Bw,xw,gw,yw,Cw(),Fw)(t)}function CC(t){var e=t.chart,n=t.options,A=n.data,r=n.areaStyle,i=n.areaShape,o=n.color,a=n.point,s=n.line,l=n.isPercent,u=n.xField,c=n.yField,h=n.tooltip,p=n.seriesField,f=n.startOnZero,d=null==a?void 0:a.state,g=fC(A,c,u,c,l);e.data(g);var y=l?Dt({formatter:function(t){return{name:t[p]||t[u],value:(100*Number(t[c])).toFixed(2)+"%"}}},h):h,v=Ix({},t,{options:{area:{color:o,style:r,shape:i},point:a&&Dt({color:o},a),tooltip:y,label:void 0,args:{startOnZero:f}}}),m={chart:e,options:Ix({line:{size:2}},un(n,["state"]),{line:s&&Dt({color:o},s),sizeField:p,state:null==s?void 0:s.state,tooltip:!1,label:void 0,args:{startOnZero:f}})},B=Ix({},v,{options:{tooltip:!1,state:d}});return Hw(v),Pw(m),Ow(B),t}function FC(t){var e=t.chart,n=t.options,A=n.label,r=n.yField,i=Hx(e,"area");if(A){var o=A.callback,a=Pt(A,["callback"]);i.label({fields:[r],callback:o,cfg:Dt({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Ox(a))})}else i.label(!1);return t}function bC(t){var e=t.chart,n=t.options,A=n.isStack,r=n.isPercent,i=n.seriesField;return(r||A)&&i&&$t(e.geometries,(function(t){t.adjust("stack")})),t}function QC(t){return Lx(vw,pw("areaStyle"),bw("rect"),CC,gC,bC,vC,mC,dw,FC,Bw,Cw(),gw,yw,Fw)(t)}var UC=Ix({},hC.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},isStack:!0,line:{},legend:{position:"top-left",radio:{}}}),EC=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="area",e}return Tt(e,t),e.getDefaultOptions=function(){return UC},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options,n=e.isPercent,A=e.xField,r=e.yField;gC({chart:this.chart,options:this.options}),this.chart.changeData(fC(t,r,A,r,n))},e.prototype.getSchemaAdaptor=function(){return QC},e}(hC),MC={padding:[8,10],text:"reset",textStyle:{default:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"}},buttonStyle:{default:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},active:{fill:"#e6e6e6"}}},SC=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.buttonGroup=null,e.buttonCfg=Dt({name:"button"},MC),e}return Tt(e,t),e.prototype.getButtonCfg=function(){var t=this.context.view,e=on(t,["interactions","filter-action","cfg","buttonConfig"]);return Ix(this.buttonCfg,e,this.cfg)},e.prototype.drawButton=function(){var t=this.getButtonCfg(),e=this.context.view.foregroundGroup.addGroup({name:t.name}),n=this.drawText(e);this.drawBackground(e,n.getBBox()),this.buttonGroup=e},e.prototype.drawText=function(t){var e,n=this.getButtonCfg();return t.addShape({type:"text",name:"button-text",attrs:Dt({text:n.text},null===(e=n.textStyle)||void 0===e?void 0:e.default)})},e.prototype.drawBackground=function(t,e){var n,A=this.getButtonCfg(),r=Kx(A.padding),i=t.addShape({type:"rect",name:"button-rect",attrs:Dt({x:e.x-r[3],y:e.y-r[0],width:e.width+r[1]+r[3],height:e.height+r[0]+r[2]},null===(n=A.buttonStyle)||void 0===n?void 0:n.default)});return i.toBack(),t.on("mouseenter",(function(){var t;i.attr(null===(t=A.buttonStyle)||void 0===t?void 0:t.active)})),t.on("mouseleave",(function(){var t;i.attr(null===(t=A.buttonStyle)||void 0===t?void 0:t.default)})),i},e.prototype.resetPosition=function(){var t=this.context.view.getCoordinate().convert({x:1,y:1}),e=this.buttonGroup,n=e.getBBox(),A=Dd.transform(null,[["t",t.x-n.width-10,t.y+n.height+5]]);e.setMatrix(A)},e.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},e.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},e.prototype.destroy=function(){var e=this.buttonGroup;e&&e.remove(),t.prototype.destroy.call(this)},e}(Jh);function IC(t){return t.isInPlot()}function kC(t,e,n){var A=n||{},r=A.mask,i=A.isStartEnable,o=e||"rect";switch(t){case"brush":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:i||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:i||IC,action:["brush:start","".concat(o,"-mask:start"),"".concat(o,"-mask:show")],arg:[null,{maskStyle:null==r?void 0:r.style}]}],processing:[{trigger:"mousemove",isEnable:IC,action:["".concat(o,"-mask:resize")]}],end:[{trigger:"mouseup",isEnable:IC,action:["brush:filter","brush:end","".concat(o,"-mask:end"),"".concat(o,"-mask:hide"),"brush-reset-button:show"]}],rollback:[{trigger:"brush-reset-button:click",action:["brush:reset","brush-reset-button:hide","cursor:crosshair"]}]};case"brush-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:i||function(){return!0}},{trigger:"plot:mousemove",action:"cursor:crosshair",isEnable:i||function(){return!0}},{trigger:"plot:mousemove",action:"cursor:default",isEnable:function(t){return!!i&&!i(t)}},{trigger:"mask:mouseenter",action:"cursor:move",isEnable:i||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:i||function(t){return!t.isInShape("mask")},action:["".concat(o,"-mask:start"),"".concat(o,"-mask:show")],arg:[{maskStyle:null==r?void 0:r.style}]},{trigger:"mask:dragstart",action:["".concat(o,"-mask:moveStart")]}],processing:[{trigger:"plot:mousemove",action:["".concat(o,"-mask:resize")]},{trigger:"mask:drag",action:["".concat(o,"-mask:move")]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["".concat(o,"-mask:end")]},{trigger:"mask:dragend",action:["".concat(o,"-mask:moveEnd")]},{trigger:"document:mouseup",isEnable:function(t){return!t.isInPlot()},action:["element-range-highlight:clear","".concat(o,"-mask:end"),"".concat(o,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","".concat(o,"-mask:hide")]}]};case"brush-x":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:i||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:i||IC,action:["brush-x:start","".concat(o,"-mask:start"),"".concat(o,"-mask:show")],arg:[null,{maskStyle:null==r?void 0:r.style}]}],processing:[{trigger:"mousemove",isEnable:IC,action:["".concat(o,"-mask:resize")]}],end:[{trigger:"mouseup",isEnable:IC,action:["brush-x:filter","brush-x:end","".concat(o,"-mask:end"),"".concat(o,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]};case"brush-x-highlight":case"brush-y-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:i||function(){return!0}},{trigger:"mask:mouseenter",action:"cursor:move",isEnable:i||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:i||function(t){return!t.isInShape("mask")},action:["".concat(o,"-mask:start"),"".concat(o,"-mask:show")],arg:[{maskStyle:null==r?void 0:r.style}]},{trigger:"mask:dragstart",action:["".concat(o,"-mask:moveStart")]}],processing:[{trigger:"plot:mousemove",action:["".concat(o,"-mask:resize")]},{trigger:"mask:drag",action:["".concat(o,"-mask:move")]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["".concat(o,"-mask:end")]},{trigger:"mask:dragend",action:["".concat(o,"-mask:moveEnd")]},{trigger:"document:mouseup",isEnable:function(t){return!t.isInPlot()},action:["element-range-highlight:clear","".concat(o,"-mask:end"),"".concat(o,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","".concat(o,"-mask:hide")]}]};case"brush-y":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:i||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:i||IC,action:["brush-y:start","".concat(o,"-mask:start"),"".concat(o,"-mask:show")],arg:[null,{maskStyle:null==r?void 0:r.style}]}],processing:[{trigger:"mousemove",isEnable:IC,action:["".concat(o,"-mask:resize")]}],end:[{trigger:"mouseup",isEnable:IC,action:["brush-y:filter","brush-y:end","".concat(o,"-mask:end"),"".concat(o,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["brush-y:reset"]}]};default:return{}}}tp("brush-reset-button",SC,{name:"brush-reset-button"}),Wp("filter-action",{}),Wp("brush",kC("brush")),Wp("brush-highlight",kC("brush-highlight")),Wp("brush-x",kC("brush-x","x-rect")),Wp("brush-y",kC("brush-y","y-rect")),Wp("brush-x-highlight",kC("brush-x-highlight","x-rect")),Wp("brush-y-highlight",kC("brush-y-highlight","y-rect"));var LC=["brush","brush-x","brush-y","brush-highlight","brush-x-highlight","brush-y-highlight"];function HC(t){var e=t.options,n=e.brush,A=Yt(e.interactions||[],(function(t){return-1===LC.indexOf(t.type)}));return(null==n?void 0:n.enabled)&&(LC.forEach((function(t){var e=!1;switch(n.type){case"x-rect":e=t===("highlight"===n.action?"brush-x-highlight":"brush-x");break;case"y-rect":e=t===("highlight"===n.action?"brush-y-highlight":"brush-y");break;default:e=t===("highlight"===n.action?"brush-highlight":"brush")}var r={type:t,enable:e};n&&(r.cfg=kC(t,n.type,n)),A.push(r)})),"highlight"!==(null==n?void 0:n.action)&&A.push({type:"filter-action",cfg:{buttonConfig:n.button}})),Ix({},t,{options:{interactions:A}})}var TC={hover:"__interval-connected-area-hover__",click:"__interval-connected-area-click__"},DC=function(t,e){return"hover"===t?[{trigger:"interval:mouseenter",action:["element-highlight-by-color:highlight","element-link-by-color:link"],arg:[null,{style:e}]}]:[{trigger:"interval:click",action:["element-highlight-by-color:clear","element-highlight-by-color:highlight","element-link-by-color:clear","element-link-by-color:unlink","element-link-by-color:link"],arg:[null,null,null,null,{style:e}]}]};function PC(t,e){return be(t)&&be(e)?0===t&&0===e?"-":t===e?"100%":0===t?"∞":"".concat((100*e/t).toFixed(2),"%"):"-"}function OC(t,e){return Ix({size:e?32:80,spacing:e?8:12,offset:e?32:0,arrow:!1!==t.arrow&&{headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},text:!1!==t.text&&{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)",textAlign:"center",textBaseline:"middle"},formatter:PC}},t)}function RC(t,e){return An(e.getModel().points,(function(e){return t.convertPoint(e)}))}function KC(t,e,n){!function(t,e,n){var A=t.view,r=t.geometry,i=t.group,o=t.options,a=t.horizontal,s=o.offset,l=o.size,u=o.arrow,c=A.getCoordinate(),h=RC(c,e)[3],p=RC(c,n)[0],f=p.y-h.y,d=p.x-h.x;if("boolean"!=typeof u){var g,y=u.headSize,v=o.spacing;a?(d-y)/2<v?(v=Math.max(1,(d-y)/2),g=[[h.x+v,h.y-s],[h.x+v,h.y-s-l],[p.x-v,p.y-s-l/2]]):g=[[h.x+v,h.y-s],[h.x+v,h.y-s-l],[p.x-v-y,p.y-s-l],[p.x-v,p.y-s-l/2],[p.x-v-y,p.y-s]]:(f-y)/2<v?(v=Math.max(1,(f-y)/2),g=[[h.x+s,h.y+v],[h.x+s+l,h.y+v],[p.x+s+l/2,p.y-v]]):g=[[h.x+s,h.y+v],[h.x+s+l,h.y+v],[p.x+s+l,p.y-v-y],[p.x+s+l/2,p.y-v],[p.x+s,p.y-v-y]],i.addShape("polygon",{id:"".concat(A.id,"-conversion-tag-arrow-").concat(r.getElementId(e.getModel().mappingData)),name:"conversion-tag-arrow",origin:{element:e,nextElement:n},attrs:Dt(Dt({},u.style||{}),{points:g})})}}(t,e,n),function(t,e,n){var A,r,i,o=t.view,a=t.geometry,s=t.group,l=t.options,u=t.field,c=t.horizontal,h=l.offset,p=l.size;if("boolean"!=typeof l.text){var f=o.getCoordinate(),d=(null===(A=l.text)||void 0===A?void 0:A.formatter)&&(null===(r=l.text)||void 0===r?void 0:r.formatter(e.getData()[u],n.getData()[u])),g=RC(f,e)[c?3:0],y=RC(f,n)[c?0:3],v=s.addShape("text",{id:"".concat(o.id,"-conversion-tag-text-").concat(a.getElementId(e.getModel().mappingData)),name:"conversion-tag-text",origin:{element:e,nextElement:n},attrs:Dt(Dt({},(null===(i=l.text)||void 0===i?void 0:i.style)||{}),{text:d,x:c?(g.x+y.x)/2:g.x+h+p/2,y:c?g.y-h-p/2:(g.y+y.y)/2})});if(c){var m=y.x-g.x,B=v.getBBox().width;if(B>m){var x=B/d.length,w=Math.max(1,Math.ceil(m/x)-1),C="".concat(d.slice(0,w),"...");v.attr("text",C)}}}}(t,e,n)}function VC(t){var e=t.options,n=e.legend,A=e.seriesField,r=e.isStack;return A?!1!==n&&(n=Dt({position:r?"right-top":"top-left"},n)):n=!1,t.options.legend=n,t}function GC(t){var e=t.chart,n=t.options,A=n.data,r=n.columnStyle,i=n.color,o=n.columnWidthRatio,a=n.isPercent,s=n.isGroup,l=n.isStack,u=n.xField,c=n.yField,h=n.seriesField,p=n.groupField,f=n.tooltip,d=n.shape,g=a&&s&&l?function(t,e,n,A){var r=ce(t,(function(t,A){var r=ce(n,(function(t,e){return"".concat(t).concat(A[e])}),""),i=t.has(r)?t.get(r):0,o=A[e];return i=Rx(o)?i+o:i,t.set(r,i),t}),new Map);return An(t,(function(t){var i,o=t[e],a=ce(n,(function(e,n){return"".concat(e).concat(t[n])}),""),s=Rx(o)&&0!==r.get(a)?o/r.get(a):0;return Dt(Dt({},t),((i={})[A]=s,i))}))}(A,c,[u,p],c):fC(A,c,u,c,a),y=[];l&&h&&!s?g.forEach((function(t){var e=y.find((function(e){return e[u]===t[u]&&e[h]===t[h]}));e?e[c]+=t[c]||0:y.push(Dt({},t))})):y=g,e.data(y);var v=a?Dt({formatter:function(t){var e;return{name:s&&l?"".concat(t[h]," - ").concat(t[p]):null!==(e=t[h])&&void 0!==e?e:t[u],value:(100*Number(t[c])).toFixed(2)+"%"}}},f):f,m=Ix({},t,{options:{data:y,widthRatio:o,tooltip:v,interval:{shape:d,style:r,color:i}}});return Dw(m),m}function NC(t){var e,n,A=t.options,r=A.xAxis,i=A.yAxis,o=A.xField,a=A.yField,s=A.data,l=A.isPercent?{max:1,min:0,minLimit:0,maxLimit:1}:{};return Lx(ww(((e={})[o]=r,e[a]=i,e),((n={})[o]={type:"cat"},n[a]=Dt(Dt({},wx(s,a)),l),n)))(t)}function _C(t){var e=t.chart,n=t.options,A=n.xAxis,r=n.yAxis,i=n.xField,o=n.yField;return!1===A?e.axis(i,!1):e.axis(i,A),!1===r?e.axis(o,!1):e.axis(o,r),t}function XC(t){var e=t.chart,n=t.options,A=n.legend,r=n.seriesField;return A&&r?e.legend(r,A):!1===A&&e.legend(!1),t}function YC(t){var e=t.chart,n=t.options,A=n.label,r=n.yField,i=n.isRange,o=Hx(e,"interval");if(A){var a=A.callback,s=Pt(A,["callback"]);o.label({fields:[r],callback:a,cfg:Dt({layout:(null==s?void 0:s.position)?void 0:[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Ox(i?Dt({content:function(t){var e;return null===(e=t[r])||void 0===e?void 0:e.join("-")}},s):s))})}else o.label(!1);return t}function zC(t){var e=t.chart,n=t.options,A=n.tooltip,r=n.isGroup,i=n.isStack,o=n.groupField,a=n.data,s=n.xField,l=n.yField,u=n.seriesField;if(!1===A)e.tooltip(!1);else{var c=A;if(r&&i){var h=c.customItems,p=(null==c?void 0:c.formatter)||function(t){return{name:"".concat(t[u]," - ").concat(t[o]),value:t[l]}};c=Dt(Dt({},c),{customItems:function(t){var e=[];return $t(t,(function(t){Yt(a,(function(e){return ee(e,xx(t.data,[s,u]))})).forEach((function(n){e.push(Dt(Dt(Dt({},t),{value:n[l],data:n,mappingData:{_origin:n}}),p(n)))}))})),h?h(e):e}})}e.tooltip(c)}return t}function WC(t,e){void 0===e&&(e=!1);var n,A,r,i,o=t.options,a=o.seriesField;return Lx(VC,vw,pw("columnStyle"),mw,bw("rect"),GC,NC,_C,XC,zC,Bw,xw,YC,HC,gw,yw,Cw(),(A=o.yField,void 0===(r=!e)&&(r=!0),void 0===(i=!!a)&&(i=!1),function(t){var e=t.options,n=t.chart,o=e.conversionTag,a=e.theme;return o&&!i&&(n.theme(Ix({},Zt(a)?a:hf(a),{columnWidthRatio:1/3})),n.annotation().shape({render:function(t,e){var i=t.addGroup({id:"".concat(n.id,"-conversion-tag-group"),name:"conversion-tag-group"}),a=re(n.geometries,(function(t){return"interval"===t.type})),s={view:e,geometry:a,group:i,field:A,horizontal:r,options:OC(o,r)},l=a.elements;$t(l,(function(t,e){e>0&&KC(s,l[e-1],t)}))}})),t}),(void 0===(n=!o.isStack)&&(n=!1),function(t){var e=t.chart,A=t.options.connectedArea,r=function(){e.removeInteraction(TC.hover),e.removeInteraction(TC.click)};if(!n&&A){var i=A.trigger||"hover";r(),e.interaction(TC[i],{start:DC(i,A.style)})}else r();return t}),Fw)(t)}function jC(t){var e=t.options,n=e.xField,A=e.yField,r=e.xAxis,i=e.yAxis,o={left:"bottom",right:"top",top:"left",bottom:"right"},a=!1!==i&&Dt({position:o[(null==i?void 0:i.position)||"left"]},i),s=!1!==r&&Dt({position:o[(null==r?void 0:r.position)||"bottom"]},r);return Dt(Dt({},t),{options:Dt(Dt({},e),{xField:A,yField:n,xAxis:a,yAxis:s})})}function JC(t){var e=t.options.label;return e&&!e.position&&(e.position="left",e.layout||(e.layout=[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}])),Ix({},t,{options:{label:e}})}function qC(t){var e=t.options,n=e.seriesField,A=e.isStack,r=e.legend;return n?!1!==r&&(r=Dt({position:A?"top-left":"right-top"},r||{})):r=!1,Ix({},t,{options:{legend:r}})}function ZC(t){var e=t.options,n=[{type:"transpose"},{type:"reflectY"}].concat(e.coordinate||[]);return Ix({},t,{options:{coordinate:n}})}function $C(t){var e=t.chart,n=t.options,A=n.barStyle,r=n.barWidthRatio,i=n.minBarWidth,o=n.maxBarWidth,a=n.barBackground;return WC({chart:e,options:Dt(Dt({},n),{columnStyle:A,columnWidthRatio:r,minColumnWidth:i,maxColumnWidth:o,columnBackground:a})},!0)}function tF(t){return Lx(jC,JC,qC,dw,ZC,$C)(t)}Wp(TC.hover,{start:DC(TC.hover),end:[{trigger:"interval:mouseleave",action:["element-highlight-by-color:reset","element-link-by-color:unlink"]}]}),Wp(TC.click,{start:DC(TC.click),end:[{trigger:"document:mousedown",action:["element-highlight-by-color:clear","element-link-by-color:clear"]}]});var eF,nF=Ix({},hC.getDefaultOptions(),{barWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},legend:{radio:{}},interactions:[{type:"active-region"}]}),AF=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="bar",e}return Tt(e,t),e.getDefaultOptions=function(){return nF},e.prototype.changeData=function(t){var e,n;this.updateOption({data:t});var A=this.chart,r=this.options,i=r.isPercent,o=r.xField,a=r.yField,s=r.xAxis,l=r.yAxis;o=(e=[a,o])[0],a=e[1],s=(n=[l,s])[0],l=n[1],NC({chart:A,options:Dt(Dt({},r),{xField:o,yField:a,yAxis:l,xAxis:s})}),A.changeData(fC(t,o,a,o,i))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return tF},e}(hC),rF=Ix({},hC.getDefaultOptions(),{columnWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},legend:{radio:{}},interactions:[{type:"active-region"}]}),iF=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="column",e}return Tt(e,t),e.getDefaultOptions=function(){return rF},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options,n=e.yField,A=e.xField,r=e.isPercent;NC({chart:this.chart,options:this.options}),this.chart.changeData(fC(t,n,A,n,r))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return WC},e}(hC),oF="$$percentage$$",aF="$$mappingValue$$",sF="$$conversion$$",lF="$$totalPercentage$$",uF="$$x$$",cF="$$y$$",hF={appendPadding:[0,80],minSize:0,maxSize:1,meta:(eF={},eF[aF]={min:0,max:1,nice:!1},eF),label:{style:{fill:"#fff",fontSize:12}},tooltip:{showTitle:!1,showMarkers:!1,shared:!1},conversionTag:{offsetX:10,offsetY:0,style:{fontSize:12,fill:"rgba(0,0,0,0.45)"}}},pF="CONVERSION_TAG_NAME";function fF(t,e,n){var A=n.yField,r=n.maxSize,i=n.minSize,o=on(Ee(e,A),[A]),a=be(r)?r:1,s=be(i)?i:0;return An(t,(function(e,n){var r=(e[A]||0)/o;return e[oF]=r,e[aF]=(a-s)*r+s,e[sF]=[on(t,[n-1,A]),e[A]],e}))}function dF(t){return function(e){var n=e.chart,A=e.options,r=A.conversionTag,i=A.filteredData||n.getOptions().data;if(r){var o=r.formatter;i.forEach((function(e,A){if(!(A<=0||Number.isNaN(e[aF]))){var a=t(e,A,i,{top:!0,name:pF,text:{content:jt(o)?o(e,i):o,offsetX:r.offsetX,offsetY:r.offsetY,position:"end",autoRotate:!1,style:Dt({textAlign:"start",textBaseline:"middle"},r.style)}});n.annotation().line(a)}}))}return e}}function gF(t){var e=t.chart,n=t.options,A=n.data,r=void 0===A?[]:A,i=fF(r,r,{yField:n.yField,maxSize:n.maxSize,minSize:n.minSize});return e.data(i),t}function yF(t){var e=t.chart,n=t.options,A=n.xField,r=n.yField,i=n.color,o=n.tooltip,a=n.label,s=n.shape,l=void 0===s?"funnel":s,u=n.funnelStyle,c=n.state,h=Sw(o,[A,r]),p=h.fields,f=h.formatter;return Lw({chart:e,options:{type:"interval",xField:A,yField:aF,colorField:A,tooltipFields:qt(p)&&p.concat([oF,sF]),mapping:{shape:l,tooltip:f,color:i,style:u},label:a,state:c}}),Hx(t.chart,"interval").adjust("symmetric"),t}function vF(t){var e=t.chart,n=t.options.isTransposed;return e.coordinate({type:"rect",actions:n?[]:[["transpose"],["scale",1,-1]]}),t}function mF(t){var e=t.options,n=t.chart,A=e.maxSize,r=on(n,["geometries","0","dataArray"],[]),i=on(n,["options","data","length"]),o=An(r,(function(t){return on(t,["0","nextPoints","0","x"])*i-.5}));return dF((function(t,e,n,r){var i=A-(A-t[aF])/2;return Dt(Dt({},r),{start:[o[e-1]||e-.5,i],end:[o[e-1]||e-.5,i+.05]})}))(t),t}function BF(t){return Lx(gF,yF,vF,mF)(t)}function xF(t){var e,n=t.chart,A=t.options,r=A.data,i=void 0===r?[]:r,o=A.yField;return n.data(i),n.scale(((e={})[o]={sync:!0},e)),t}function wF(t){var e=t.chart,n=t.options,A=n.data,r=n.xField,i=n.yField,o=n.color,a=n.compareField,s=n.isTransposed,l=n.tooltip,u=n.maxSize,c=n.minSize,h=n.label,p=n.funnelStyle,f=n.state,d=n.showFacetTitle;return e.facet("mirror",{fields:[a],transpose:!s,padding:s?0:[32,0,0,0],showTitle:d,eachView:function(t,e){var n=s?e.rowIndex:e.columnIndex;s||t.coordinate({type:"rect",actions:[["transpose"],["scale",0===n?-1:1,-1]]});var d=fF(e.data,A,{yField:i,maxSize:u,minSize:c});t.data(d);var g=Sw(l,[r,i,a]),y=g.fields,v=g.formatter,m=s?{offset:0===n?10:-23,position:0===n?"bottom":"top"}:{offset:10,position:"left",style:{textAlign:0===n?"end":"start"}};Lw({chart:t,options:{type:"interval",xField:r,yField:aF,colorField:r,tooltipFields:qt(y)&&y.concat([oF,sF]),mapping:{shape:"funnel",tooltip:v,color:o,style:p},label:!1!==h&&Ix({},m,h),state:f}})}}),t}function CF(t){var e=t.chart,n=t.index,A=t.options,r=A.conversionTag,i=A.isTransposed;(be(n)?[e]:e.views).forEach((function(t,e){var o=on(t,["geometries","0","dataArray"],[]),a=on(t,["options","data","length"]),s=An(o,(function(t){return on(t,["0","nextPoints","0","x"])*a-.5}));dF((function(t,A,o,a){var l=0===(n||e)?-1:1;return Ix({},a,{start:[s[A-1]||A-.5,t[aF]],end:[s[A-1]||A-.5,t[aF]+.05],text:i?{style:{textAlign:"start"}}:{offsetX:!1!==r?l*r.offsetX:0,style:{textAlign:0===(n||e)?"end":"start"}}})}))(Ix({},{chart:t,options:A}))}))}function FF(t){return t.chart.once("beforepaint",(function(){return CF(t)})),t}function bF(t){var e=t.chart,n=t.options,A=n.data,r=void 0===A?[]:A,i=n.yField,o=ce(r,(function(t,e){return t+(e[i]||0)}),0),a=Ee(r,i)[i],s=An(r,(function(t,e){var n=[],A=[];if(t[lF]=(t[i]||0)/o,e){var s=r[e-1][uF],l=r[e-1][cF];n[0]=s[3],A[0]=l[3],n[1]=s[2],A[1]=l[2]}else n[0]=-.5,A[0]=1,n[1]=.5,A[1]=1;return A[2]=A[1]-t[lF],n[2]=(A[2]+1)/4,A[3]=A[2],n[3]=-n[2],t[uF]=n,t[cF]=A,t[oF]=(t[i]||0)/a,t[sF]=[on(r,[e-1,i]),t[i]],t}));return e.data(s),t}function QF(t){var e=t.chart,n=t.options,A=n.xField,r=n.yField,i=n.color,o=n.tooltip,a=n.label,s=n.funnelStyle,l=n.state,u=Sw(o,[A,r]),c=u.fields,h=u.formatter;return Lw({chart:e,options:{type:"polygon",xField:uF,yField:cF,colorField:A,tooltipFields:qt(c)&&c.concat([oF,sF]),label:a,state:l,mapping:{tooltip:h,color:i,style:s}}}),t}function UF(t){var e=t.chart,n=t.options.isTransposed;return e.coordinate({type:"rect",actions:n?[["transpose"],["reflect","x"]]:[]}),t}function EF(t){return dF((function(t,e,n,A){return Dt(Dt({},A),{start:[t[uF][1],t[cF][1]],end:[t[uF][1]+.05,t[cF][1]]})}))(t),t}function MF(t){var e,n=t.chart,A=t.options,r=A.data,i=void 0===r?[]:r,o=A.yField;return n.data(i),n.scale(((e={})[o]={sync:!0},e)),t}function SF(t){var e=t.chart,n=t.options,A=n.seriesField,r=n.isTransposed,i=n.showFacetTitle;return e.facet("rect",{fields:[A],padding:[r?0:32,10,0,10],showTitle:i,eachView:function(e,n){BF(Ix({},t,{chart:e,options:{data:n.data}}))}}),t}var IF=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rendering=!1,e}return Tt(e,t),e.prototype.change=function(t){var e=this;if(!this.rendering){var n=t.seriesField,A=t.compareField,r=A?CF:mF,i=this.context.view,o=n||A?i.views:[i];An(o,(function(n,A){var i=n.getController("annotation"),o=Yt(on(i,["option"],[]),(function(t){return t.name!==pF}));i.clear(!0),$t(o,(function(t){"object"==typeof t&&n.annotation()[t.type](t)}));var a=on(n,["filteredData"],n.getOptions().data);r({chart:n,index:A,options:Dt(Dt({},t),{filteredData:fF(a,a,t)})}),n.filterData(a),e.rendering=!0,n.render(!0)}))}this.rendering=!1},e}(Jh),kF="funnel-conversion-tag",LF="funnel-afterrender",HF={trigger:"afterrender",action:"".concat(kF,":change")};function TF(t){var e,n=t.options,A=n.compareField,r=n.xField,i=n.yField,o=n.locale,a=n.funnelStyle,s=n.data,l=Mw(o);return(A||a)&&(e=function(t){return Ix({},A&&{lineWidth:1,stroke:"#fff"},jt(a)?a(t):a)}),Ix({options:{label:A?{fields:[r,i,A,oF,sF],formatter:function(t){return"".concat(t[i])}}:{fields:[r,i,oF,sF],offset:0,position:"middle",formatter:function(t){return"".concat(t[r]," ").concat(t[i])}},tooltip:{title:r,formatter:function(t){return{name:t[r],value:t[i]}}},conversionTag:{formatter:function(t){return"".concat(l.get(["conversionTag","label"]),": ").concat(PC.apply(void 0,t[sF]))}}}},t,{options:{funnelStyle:e,data:We(s)}})}function DF(t){var e=t.options,n=e.compareField,A=e.dynamicHeight;return e.seriesField?function(t){return Lx(MF,SF)(t)}(t):n?function(t){return Lx(xF,wF,FF)(t)}(t):A?function(t){return Lx(bF,QF,UF,EF)(t)}(t):BF(t)}function PF(t){var e,n=t.options,A=n.xAxis,r=n.yAxis,i=n.xField,o=n.yField;return Lx(ww(((e={})[i]=A,e[o]=r,e)))(t)}function OF(t){return t.chart.axis(!1),t}function RF(t){var e=t.chart,n=t.options.legend;return!1===n?e.legend(!1):e.legend(n),t}function KF(t){var e=t.chart,n=t.options,A=n.interactions,r=n.dynamicHeight;return $t(A,(function(t){!1===t.enable?e.removeInteraction(t.type):e.interaction(t.type,t.cfg||{})})),r?e.removeInteraction(LF):e.interaction(LF,{start:[Dt(Dt({},HF),{arg:n})]}),t}function VF(t){return Lx(TF,DF,PF,OF,dw,KF,RF,yw,vw,Cw())(t)}tp(kF,IF),Wp(LF,{start:[HF]});var GF,NF=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="funnel",e}return Tt(e,t),e.getDefaultOptions=function(){return hF},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return VF},e.prototype.setState=function(t,e,n){void 0===n&&(n=!0),$t(Dx(this.chart),(function(A){e(A.getData())&&A.setState(t,n)}))},e.prototype.getStates=function(){var t=Dx(this.chart),e=[];return $t(t,(function(t){var n=t.getData();$t(t.getStates(),(function(A){e.push({data:n,state:A,geometry:t.geometry,element:t})}))})),e},e.CONVERSATION_FIELD=sF,e.PERCENT_FIELD=oF,e.TOTAL_PERCENT_FIELD=lF,e}(hC),_F="range",XF="type",YF="percent",zF="#f0f0f0",WF="indicator-view",jF="range-view",JF={percent:0,range:{ticks:[]},innerRadius:.9,radius:.95,startAngle:-7/6*Math.PI,endAngle:1/6*Math.PI,syncViewPadding:!0,axis:{line:null,label:{offset:-24,style:{textAlign:"center",textBaseline:"middle"}},subTickLine:{length:-8},tickLine:{length:-12},grid:null},indicator:{pointer:{style:{lineWidth:5,lineCap:"round"}},pin:{style:{r:9.75,lineWidth:4.5,fill:"#fff"}}},statistic:{title:!1},meta:(GF={},GF[_F]={sync:"v"},GF[YF]={sync:"v",tickCount:5,tickInterval:.2},GF),animation:!1};function qF(t){var e;return[(e={},e[YF]=Ce(t,0,1),e)]}function ZF(t,e){var n=on(e,["ticks"],[]),A=gn(n)?fe(n):[0,Ce(t,0,1),1];return A[0]||A.shift(),function(t,e){return t.map((function(n,A){var r;return(r={})[_F]=n-(t[A-1]||0),r[XF]="".concat(A),r[YF]=e,r}))}(A,t)}function $F(t){var e=t.chart,n=t.options,A=n.percent,r=n.range,i=n.radius,o=n.innerRadius,a=n.startAngle,s=n.endAngle,l=n.axis,u=n.indicator,c=n.gaugeStyle,h=n.type,p=n.meter,f=r.color,d=r.width;if(u){var g=qF(A),y=e.createView({id:WF});y.data(g),y.point().position("".concat(YF,"*1")).shape(u.shape||"gauge-indicator").customInfo({defaultColor:e.getTheme().defaultColor,indicator:u}),y.coordinate("polar",{startAngle:a,endAngle:s,radius:o*i}),y.axis(YF,l),y.scale(YF,xx(l,yx))}var v=ZF(A,n.range),m=e.createView({id:jF});m.data(v);var B=pe(f)?[f,zF]:f;return Dw({chart:m,options:{xField:"1",yField:_F,seriesField:XF,rawFields:[YF],isStack:!0,interval:{color:B,style:c,shape:"meter"===h?"meter-gauge":null},args:{zIndexReversed:!0,sortZIndex:!0},minColumnWidth:d,maxColumnWidth:d}}).ext.geometry.customInfo({meter:p}),m.coordinate("polar",{innerRadius:o,radius:i,startAngle:a,endAngle:s}).transpose(),t}function tb(t){var e;return Lx(ww(((e={range:{min:0,max:1,maxLimit:1,minLimit:0}})[YF]={},e)))(t)}function eb(t,e){var n=t.chart,A=t.options,r=A.statistic,i=A.percent;if(n.getController("annotation").clear(!0),r){var o=r.content,a=void 0;o&&(a=Ix({},{content:"".concat((100*i).toFixed(2),"%"),style:{opacity:.75,fontSize:"30px",lineHeight:1,textAlign:"center",color:"rgba(44,53,66,0.85)"}},o)),Wx(n,{statistic:Dt(Dt({},r),{content:a})},{percent:i})}return e&&n.render(!0),t}function nb(t){var e=t.chart,n=t.options.tooltip;return n?e.tooltip(Ix({showTitle:!1,showMarkers:!1,containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',domStyles:{"g2-tooltip":{padding:"4px 8px",fontSize:"10px"}},customContent:function(t,e){var n=on(e,[0,"data",YF],0);return"".concat((100*n).toFixed(2),"%")}},n)):e.tooltip(!1),t}function Ab(t){return t.chart.legend(!1),t}function rb(t){return Lx(vw,yw,$F,tb,nb,eb,gw,Cw(),Ab)(t)}ed("point","gauge-indicator",{draw:function(t,e){var n=t.customInfo,A=n.indicator,r=n.defaultColor,i=A,o=i.pointer,a=i.pin,s=e.addGroup(),l=this.parsePoint({x:0,y:0});return o&&s.addShape("line",{name:"pointer",attrs:Dt({x1:l.x,y1:l.y,x2:t.x,y2:t.y,stroke:r},o.style)}),a&&s.addShape("circle",{name:"pin",attrs:Dt({x:l.x,y:l.y,stroke:r},a.style)}),s}}),ed("interval","meter-gauge",{draw:function(t,e){var n=t.customInfo.meter,A=void 0===n?{}:n,r=A.steps,i=void 0===r?50:r,o=A.stepRatio,a=void 0===o?.5:o;i=i<1?1:i,a=Ce(a,0,1);var s=this.coordinate,l=s.startAngle,u=s.endAngle,c=0;a>0&&a<1&&(c=(u-l)/i/(a/(1-a)+1-1/i));for(var h=c/(1-a)*a,p=e.addGroup(),f=this.coordinate.getCenter(),d=this.coordinate.getRadius(),g=Dd.getAngle(t,this.coordinate),y=g.startAngle,v=g.endAngle,m=y;m<v;){var B=void 0,x=(m-l)%(h+c);B=x<h?m+(h-x):(m+=h+c-x)+h;var w=Dd.getSectorPath(f.x,f.y,d,m,Math.min(B,v),d*this.coordinate.innerRadius);p.addShape("path",{name:"meter-gauge",attrs:{path:w,fill:t.color,stroke:t.color,lineWidth:.5}}),m=B+c}return p}});var ib=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="gauge",e}return Tt(e,t),e.getDefaultOptions=function(){return JF},e.prototype.changeData=function(t){this.chart.emit(Un.BEFORE_CHANGE_DATA,Qf.fromData(this.chart,Un.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t});var e=this.chart.views.find((function(t){return t.id===WF}));e&&e.data(qF(t));var n=this.chart.views.find((function(t){return t.id===jF}));n&&n.data(ZF(t,this.options.range)),eb({chart:this.chart,options:this.options},!0),this.chart.emit(Un.AFTER_CHANGE_DATA,Qf.fromData(this.chart,Un.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return rb},e}(hC);function ob(t,e,n){if(1===n)return[0,e];var A=Math.floor(t/e);return[e*A,e*(A+1)]}function ab(t,e,n,A,r){var i=We(t);!function(t,e){var n;if(jt(e))n=function(t,n){return e(t)-e(n)};else{var A=[];pe(e)?A.push(e):qt(e)&&(A=e),n=function(t,e){for(var n=0;n<A.length;n+=1){var r=A[n];if(t[r]>e[r])return 1;if(t[r]<e[r])return-1}return 0}}t.sort(n)}(i,e);var o=de(i,e),a=le(o),s=a.max-a.min,l=n;if(!n&&A&&(l=A>1?s/(A-1):a.max),!n&&!A){var u=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}(o);l=s/u}var c={},h=xe(i,r);en(h)?$t(i,(function(t){var n=ob(t[e],l,A),r="".concat(n[0],"-").concat(n[1]);ke(c,r)||(c[r]={range:n,count:0}),c[r].count+=1})):Object.keys(h).forEach((function(t){$t(h[t],(function(n){var i=ob(n[e],l,A),o="".concat(i[0],"-").concat(i[1]),a="".concat(o,"-").concat(t);ke(c,a)||(c[a]={range:i,count:0},c[a][r]=t),c[a].count+=1}))}));var p=[];return $t(c,(function(t){p.push(t)})),p}var sb="range",lb="count",ub=Ix({},hC.getDefaultOptions(),{columnStyle:{stroke:"#FFFFFF"},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]});function cb(t){var e=t.chart,n=t.options,A=n.data,r=n.binField,i=n.binNumber,o=n.binWidth,a=n.color,s=n.stackField,l=n.legend,u=n.columnStyle,c=ab(A,r,o,i,s);return e.data(c),Dw(Ix({},t,{options:{xField:sb,yField:lb,seriesField:s,isStack:!0,interval:{color:a,style:u}}})),l&&s?e.legend(s,l):e.legend(!1),t}function hb(t){var e,n=t.options,A=n.xAxis,r=n.yAxis;return Lx(ww(((e={})[sb]=A,e[lb]=r,e)))(t)}function pb(t){var e=t.chart,n=t.options,A=n.xAxis,r=n.yAxis;return!1===A?e.axis(sb,!1):e.axis(sb,A),!1===r?e.axis(lb,!1):e.axis(lb,r),t}function fb(t){var e=t.chart,n=t.options.label,A=Hx(e,"interval");if(n){var r=n.callback,i=Pt(n,["callback"]);A.label({fields:[lb],callback:r,cfg:Ox(i)})}else A.label(!1);return t}function db(t){return Lx(vw,pw("columnStyle"),cb,hb,pb,mw,fb,dw,gw,yw)(t)}var gb=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="histogram",e}return Tt(e,t),e.getDefaultOptions=function(){return ub},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options,n=e.binField,A=e.binNumber,r=e.binWidth,i=e.stackField;this.chart.changeData(ab(t,n,r,A,i))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return db},e}(hC),yb=Ix({},hC.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},legend:{position:"top-left",radio:{}},isStack:!1}),vb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.active=function(){var t=this.getView(),e=this.context.event;if(e.data){var n=e.data.items;$t(t.geometries.filter((function(t){return"point"===t.type})),(function(t){$t(t.elements,(function(t){var e=-1!==ie(n,(function(e){return e.data===t.data}));t.setState("active",e)}))}))}},e.prototype.reset=function(){$t(this.getView().geometries.filter((function(t){return"point"===t.type})),(function(t){$t(t.elements,(function(t){t.setState("active",!1)}))}))},e.prototype.getView=function(){return this.context.view},e}(Jh);tp("marker-active",vb),Wp("marker-active",{start:[{trigger:"tooltip:show",action:"marker-active:active"}],end:[{trigger:"tooltip:hide",action:"marker-active:reset"}]});var mb=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="line",e}return Tt(e,t),e.getDefaultOptions=function(){return yb},e.prototype.changeData=function(t){this.updateOption({data:t});gC({chart:this.chart,options:this.options}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return wC},e}(hC),Bb=Ix({},hC.getDefaultOptions(),{legend:{position:"right",radio:{}},tooltip:{shared:!1,showTitle:!1,showMarkers:!1},label:{layout:{type:"limit-in-plot",cfg:{action:"ellipsis"}}},pieStyle:{stroke:"white",lineWidth:1},statistic:{title:{style:{fontWeight:300,color:"#4B535E",textAlign:"center",fontSize:"20px",lineHeight:1}},content:{style:{fontWeight:"bold",color:"rgba(44,53,66,0.85)",textAlign:"center",fontSize:"32px",lineHeight:1}}},theme:{components:{annotation:{text:{animate:!1}}}}}),xb=[1,0,0,0,1,0,0,0,1];function wb(t,e){var n=Nt([],e||xb,!0);return Dd.transform(n,t)}var Cb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getActiveElements=function(){var t=Dd.getDelegationObject(this.context);if(t){var e=this.context.view,n=t.component,A=t.item,r=n.get("field");if(r)return e.geometries[0].elements.filter((function(t){return t.getModel().data[r]===A.value}))}return[]},e.prototype.getActiveElementLabels=function(){var t=this.context.view,e=this.getActiveElements();return t.geometries[0].labelsContainer.getChildren().filter((function(t){return e.find((function(e){return nn(e.getData(),t.get("data"))}))}))},e.prototype.transfrom=function(t){void 0===t&&(t=7.5);var e=this.getActiveElements(),n=this.getActiveElementLabels();e.forEach((function(e,A){var r=n[A],i=e.geometry.coordinate;if(i.isPolar&&i.isTransposed){var o=Dd.getAngle(e.getModel(),i),a=(o.startAngle+o.endAngle)/2,s=t,l=s*Math.cos(a),u=s*Math.sin(a);e.shape.setMatrix(wb([["t",l,u]])),r.setMatrix(wb([["t",l,u]]))}}))},e.prototype.active=function(){this.transfrom()},e.prototype.reset=function(){this.transfrom(0)},e}(Jh);var Fb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getAnnotations=function(t){return(t||this.context.view).getController("annotation").option},e.prototype.getInitialAnnotation=function(){return this.initialAnnotation},e.prototype.init=function(){var t=this,e=this.context.view;e.removeInteraction("tooltip"),e.on("afterchangesize",(function(){var n=t.getAnnotations(e);t.initialAnnotation=n}))},e.prototype.change=function(t){var e=this.context,n=e.view,A=e.event;this.initialAnnotation||(this.initialAnnotation=this.getAnnotations());var r=on(A,["data","data"]);if(A.type.match("legend-item")){var i=Dd.getDelegationObject(this.context),o=n.getGroupedFields()[0];if(i&&o){var a=i.item;r=n.getData().find((function(t){return t[o]===a.value}))}}if(r){var s=on(t,"annotations",[]),l=on(t,"statistic",{});n.getController("annotation").clear(!0),$t(s,(function(t){"object"==typeof t&&n.annotation()[t.type](t)})),zx(n,{statistic:l,plotType:"pie"},r),n.render(!0)}var u,c,h,p=(u=this.context,(h=u.event.target)&&(c=h.get("element")),c);p&&p.shape.toFront()},e.prototype.reset=function(){var t=this.context.view;t.getController("annotation").clear(!0),$t(this.getInitialAnnotation(),(function(e){t.annotation()[e.type](e)})),t.render(!0)},e}(Jh),bb="pie-statistic";function Qb(t,e){var n;switch(t){case"inner":return n="-30%",pe(e)&&e.endsWith("%")?.01*parseFloat(e)>0?n:e:e<0?e:n;case"outer":return n=12,pe(e)&&e.endsWith("%")?.01*parseFloat(e)<0?n:e:e>0?e:n;default:return e}}function Ub(t,e){return ve(Fx(t,e),(function(t){return 0===t[e]}))}function Eb(t){var e=t.chart,n=t.options,A=n.data,r=n.angleField,i=n.colorField,o=n.color,a=n.pieStyle,s=n.shape,l=Fx(A,r);if(Ub(l,r)){var u="$$percentage$$";l=l.map((function(t){var e;return Dt(Dt({},t),((e={})[u]=1/l.length,e))})),e.data(l),Dw(Ix({},t,{options:{xField:"1",yField:u,seriesField:i,isStack:!0,interval:{color:o,shape:s,style:a},args:{zIndexReversed:!0,sortZIndex:!0}}}))}else{e.data(l),Dw(Ix({},t,{options:{xField:"1",yField:r,seriesField:i,isStack:!0,interval:{color:o,shape:s,style:a},args:{zIndexReversed:!0,sortZIndex:!0}}}))}return t}function Mb(t){var e,n=t.chart,A=t.options,r=A.meta,i=A.colorField,o=Ix({},r);return n.scale(o,((e={})[i]={type:"cat"},e)),t}function Sb(t){var e=t.chart,n=t.options,A=n.radius,r=n.innerRadius,i=n.startAngle,o=n.endAngle;return e.coordinate({type:"theta",cfg:{radius:A,innerRadius:r,startAngle:i,endAngle:o}}),t}function Ib(t){var e=t.chart,n=t.options,A=n.label,r=n.colorField,i=n.angleField,o=e.geometries[0];if(A){var a=A.callback,s=Ox(Pt(A,["callback"]));if(s.content){var l=s.content;s.content=function(t,n,A){var o=t[r],a=t[i],s=e.getScaleByField(i),u=null==s?void 0:s.scale(a);return jt(l)?l(Dt(Dt({},t),{percent:u}),n,A):pe(l)?jx(l,{value:a,name:o,percentage:be(u)&&!Jt(a)?"".concat((100*u).toFixed(2),"%"):null}):l}}var u=s.type?{inner:"",outer:"pie-outer",spider:"pie-spider"}[s.type]:"pie-outer",c=s.layout?qt(s.layout)?s.layout:[s.layout]:[];s.layout=(u?[{type:u}]:[]).concat(c),o.label({fields:r?[i,r]:[i],callback:a,cfg:Dt(Dt({},s),{offset:Qb(s.type,s.offset),type:"pie"})})}else o.label(!1);return t}function kb(t){var e=t.innerRadius,n=t.statistic,A=t.angleField,r=t.colorField,i=t.meta,o=Mw(t.locale);if(e&&n){var a=Ix({},Bb.statistic,n),s=a.title,l=a.content;return!1!==s&&(s=Ix({},{formatter:function(t){var e=t?t[r]:Jt(s.content)?o.get(["statistic","total"]):s.content;return(on(i,[r,"formatter"])||function(t){return t})(e)}},s)),!1!==l&&(l=Ix({},{formatter:function(t,e){var n=t?t[A]:function(t,e){var n=null;return $t(t,(function(t){"number"==typeof t[e]&&(n+=t[e])})),n}(e,A),r=on(i,[A,"formatter"])||function(t){return t};return t||Jt(l.content)?r(n):l.content}},l)),Ix({},{statistic:{title:s,content:l}},t)}return t}function Lb(t){var e=t.chart,n=kb(t.options),A=n.innerRadius,r=n.statistic;return e.getController("annotation").clear(!0),Lx(Cw())(t),A&&r&&zx(e,{statistic:r,plotType:"pie"}),t}function Hb(t){var e=t.chart,n=t.options,A=n.tooltip,r=n.colorField,i=n.angleField,o=n.data;if(!1===A)e.tooltip(A);else if(e.tooltip(Ix({},A,{shared:!1})),Ub(o,i)){var a=on(A,"fields"),s=on(A,"formatter");en(on(A,"fields"))&&(a=[r,i],s=s||function(t){return{name:t[r],value:He(t[i])}}),e.geometries[0].tooltip(a.join("*"),kw(a,s))}return t}function Tb(t){var e=t.chart,n=kb(t.options),A=n.interactions,r=n.statistic,i=n.annotations;return $t(A,(function(t){var n,A;if(!1===t.enable)e.removeInteraction(t.type);else if("pie-statistic-active"===t.type){var o=[];(null===(n=t.cfg)||void 0===n?void 0:n.start)||(o=[{trigger:"element:mouseenter",action:"".concat(bb,":change"),arg:{statistic:r,annotations:i}}]),$t(null===(A=t.cfg)||void 0===A?void 0:A.start,(function(t){o.push(Dt(Dt({},t),{arg:{statistic:r,annotations:i}}))})),e.interaction(t.type,Ix({},t.cfg,{start:o}))}else e.interaction(t.type,t.cfg||{})})),t}function Db(t){return Lx(pw("pieStyle"),Eb,Mb,vw,Sb,fw,Hb,Ib,mw,Lb,Tb,yw)(t)}tp(bb,Fb),Wp("pie-statistic-active",{start:[{trigger:"element:mouseenter",action:"pie-statistic:change"}],end:[{trigger:"element:mouseleave",action:"pie-statistic:reset"}]}),tp("pie-legend",Cb),Wp("pie-legend-active",{start:[{trigger:"legend-item:mouseenter",action:"pie-legend:active"}],end:[{trigger:"legend-item:mouseleave",action:"pie-legend:reset"}]});var Pb=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="pie",e}return Tt(e,t),e.getDefaultOptions=function(){return Bb},e.prototype.changeData=function(t){this.chart.emit(Un.BEFORE_CHANGE_DATA,Qf.fromData(this.chart,Un.BEFORE_CHANGE_DATA,null));var e=this.options,n=this.options.angleField,A=Fx(e.data,n),r=Fx(t,n);Ub(A,n)||Ub(r,n)?this.update({data:t}):(this.updateOption({data:t}),this.chart.data(r),Lb({chart:this.chart,options:this.options}),this.chart.render(!0)),this.chart.emit(Un.AFTER_CHANGE_DATA,Qf.fromData(this.chart,Un.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Db},e}(hC),Ob=["#FAAD14","#E8EDF3"],Rb={percent:.2,color:Ob,animation:{}};function Kb(t){var e=Ce(Rx(t)?t:0,0,1);return[{current:"".concat(e),type:"current",percent:e},{current:"".concat(e),type:"target",percent:1}]}function Vb(t){var e=t.chart,n=t.options,A=n.percent,r=n.progressStyle,i=n.color,o=n.barWidthRatio;return e.data(Kb(A)),Dw(Ix({},t,{options:{xField:"current",yField:"percent",seriesField:"type",widthRatio:o,interval:{style:r,color:pe(i)?[i,Ob[1]]:i},args:{zIndexReversed:!0,sortZIndex:!0}}})),e.tooltip(!1),e.axis(!1),e.legend(!1),t}function Gb(t){return t.chart.coordinate("rect").transpose(),t}function Nb(t){return Lx(Vb,ww({}),Gb,yw,vw,Cw())(t)}var _b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="process",e}return Tt(e,t),e.getDefaultOptions=function(){return Rb},e.prototype.changeData=function(t){this.updateOption({percent:t}),this.chart.changeData(Kb(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Nb},e}(hC);function Xb(t){var e=t.chart,n=t.options,A=n.innerRadius,r=n.radius;return e.coordinate("theta",{innerRadius:A,radius:r}),t}function Yb(t,e){var n=t.chart,A=t.options,r=A.innerRadius,i=A.statistic,o=A.percent,a=A.meta;if(n.getController("annotation").clear(!0),r&&i){var s=on(a,["percent","formatter"])||function(t){return"".concat((100*t).toFixed(2),"%")},l=i.content;l&&(l=Ix({},l,{content:Jt(l.content)?s(o):l.content})),zx(n,{statistic:Dt(Dt({},i),{content:l}),plotType:"ring-progress"},{percent:o})}return e&&n.render(!0),t}function zb(t){return Lx(Vb,ww({}),Xb,Yb,yw,vw,Cw())(t)}var Wb={percent:.2,innerRadius:.8,radius:.98,color:["#FAAD14","#E8EDF3"],statistic:{title:!1,content:{style:{fontSize:"14px",fontWeight:300,fill:"#4D4D4D",textAlign:"center",textBaseline:"middle"}}},animation:{}},jb=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="ring-process",e}return Tt(e,t),e.getDefaultOptions=function(){return Wb},e.prototype.changeData=function(t){this.chart.emit(Un.BEFORE_CHANGE_DATA,Qf.fromData(this.chart,Un.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t}),this.chart.data(Kb(t)),Yb({chart:this.chart,options:this.options},!0),this.chart.emit(Un.AFTER_CHANGE_DATA,Qf.fromData(this.chart,Un.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return zb},e}(hC);function Jb(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],A=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(A=(o=a.next()).done)&&(n.push(o.value),!e||n.length!==e);A=!0);}catch(s){r=!0,i=s}finally{try{A||null==a.return||a.return()}finally{if(r)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function qb(t,e,n,A){t=t.filter((function(t,A){var r=e(t,A),i=n(t,A);return null!=r&&isFinite(r)&&null!=i&&isFinite(i)})),A&&t.sort((function(t,n){return e(t)-e(n)}));for(var r,i,o,a=t.length,s=new Float64Array(a),l=new Float64Array(a),u=0,c=0,h=0;h<a;)o=t[h],s[h]=r=+e(o,h,t),l[h]=i=+n(o,h,t),u+=(r-u)/++h,c+=(i-c)/h;for(var p=0;p<a;++p)s[p]-=u,l[p]-=c;return[s,l,u,c]}function Zb(t,e,n,A){for(var r=0,i=0,o=t.length;i<o;i++){var a=t[i],s=+e(a,i,t),l=+n(a,i,t);null!=s&&isFinite(s)&&null!=l&&isFinite(l)&&A(s,l,r++)}}function $b(t,e,n,A,r){var i=0,o=0;return Zb(t,e,n,(function(t,e){var n=e-r(t),a=e-A;i+=n*n,o+=a*a})),1-i/o}function tQ(t){return 180*Math.atan2(t[1][1]-t[0][1],t[1][0]-t[0][0])/Math.PI}function eQ(t,e,n){for(var A=Math.log(e-t)*Math.LOG10E+1|0,r=1*Math.pow(10,-A/2-1),i=[a(t),a(e)],o=0;s(i)&&o<1e4;);return i;function a(t){return[t,n(t)]}function s(t){o++;for(var e,n=t.length,A=!1,i=0;i<n-1;i++){var s=t[i],l=t[i+1],u=[((e=[s,l])[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2],c=a(u[0]),h=tQ([s,u]),p=tQ([s,c]);Math.abs(h-p)>r&&(t.splice(i+1,0,c),A=!0)}return A}}function nQ(t,e,n,A){var r=A-t*t,i=Math.abs(r)<1e-24?0:(n-t*e)/r;return[e-i*t,i]}function AQ(){var t,e=function(t){return t[0]},n=function(t){return t[1]};function A(A){var r=0,i=0,o=0,a=0,s=0,l=t?+t[0]:1/0,u=t?+t[1]:-1/0;Zb(A,e,n,(function(e,n){++r,i+=(e-i)/r,o+=(n-o)/r,a+=(e*n-a)/r,s+=(e*e-s)/r,t||(e<l&&(l=e),e>u&&(u=e))}));var c=Jb(nQ(i,o,a,s),2),h=c[0],p=c[1],f=function(t){return p*t+h},d=[[l,f(l)],[u,f(u)]];return d.a=p,d.b=h,d.predict=f,d.rSquared=$b(A,e,n,o,f),d}return A.domain=function(e){return arguments.length?(t=e,A):t},A.x=function(t){return arguments.length?(e=t,A):e},A.y=function(t){return arguments.length?(n=t,A):n},A}function rQ(t){t.sort((function(t,e){return t-e}));var e=t.length/2;return e%1==0?(t[e-1]+t[e])/2:t[Math.floor(e)]}function iQ(t){return(t=1-t*t*t)*t*t}function oQ(t,e,n){var A=t[e],r=n[0],i=n[1]+1;if(!(i>=t.length))for(;e>r&&t[i]-A<=A-t[r];)n[0]=++r,n[1]=i,++i}function aQ(){var t,e=function(t){return t[0]},n=function(t){return t[1]};function A(A){var r,i,o,a,s=Jb(qb(A,e,n),4),l=s[0],u=s[1],c=s[2],h=s[3],p=l.length,f=0,d=0,g=0,y=0,v=0;for(r=0;r<p;)i=l[r],o=u[r++],f+=((a=i*i)-f)/r,d+=(a*i-d)/r,g+=(a*a-g)/r,y+=(i*o-y)/r,v+=(a*o-v)/r;var m=0,B=0,x=t?+t[0]:1/0,w=t?+t[1]:-1/0;Zb(A,e,n,(function(e,n){B++,m+=(n-m)/B,t||(e<x&&(x=e),e>w&&(w=e))}));var C=g-f*f,F=f*C-d*d,b=(v*f-y*d)/F,Q=(y*C-v*d)/F,U=-b*f,E=function(t){return b*(t-=c)*t+Q*t+U+h},M=eQ(x,w,E);return M.a=b,M.b=Q-2*b*c,M.c=U-Q*c+b*c*c+h,M.predict=E,M.rSquared=$b(A,e,n,m,E),M}return A.domain=function(e){return arguments.length?(t=e,A):t},A.x=function(t){return arguments.length?(e=t,A):e},A.y=function(t){return arguments.length?(n=t,A):n},A}var sQ={exp:function(){var t,e=function(t){return t[0]},n=function(t){return t[1]};function A(A){var r=0,i=0,o=0,a=0,s=0,l=0,u=t?+t[0]:1/0,c=t?+t[1]:-1/0;Zb(A,e,n,(function(e,n){var A=Math.log(n),h=e*n;++r,i+=(n-i)/r,a+=(h-a)/r,l+=(e*h-l)/r,o+=(n*A-o)/r,s+=(h*A-s)/r,t||(e<u&&(u=e),e>c&&(c=e))}));var h=Jb(nQ(a/i,o/i,s/i,l/i),2),p=h[0],f=h[1];p=Math.exp(p);var d=function(t){return p*Math.exp(f*t)},g=eQ(u,c,d);return g.a=p,g.b=f,g.predict=d,g.rSquared=$b(A,e,n,i,d),g}return A.domain=function(e){return arguments.length?(t=e,A):t},A.x=function(t){return arguments.length?(e=t,A):e},A.y=function(t){return arguments.length?(n=t,A):n},A},linear:AQ,loess:function(){var t=function(t){return t[0]},e=function(t){return t[1]},n=.3;function A(A){for(var r=Jb(qb(A,t,e,!0),4),i=r[0],o=r[1],a=r[2],s=r[3],l=i.length,u=Math.max(2,~~(n*l)),c=new Float64Array(l),h=new Float64Array(l),p=new Float64Array(l).fill(1),f=-1;++f<=2;){for(var d=[0,u-1],g=0;g<l;++g){for(var y=i[g],v=d[0],m=d[1],B=y-i[v]>i[m]-y?v:m,x=0,w=0,C=0,F=0,b=0,Q=1/Math.abs(i[B]-y||1),U=v;U<=m;++U){var E=i[U],M=o[U],S=iQ(Math.abs(y-E)*Q)*p[U],I=E*S;x+=S,w+=I,C+=M*S,F+=M*I,b+=E*I}var k=Jb(nQ(w/x,C/x,F/x,b/x),2),L=k[0],H=k[1];c[g]=L+H*y,h[g]=Math.abs(o[g]-c[g]),oQ(i,g+1,d)}if(2===f)break;var T=rQ(h);if(Math.abs(T)<1e-12)break;for(var D,P,O=0;O<l;++O)D=h[O]/(6*T),p[O]=D>=1?1e-12:(P=1-D*D)*P}return function(t,e,n,A){for(var r,i=t.length,o=[],a=0,s=0,l=[];a<i;++a)r=t[a]+n,l[0]===r?l[1]+=(e[a]-l[1])/++s:(s=0,l[1]+=A,l=[r,e[a]],o.push(l));return l[1]+=A,o}(i,c,a,s)}return A.bandwidth=function(t){return arguments.length?(n=t,A):n},A.x=function(e){return arguments.length?(t=e,A):t},A.y=function(t){return arguments.length?(e=t,A):e},A},log:function(){var t,e=function(t){return t[0]},n=function(t){return t[1]},A=Math.E;function r(r){var i=0,o=0,a=0,s=0,l=0,u=t?+t[0]:1/0,c=t?+t[1]:-1/0,h=Math.log(A);Zb(r,e,n,(function(e,n){var A=Math.log(e)/h;++i,o+=(A-o)/i,a+=(n-a)/i,s+=(A*n-s)/i,l+=(A*A-l)/i,t||(e<u&&(u=e),e>c&&(c=e))}));var p=Jb(nQ(o,a,s,l),2),f=p[0],d=p[1],g=function(t){return d*Math.log(t)/h+f},y=eQ(u,c,g);return y.a=d,y.b=f,y.predict=g,y.rSquared=$b(r,e,n,a,g),y}return r.domain=function(e){return arguments.length?(t=e,r):t},r.x=function(t){return arguments.length?(e=t,r):e},r.y=function(t){return arguments.length?(n=t,r):n},r.base=function(t){return arguments.length?(A=t,r):A},r},poly:function(){var t,e=function(t){return t[0]},n=function(t){return t[1]},A=3;function r(r){if(1===A){var i=AQ().x(e).y(n).domain(t)(r);return i.coefficients=[i.b,i.a],delete i.a,delete i.b,i}if(2===A){var o=aQ().x(e).y(n).domain(t)(r);return o.coefficients=[o.c,o.b,o.a],delete o.a,delete o.b,delete o.c,o}var a,s,l,u,c,h=Jb(qb(r,e,n),4),p=h[0],f=h[1],d=h[2],g=h[3],y=p.length,v=[],m=[],B=A+1,x=0,w=0,C=t?+t[0]:1/0,F=t?+t[1]:-1/0;for(Zb(r,e,n,(function(e,n){++w,x+=(n-x)/w,t||(e<C&&(C=e),e>F&&(F=e))})),a=0;a<B;++a){for(l=0,u=0;l<y;++l)u+=Math.pow(p[l],a)*f[l];for(v.push(u),c=new Float64Array(B),s=0;s<B;++s){for(l=0,u=0;l<y;++l)u+=Math.pow(p[l],a+s);c[s]=u}m.push(c)}m.push(v);var b=function(t){var e,n,A,r,i,o=t.length-1,a=[];for(e=0;e<o;++e){for(r=e,n=e+1;n<o;++n)Math.abs(t[e][n])>Math.abs(t[e][r])&&(r=n);for(A=e;A<o+1;++A)i=t[A][e],t[A][e]=t[A][r],t[A][r]=i;for(n=e+1;n<o;++n)for(A=o;A>=e;A--)t[A][n]-=t[A][e]*t[e][n]/t[e][e]}for(n=o-1;n>=0;--n){for(i=0,A=n+1;A<o;++A)i+=t[A][n]*a[A];a[n]=(t[o][n]-i)/t[n][n]}return a}(m),Q=function(t){t-=d;var e=g+b[0]+b[1]*t+b[2]*t*t;for(a=3;a<B;++a)e+=b[a]*Math.pow(t,a);return e},U=eQ(C,F,Q);return U.coefficients=function(t,e,n,A){var r,i,o,a,s=Array(t);for(r=0;r<t;++r)s[r]=0;for(r=t-1;r>=0;--r)for(o=e[r],a=1,s[r]+=o,i=1;i<=r;++i)a*=(r+1-i)/i,s[r-i]+=o*Math.pow(n,i)*a;return s[0]+=A,s}(B,b,-d,g),U.predict=Q,U.rSquared=$b(r,e,n,x,Q),U}return r.domain=function(e){return arguments.length?(t=e,r):t},r.x=function(t){return arguments.length?(e=t,r):e},r.y=function(t){return arguments.length?(n=t,r):n},r.order=function(t){return arguments.length?(A=t,r):A},r},pow:function(){var t,e=function(t){return t[0]},n=function(t){return t[1]};function A(A){var r=0,i=0,o=0,a=0,s=0,l=0,u=t?+t[0]:1/0,c=t?+t[1]:-1/0;Zb(A,e,n,(function(e,n){var A=Math.log(e),h=Math.log(n);++r,i+=(A-i)/r,o+=(h-o)/r,a+=(A*h-a)/r,s+=(A*A-s)/r,l+=(n-l)/r,t||(e<u&&(u=e),e>c&&(c=e))}));var h=Jb(nQ(i,o,a,s),2),p=h[0],f=h[1];p=Math.exp(p);var d=function(t){return p*Math.pow(t,f)},g=eQ(u,c,d);return g.a=p,g.b=f,g.predict=d,g.rSquared=$b(A,e,n,l,d),g}return A.domain=function(e){return arguments.length?(t=e,A):t},A.x=function(t){return arguments.length?(e=t,A):e},A.y=function(t){return arguments.length?(n=t,A):n},A},quad:aQ};var lQ=function(t,e){var n=e.view,A=e.options,r=A.xField,i=A.yField,o=n.getScaleByField(r),a=n.getScaleByField(i);return _x(t.map((function(t){return n.getCoordinate().convert({x:o.scale(t[0]),y:a.scale(t[1])})})),!1)},uQ=function(t){var e,n=t.options,A=n.xField,r=n.yField,i=n.data,o=n.regressionLine,a=o.type,s=void 0===a?"linear":a,l=o.algorithm,u=o.equation,c=null;l?(e=qt(l)?l:l(i),c=u):c=function(t,e){var n,A,r,i=function(t,e){return void 0===e&&(e=4),Math.round(t*Math.pow(10,e))/Math.pow(10,e)},o=function(t){return Number.isFinite(t)?i(t):"?"};switch(t){case"linear":return"y = ".concat(o(e.a),"x + ").concat(o(e.b),", R^2 = ").concat(o(e.rSquared));case"exp":return"y = ".concat(o(e.a),"e^(").concat(o(e.b),"x), R^2 = ").concat(o(e.rSquared));case"log":return"y = ".concat(o(e.a),"ln(x) + ").concat(o(e.b),", R^2 = ").concat(o(e.rSquared));case"quad":return"y = ".concat(o(e.a),"x^2 + ").concat(o(e.b),"x + ").concat(o(e.c),", R^2 = ").concat(o(e.rSquared));case"poly":for(var a="y = ".concat(o(null===(n=e.coefficients)||void 0===n?void 0:n[0])," + ").concat(o(null===(A=e.coefficients)||void 0===A?void 0:A[1]),"x + ").concat(o(null===(r=e.coefficients)||void 0===r?void 0:r[2]),"x^2"),s=3;s<e.coefficients.length;++s)a+=" + ".concat(o(e.coefficients[s]),"x^").concat(s);return"".concat(a,", R^2 = ").concat(o(e.rSquared));case"pow":return"y = ".concat(o(e.a),"x^").concat(o(e.b),", R^2 = ").concat(o(e.rSquared))}return null}(s,e=sQ[s]().x((function(t){return t[A]})).y((function(t){return t[r]}))(i));return[lQ(e,t),c]},cQ=function(t){var e,n=t.meta,A=void 0===n?{}:n,r=t.xField,i=t.yField,o=t.data,a=o[0][r],s=o[0][i],l=a>0,u=s>0;function c(t,e){var n=on(A,[t]);function r(t){return on(n,t)}var i={};return"x"===e?(be(a)&&(be(r("min"))||(i.min=l?0:2*a),be(r("max"))||(i.max=l?2*a:0)),i):(be(s)&&(be(r("min"))||(i.min=u?0:2*s),be(r("max"))||(i.max=u?2*s:0)),i)}return Dt(Dt({},A),((e={})[r]=Dt(Dt({},A[r]),c(r,"x")),e[i]=Dt(Dt({},A[i]),c(i,"y")),e))};function hQ(t){var e=t.data,n=void 0===e?[]:e,A=t.xField,r=t.yField;if(n.length){for(var i=!0,o=!0,a=n[0],s=void 0,l=1;l<n.length&&(s=n[l],a[A]!==s[A]&&(i=!1),a[r]!==s[r]&&(o=!1),i||o);l++)a=s;var u=[];i&&u.push(A),o&&u.push(r);var c=xx(cQ(t),u);return Ix({},t,{meta:c})}return t}function pQ(t){var e=t.chart,n=t.options,A=n.data,r=n.type,i=n.color,o=n.shape,a=n.pointStyle,s=n.shapeField,l=n.colorField,u=n.xField,c=n.yField,h=n.sizeField,p=n.size,f=n.tooltip;h&&(p||(p=[2,8]),be(p)&&(p=[p,p])),f&&!f.fields&&(f=Dt(Dt({},f),{fields:[u,c,l,h,s]})),e.data(A),Ow(Ix({},t,{options:{seriesField:l,point:{color:i,shape:o,size:p,style:a},tooltip:f}}));var d=Hx(e,"point");return r&&d.adjust(r),t}function fQ(t){var e,n=t.options,A=n.xAxis,r=n.yAxis,i=n.xField,o=n.yField,a=hQ(n);return Lx(ww(((e={})[i]=A,e[o]=r,e)))(Ix({},t,{options:a}))}function dQ(t){var e=t.chart,n=t.options,A=n.xAxis,r=n.yAxis,i=n.xField,o=n.yField;return e.axis(i,A),e.axis(o,r),t}function gQ(t){var e=t.chart,n=t.options,A=n.legend,r=n.colorField,i=n.shapeField,o=n.sizeField,a=n.shapeLegend,s=n.sizeLegend,l=!1!==A;return r&&e.legend(r,!!l&&A),i&&(a?e.legend(i,a):e.legend(i,!1!==a&&A)),o&&e.legend(o,s||!1),l||a||s||e.legend(!1),t}function yQ(t){var e=t.chart,n=t.options,A=n.label,r=n.yField,i=Hx(e,"point");if(A){var o=A.callback,a=Pt(A,["callback"]);i.label({fields:[r],callback:o,cfg:Ox(a)})}else i.label(!1);return t}function vQ(t){var e=t.options.quadrant,n=[];if(e){var A=e.xBaseline,r=void 0===A?0:A,i=e.yBaseline,o=void 0===i?0:i,a=e.labels,s=e.regionStyle,l=e.lineStyle,u=function(t,e){var n=10;return{regionStyle:[{position:{start:[t,"max"],end:["max",e]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:["min","max"],end:[t,e]},style:{fill:"#a3dda1",opacity:.4}},{position:{start:["min",e],end:[t,"min"]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:[t,e],end:["max","min"]},style:{fill:"#a3dda1",opacity:.4}}],lineStyle:{stroke:"#9ba29a",lineWidth:1},labelStyle:[{position:["max",e],offsetX:-10,offsetY:-10,style:{textAlign:"right",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",e],offsetX:n,offsetY:-10,style:{textAlign:"left",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",e],offsetX:n,offsetY:n,style:{textAlign:"left",textBaseline:"top",fontSize:14,fill:"#ccc"}},{position:["max",e],offsetX:-10,offsetY:n,style:{textAlign:"right",textBaseline:"top",fontSize:14,fill:"#ccc"}}]}}(r,o);new Array(4).join(",").split(",").forEach((function(t,e){n.push(Dt(Dt({type:"region",top:!1},u.regionStyle[e].position),{style:Ix({},u.regionStyle[e].style,null==s?void 0:s[e])}),Dt({type:"text",top:!0},Ix({},u.labelStyle[e],null==a?void 0:a[e])))})),n.push({type:"line",top:!1,start:["min",o],end:["max",o],style:Ix({},u.lineStyle,l)},{type:"line",top:!1,start:[r,"min"],end:[r,"max"],style:Ix({},u.lineStyle,l)})}return Lx(Cw(n))(t)}function mQ(t){var e=t.options,n=t.chart,A=e.regressionLine;if(A){var r=A.style,i=A.equationStyle,o=void 0===i?{}:i,a=A.top,s=void 0!==a&&a,l=A.showEquation,u=void 0!==l&&l,c={stroke:"#9ba29a",lineWidth:2,opacity:.5},h={x:20,y:20,textAlign:"left",textBaseline:"middle",fontSize:14,fillOpacity:.5};n.annotation().shape({top:s,render:function(t,A){var i=t.addGroup({id:"".concat(n.id,"-regression-line"),name:"regression-line-group"}),a=uQ({view:A,options:e}),s=a[0],l=a[1];i.addShape("path",{name:"regression-line",attrs:Dt(Dt({path:s},c),r)}),u&&i.addShape("text",{name:"regression-equation",attrs:Dt(Dt(Dt({},h),o),{text:l})})}})}return t}function BQ(t){var e=t.chart,n=t.options.tooltip;return n?e.tooltip(n):!1===n&&e.tooltip(!1),t}function xQ(t){return Lx(pQ,fQ,dQ,gQ,BQ,yQ,HC,Bw,xw,gw,vQ,yw,vw,mQ)(t)}var wQ=Ix({},hC.getDefaultOptions(),{size:4,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!0,crosshairs:{type:"xy"}}});Wp("drag-move",{start:[{trigger:"plot:mousedown",action:"scale-translate:start"}],processing:[{trigger:"plot:mousemove",action:"scale-translate:translate",throttle:{wait:100,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseup",action:"scale-translate:end"}]});var CQ=function(t){function e(e,n){var A=t.call(this,e,n)||this;return A.type="scatter",A.on(Un.BEFORE_RENDER,(function(t){var e,n,r=A,i=r.options,o=r.chart;if((null===(e=t.data)||void 0===e?void 0:e.source)===GB.FILTER){var a=A.chart.filterData(A.chart.getData());fQ({chart:o,options:Dt(Dt({},i),{data:a})})}(null===(n=t.data)||void 0===n?void 0:n.source)===GB.RESET&&fQ({chart:o,options:i})})),A}return Tt(e,t),e.getDefaultOptions=function(){return wQ},e.prototype.changeData=function(t){this.updateOption(hQ(Ix({},this.options,{data:t})));var e=this.options;fQ({chart:this.chart,options:e}),this.chart.changeData(t)},e.prototype.getSchemaAdaptor=function(){return xQ},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e}(hC),FQ="$$stock-range$$",bQ="trend",QQ="up",UQ="down",EQ=Ix({},hC.getDefaultOptions(),{tooltip:{showMarkers:!1,showCrosshairs:!0,shared:!0,crosshairs:{type:"xy",follow:!0,text:function(t,e,n){var A;if("x"===t){var r=n[0];A=r?r.title:e}else A=e;return{position:"y"===t?"start":"end",content:A,style:{fill:"#dfdfdf"}}},textBackground:{padding:[2,4],style:{fill:"#666"}}}},interactions:[{type:"tooltip"}],legend:{position:"top-left"},risingFill:"#ef5350",fallingFill:"#26a69a"});function MQ(t,e){return An(t,(function(t){var n=t&&Dt({},t);if(qt(e)&&n){var A=e[0],r=e[1],i=e[2],o=e[3];n[bQ]=n[A]<=n[r]?QQ:UQ,n[FQ]=[n[A],n[r],n[i],n[o]]}return n}))}function SQ(t){var e=t.chart,n=t.options,A=n.yField,r=n.data,i=n.risingFill,o=n.fallingFill,a=n.tooltip,s=n.stockStyle;e.data(MQ(r,A));var l=a;return!1!==l&&(l=Ix({},{fields:A},l)),Kw(Ix({},t,{options:{schema:{shape:"candle",color:[i,o],style:s},yField:FQ,seriesField:bQ,rawFields:A,tooltip:l}})),t}function IQ(t){var e,n,A=t.chart,r=t.options,i=r.meta,o=r.xAxis,a=r.yAxis,s=r.xField,l=((e={})[s]={type:"timeCat",tickCount:6},e[bQ]={values:[QQ,UQ]},e),u=Ix(l,i,((n={})[s]=xx(o,yx),n[FQ]=xx(a,yx),n));return A.scale(u),t}function kQ(t){var e=t.chart,n=t.options,A=n.xAxis,r=n.yAxis,i=n.xField;return!1===A?e.axis(i,!1):e.axis(i,A),!1===r?e.axis(FQ,!1):e.axis(FQ,r),t}function LQ(t){var e=t.chart,n=t.options.tooltip;return!1!==n?e.tooltip(n):e.tooltip(!1),t}function HQ(t){var e=t.chart,n=t.options.legend;return n?e.legend(bQ,n):!1===n&&e.legend(!1),t}function TQ(t){Lx(vw,SQ,IQ,kQ,LQ,HQ,gw,yw,Cw(),Bw)(t)}var DQ=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="stock",e}return Tt(e,t),e.getDefaultOptions=function(){return EQ},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return TQ},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options.yField;this.chart.changeData(MQ(t,e))},e}(hC);function PQ(t){return An(t||[],(function(t,e){return{x:"".concat(e),y:t}}))}var OQ="x",RQ="y",KQ={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(t,e){return"".concat(on(e,[0,"data","y"],0))},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}},showCrosshairs:!0,crosshairs:{type:"x"}},VQ={appendPadding:2,tooltip:Dt({},KQ),animation:{}};function GQ(t){var e=t.chart,n=t.options,A=n.data,r=n.color,i=n.areaStyle,o=n.point,a=n.line,s=null==o?void 0:o.state,l=PQ(A);e.data(l);var u=Ix({},t,{options:{xField:OQ,yField:RQ,area:{color:r,style:i},line:a,point:o}}),c=Ix({},u,{options:{tooltip:!1}}),h=Ix({},u,{options:{tooltip:!1,state:s}});return Hw(u),Pw(c),Ow(h),e.axis(!1),e.legend(!1),t}function NQ(t){var e,n,A=t.options,r=A.xAxis,i=A.yAxis,o=PQ(A.data);return Lx(ww(((e={})[OQ]=r,e[RQ]=i,e),((n={})[OQ]={type:"cat"},n[RQ]=wx(o,RQ),n)))(t)}function _Q(t){return Lx(pw("areaStyle"),GQ,NQ,dw,vw,yw,Cw())(t)}var XQ={appendPadding:2,tooltip:Dt({},KQ),color:"l(90) 0:#E5EDFE 1:#ffffff",areaStyle:{fillOpacity:.6},line:{size:1,color:"#5B8FF9"},animation:{}},YQ=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="tiny-area",e}return Tt(e,t),e.getDefaultOptions=function(){return XQ},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.chart;NQ({chart:e,options:this.options}),e.changeData(PQ(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return _Q},e}(hC);function zQ(t){var e=t.chart,n=t.options,A=n.data,r=n.color,i=n.columnStyle,o=n.columnWidthRatio,a=PQ(A);return e.data(a),Dw(Ix({},t,{options:{xField:OQ,yField:RQ,widthRatio:o,interval:{style:i,color:r}}})),e.axis(!1),e.legend(!1),e.interaction("element-active"),t}function WQ(t){return Lx(vw,pw("columnStyle"),zQ,NQ,dw,yw,Cw())(t)}var jQ={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(t,e){return"".concat(on(e,[0,"data","y"],0))},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}}},JQ={appendPadding:2,tooltip:Dt({},jQ),animation:{}},qQ=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="tiny-column",e}return Tt(e,t),e.getDefaultOptions=function(){return JQ},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.chart;NQ({chart:e,options:this.options}),e.changeData(PQ(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return WQ},e}(hC);function ZQ(t){var e=t.chart,n=t.options,A=n.data,r=n.color,i=n.lineStyle,o=n.point,a=null==o?void 0:o.state,s=PQ(A);e.data(s);var l=Ix({},t,{options:{xField:OQ,yField:RQ,line:{color:r,style:i},point:o}}),u=Ix({},l,{options:{tooltip:!1,state:a}});return Pw(l),Ow(u),e.axis(!1),e.legend(!1),t}function $Q(t){return Lx(ZQ,NQ,vw,dw,yw,Cw())(t)}var tU,eU,nU=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="tiny-line",e}return Tt(e,t),e.getDefaultOptions=function(){return VQ},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.chart;NQ({chart:e,options:this.options}),e.changeData(PQ(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return $Q},e}(hC),AU={line:wC,pie:Db,column:WC,bar:tF,area:QC,gauge:rb,"tiny-line":$Q,"tiny-column":WQ,"tiny-area":_Q,"ring-progress":zb,progress:Nb,scatter:xQ,histogram:db,funnel:VF,stock:TQ},rU={line:mb,pie:Pb,column:iF,bar:AF,area:EC,gauge:ib,"tiny-line":nU,"tiny-column":qQ,"tiny-area":YQ,"ring-progress":jb,progress:_b,scatter:CQ,histogram:gb,funnel:NF,stock:DQ},iU={pie:{label:!1},column:{tooltip:{showMarkers:!1}},bar:{tooltip:{showMarkers:!1}}};function oU(t,e,n){var A=rU[t];A?(0,AU[t])({chart:e,options:Ix({},A.getDefaultOptions(),on(iU,t,{}),n)}):console.error("could not find ".concat(t," plot"))}function aU(t){var e=t.chart,n=t.options,A=n.views,r=n.legend;return $t(A,(function(t){var n=t.region,A=t.data,r=t.meta,i=t.axes,o=t.coordinate,a=t.interactions,s=t.annotations,l=t.tooltip,u=t.geometries,c=e.createView({region:n});c.data(A);var h={};i&&$t(i,(function(t,e){h[e]=xx(t,yx)})),h=Ix({},r,h),c.scale(h),i?$t(i,(function(t,e){c.axis(e,t)})):c.axis(!1),c.coordinate(o),$t(u,(function(t){var e=Lw({chart:c,options:t}).ext,n=t.adjust;n&&e.geometry.adjust(n)})),$t(a,(function(t){!1===t.enable?c.removeInteraction(t.type):c.interaction(t.type,t.cfg)})),$t(s,(function(t){c.annotation()[t.type](Dt({},t))})),"boolean"==typeof t.animation?c.animate(!1):(c.animate(!0),$t(c.geometries,(function(e){e.animate(t.animation)}))),l&&(c.interaction("tooltip"),c.tooltip(l))})),r?$t(r,(function(t,n){e.legend(n,t)})):e.legend(!1),e.tooltip(n.tooltip),t}function sU(t){var e=t.chart,n=t.options,A=n.plots,r=n.data,i=void 0===r?[]:r;return $t(A,(function(t){var n=t.type,A=t.region,r=t.options,o=void 0===r?{}:r,a=t.top,s=o.tooltip;if(a)oU(n,e,Dt(Dt({},o),{data:i}));else{var l=e.createView(Dt({region:A},xx(o,cC)));s&&l.interaction("tooltip"),oU(n,l,Dt({data:i},o))}})),t}function lU(t){var e=t.chart,n=t.options;return e.option("slider",n.slider),t}function uU(t){return Lx(yw,aU,sU,gw,yw,vw,dw,lU,Cw())(t)}tp("association",function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getAssociationItems=function(t,e){var n,A=this.context.event,r=e||{},i=r.linkField,o=r.dim,a=[];if(null===(n=A.data)||void 0===n?void 0:n.data){var s=A.data.data;$t(t,(function(t){var e,n,A=i;if("x"===o?A=t.getXScale().field:"y"===o?A=null===(e=t.getYScales().find((function(t){return t.field===A})))||void 0===e?void 0:e.field:A||(A=null===(n=t.getGroupScales()[0])||void 0===n?void 0:n.field),A){var r=An(Tx(t),(function(e){var n=!1,r=!1,i=qt(s)?on(s[0],A):on(s,A);return function(t,e){var n=t.getModel().data;return qt(n)?n[0][e]:n[e]}(e,A)===i?n=!0:r=!0,{element:e,view:t,active:n,inactive:r}}));a.push.apply(a,r)}}))}return a},e.prototype.showTooltip=function(t){var e=Zx(this.context.view);$t(this.getAssociationItems(e,t),(function(t){if(t.active){var e=t.element.shape.getCanvasBBox();t.view.showTooltip({x:e.minX+e.width/2,y:e.minY+e.height/2})}}))},e.prototype.hideTooltip=function(){$t(Zx(this.context.view),(function(t){t.hideTooltip()}))},e.prototype.active=function(t){var e=qx(this.context.view);$t(this.getAssociationItems(e,t),(function(t){var e=t.active,n=t.element;e&&n.setState("active",!0)}))},e.prototype.selected=function(t){var e=qx(this.context.view);$t(this.getAssociationItems(e,t),(function(t){var e=t.active,n=t.element;e&&n.setState("selected",!0)}))},e.prototype.highlight=function(t){var e=qx(this.context.view);$t(this.getAssociationItems(e,t),(function(t){var e=t.inactive,n=t.element;e&&n.setState("inactive",!0)}))},e.prototype.reset=function(){$t(qx(this.context.view),(function(t){$t(Tx(t),(function(t){t.hasState("active")&&t.setState("active",!1),t.hasState("selected")&&t.setState("selected",!1),t.hasState("inactive")&&t.setState("inactive",!1)}))}))},e}(Jh)),Wp("association-active",{start:[{trigger:"element:mouseenter",action:"association:active"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),Wp("association-selected",{start:[{trigger:"element:mouseenter",action:"association:selected"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),Wp("association-highlight",{start:[{trigger:"element:mouseenter",action:"association:highlight"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),Wp("association-tooltip",{start:[{trigger:"element:mousemove",action:"association:showTooltip"}],end:[{trigger:"element:mouseleave",action:"association:hideTooltip"}]}),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="mix",e}Tt(e,t),e.prototype.getSchemaAdaptor=function(){return uU}}(hC),(eU=tU||(tU={})).DEV="DEV",eU.BETA="BETA",eU.STABLE="STABLE";var cU,hU="first-axes-view",pU="second-axes-view",fU="series-field-key";function dU(t,e,n,A,r){var i=[];e.forEach((function(e){A.forEach((function(A){var r,o=((r={})[t]=A[t],r[n]=e,r[e]=A[e],r);i.push(o)}))}));var o=Object.values(xe(i,n)),a=o[0],s=void 0===a?[]:a,l=o[1],u=void 0===l?[]:l;return r?[s.reverse(),u.reverse()]:[s,u]}function gU(t){return"vertical"!==t}function yU(t,e,n){var A=e[0],r=e[1],i=A.autoPadding,o=r.autoPadding,a=t.__axisPosition,s=a.layout,l=a.position;if(gU(s)&&"top"===l&&(A.autoPadding=n.instance(i.top,0,i.bottom,i.left),r.autoPadding=n.instance(o.top,i.left,o.bottom,0)),gU(s)&&"bottom"===l&&(A.autoPadding=n.instance(i.top,i.right/2+5,i.bottom,i.left),r.autoPadding=n.instance(o.top,o.right,o.bottom,i.right/2+5)),!gU(s)&&"bottom"===l){var u=i.left>=o.left?i.left:o.left;A.autoPadding=n.instance(i.top,i.right,i.bottom/2+5,u),r.autoPadding=n.instance(i.bottom/2+5,o.right,o.bottom,u)}if(!gU(s)&&"top"===l){u=i.left>=o.left?i.left:o.left;A.autoPadding=n.instance(i.top,i.right,0,u),r.autoPadding=n.instance(0,o.right,i.top,u)}}function vU(t){var e,n,A=t.chart,r=t.options,i=r.data,o=r.xField,a=r.yField,s=r.color,l=r.barStyle,u=r.widthRatio,c=r.legend,h=r.layout,p=dU(o,a,fU,i,gU(h));c?A.legend(fU,c):!1===c&&A.legend(!1);var f=p[0],d=p[1];return gU(h)?((e=A.createView({region:{start:{x:0,y:0},end:{x:.5,y:1}},id:hU})).coordinate().transpose().reflect("x"),(n=A.createView({region:{start:{x:.5,y:0},end:{x:1,y:1}},id:pU})).coordinate().transpose(),e.data(f),n.data(d)):(e=A.createView({region:{start:{x:0,y:0},end:{x:1,y:.5}},id:hU}),(n=A.createView({region:{start:{x:0,y:.5},end:{x:1,y:1}},id:pU})).coordinate().reflect("y"),e.data(f),n.data(d)),Dw(Ix({},t,{chart:e,options:{widthRatio:u,xField:o,yField:a[0],seriesField:fU,interval:{color:s,style:l}}})),Dw(Ix({},t,{chart:n,options:{xField:o,yField:a[1],seriesField:fU,widthRatio:u,interval:{color:s,style:l}}})),t}function mU(t){var e,n,A,r=t.options,i=t.chart,o=r.xAxis,a=r.yAxis,s=r.xField,l=r.yField,u=Jx(i,hU),c=Jx(i,pU),h={};return te((null==r?void 0:r.meta)||{}).map((function(t){on(null==r?void 0:r.meta,[t,"alias"])&&(h[t]=r.meta[t].alias)})),i.scale(((e={})[fU]={sync:!0,formatter:function(t){return on(h,t,t)}},e)),ww(((n={})[s]=o,n[l[0]]=a[l[0]],n))(Ix({},t,{chart:u})),ww(((A={})[s]=o,A[l[1]]=a[l[1]],A))(Ix({},t,{chart:c})),t}function BU(t){var e=t.chart,n=t.options,A=n.xAxis,r=n.yAxis,i=n.xField,o=n.yField,a=n.layout,s=Jx(e,hU),l=Jx(e,pU);return"bottom"===(null==A?void 0:A.position)?l.axis(i,Dt(Dt({},A),{label:{formatter:function(){return""}}})):l.axis(i,!1),!1===A?s.axis(i,!1):s.axis(i,Dt({position:gU(a)?"top":"bottom"},A)),!1===r?(s.axis(o[0],!1),l.axis(o[1],!1)):(s.axis(o[0],r[o[0]]),l.axis(o[1],r[o[1]])),e.__axisPosition={position:s.getOptions().axes[i].position,layout:a},t}function xU(t){var e=t.chart;return gw(Ix({},t,{chart:Jx(e,hU)})),gw(Ix({},t,{chart:Jx(e,pU)})),t}function wU(t){var e=t.chart,n=t.options,A=n.yField,r=n.yAxis;return Fw(Ix({},t,{chart:Jx(e,hU),options:{yAxis:r[A[0]]}})),Fw(Ix({},t,{chart:Jx(e,pU),options:{yAxis:r[A[1]]}})),t}function CU(t){var e=t.chart;return vw(Ix({},t,{chart:Jx(e,hU)})),vw(Ix({},t,{chart:Jx(e,pU)})),vw(t),t}function FU(t){var e=t.chart;return yw(Ix({},t,{chart:Jx(e,hU)})),yw(Ix({},t,{chart:Jx(e,pU)})),t}function bU(t){var e,n,A=this,r=t.chart,i=t.options,o=i.label,a=i.yField,s=i.layout,l=Jx(r,hU),u=Jx(r,pU),c=Hx(l,"interval"),h=Hx(u,"interval");if(o){var p=o.callback,f=Pt(o,["callback"]);f.position||(f.position="middle"),void 0===f.offset&&(f.offset=2);var d=Dt({},f);if(gU(s)){var g=(null===(e=d.style)||void 0===e?void 0:e.textAlign)||("middle"===f.position?"center":"left");f.style=Ix({},f.style,{textAlign:g});d.style=Ix({},d.style,{textAlign:{left:"right",right:"left",center:"center"}[g]})}else{var y={top:"bottom",bottom:"top",middle:"middle"};"string"==typeof f.position?f.position=y[f.position]:"function"==typeof f.position&&(f.position=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return y[f.position.apply(A,t)]});var v=(null===(n=d.style)||void 0===n?void 0:n.textBaseline)||"bottom";d.style=Ix({},d.style,{textBaseline:v});f.style=Ix({},f.style,{textBaseline:{top:"bottom",bottom:"top",middle:"middle"}[v]})}c.label({fields:[a[0]],callback:p,cfg:Ox(d)}),h.label({fields:[a[1]],callback:p,cfg:Ox(f)})}else c.label(!1),h.label(!1);return t}function QU(t){return Lx(vU,mU,BU,wU,CU,bU,dw,xU,FU)(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="bidirectional-bar",e}Tt(e,t),e.getDefaultOptions=function(){return Ix({},t.getDefaultOptions.call(this),{syncViewPadding:yU})},e.prototype.changeData=function(t){void 0===t&&(t=[]),this.chart.emit(Un.BEFORE_CHANGE_DATA,Qf.fromData(this.chart,Un.BEFORE_CHANGE_DATA,null)),this.updateOption({data:t});var e=this.options,n=e.xField,A=e.yField,r=e.layout,i=dU(n,A,fU,t,gU(r)),o=i[0],a=i[1],s=Jx(this.chart,hU),l=Jx(this.chart,pU);s.data(o),l.data(a),this.chart.render(!0),this.chart.emit(Un.AFTER_CHANGE_DATA,Qf.fromData(this.chart,Un.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return QU},e.SERIES_FIELD_KEY=fU}(hC);var UU="$$range$$",EU="$$y_outliers$$",MU="outliers_view",SU=Ix({},hC.getDefaultOptions(),{meta:(cU={},cU[UU]={min:0,alias:"low-q1-median-q3-high"},cU),interactions:[{type:"active-region"}],tooltip:{showMarkers:!1,shared:!0},boxStyle:{lineWidth:1}}),IU=function(t,e){var n=t;if(Array.isArray(e)){var A=e[0],r=e[1],i=e[2],o=e[3],a=e[4];n=An(t,(function(t){return t[UU]=[t[A],t[r],t[i],t[o],t[a]],t}))}return n};function kU(t){var e=t.chart,n=t.options,A=n.xField,r=n.yField,i=n.groupField,o=n.color,a=n.tooltip,s=n.boxStyle;e.data(IU(n.data,r));var l=qt(r)?UU:r,u=r?qt(r)?r:[r]:[],c=a;!1!==c&&(c=Ix({},{fields:qt(r)?r:[]},c));var h=Kw(Ix({},t,{options:{xField:A,yField:l,seriesField:i,tooltip:c,rawFields:u,label:!1,schema:{shape:"box",color:o,style:s}}})).ext;return i&&h.geometry.adjust("dodge"),t}function LU(t){var e=t.chart,n=t.options,A=n.xField,r=n.data,i=n.outliersField,o=n.outliersStyle,a=n.padding,s=n.label;if(!i)return t;var l=e.createView({padding:a,id:MU}),u=r.reduce((function(t,e){return e[i].forEach((function(n){var A;return t.push(Dt(Dt({},e),((A={})[i]=n,A)))})),t}),[]);return l.data(u),Ow({chart:l,options:{xField:A,yField:i,point:{shape:"circle",style:o},label:s}}),l.axis(!1),t}function HU(t){var e,n,A=t.chart,r=t.options,i=r.meta,o=r.xAxis,a=r.yAxis,s=r.xField,l=r.yField,u=r.outliersField,c=Array.isArray(l)?UU:l,h={};if(u){var p=EU;(e={})[u]={sync:p,nice:!0},e[c]={sync:p,nice:!0},h=e}var f=Ix(h,i,((n={})[s]=xx(o,yx),n[c]=xx(a,yx),n));return A.scale(f),t}function TU(t){var e=t.chart,n=t.options,A=n.xAxis,r=n.yAxis,i=n.xField,o=n.yField,a=Array.isArray(o)?UU:o;return!1===A?e.axis(i,!1):e.axis(i,A),!1===r?e.axis(UU,!1):e.axis(a,r),t}function DU(t){var e=t.chart,n=t.options,A=n.legend,r=n.groupField;return r?A?e.legend(r,A):e.legend(r,{position:"bottom"}):e.legend(!1),t}function PU(t){return Lx(kU,LU,HU,TU,DU,dw,Cw(),gw,yw,vw)(t)}function OU(t,e,n){return t.length>1?"".concat(e,"_").concat(n):"".concat(e)}function RU(t){var e=t.data,n=t.xField,A=t.measureField,r=t.rangeField,i=t.targetField,o=t.layout,a=[],s=[];e.forEach((function(t,e){var o=[t[r]].flat();o.sort((function(t,e){return t-e})),o.forEach((function(A,i){var s,l=0===i?A:o[i]-o[i-1];a.push(((s={rKey:"".concat(r,"_").concat(i)})[n]=n?t[n]:String(e),s[r]=l,s))}));var l=[t[A]].flat();l.forEach((function(r,i){var o;a.push(((o={mKey:OU(l,A,i)})[n]=n?t[n]:String(e),o[A]=r,o))}));var u=[t[i]].flat();u.forEach((function(A,r){var o;a.push(((o={tKey:OU(u,i,r)})[n]=n?t[n]:String(e),o[i]=A,o))})),s.push(t[r],t[A],t[i])}));var l=Math.min.apply(Math,s.flat(1/0)),u=Math.max.apply(Math,s.flat(1/0));return l=l>0?0:l,"vertical"===o&&a.reverse(),{min:l,max:u,ds:a}}function KU(t){var e=t.chart,n=t.options,A=n.bulletStyle,r=n.targetField,i=n.rangeField,o=n.measureField,a=n.xField,s=n.color,l=n.layout,u=n.size,c=n.label,h=RU(n),p=h.min,f=h.max,d=h.ds;return e.data(d),Dw(Ix({},t,{options:{xField:a,yField:i,seriesField:"rKey",isStack:!0,label:on(c,"range"),interval:{color:on(s,"range"),style:on(A,"range"),size:on(u,"range")}}})),e.geometries[0].tooltip(!1),Dw(Ix({},t,{options:{xField:a,yField:o,seriesField:"mKey",isStack:!0,label:on(c,"measure"),interval:{color:on(s,"measure"),style:on(A,"measure"),size:on(u,"measure")}}})),Ow(Ix({},t,{options:{xField:a,yField:r,seriesField:"tKey",label:on(c,"target"),point:{color:on(s,"target"),style:on(A,"target"),size:jt(on(u,"target"))?function(t){return on(u,"target")(t)/2}:on(u,"target")/2,shape:"horizontal"===l?"line":"hyphen"}}})),"horizontal"===l&&e.coordinate().transpose(),Dt(Dt({},t),{ext:{data:{min:p,max:f}}})}function VU(t){var e,n,A=t.options,r=t.ext,i=A.xAxis,o=A.yAxis,a=A.targetField,s=A.rangeField,l=A.measureField,u=A.xField,c=r.data;return Lx(ww(((e={})[u]=i,e[l]=o,e),((n={})[l]={min:null==c?void 0:c.min,max:null==c?void 0:c.max,sync:!0},n[a]={sync:"".concat(l)},n[s]={sync:"".concat(l)},n)))(t)}function GU(t){var e=t.chart,n=t.options,A=n.xAxis,r=n.yAxis,i=n.xField,o=n.measureField,a=n.rangeField,s=n.targetField;return e.axis("".concat(a),!1),e.axis("".concat(s),!1),!1===A?e.axis("".concat(i),!1):e.axis("".concat(i),A),!1===r?e.axis("".concat(o),!1):e.axis("".concat(o),r),t}function NU(t){var e=t.chart,n=t.options.legend;return e.removeInteraction("legend-filter"),e.legend(n),e.legend("rKey",!1),e.legend("mKey",!1),e.legend("tKey",!1),t}function _U(t){var e=t.chart,n=t.options,A=n.label,r=n.measureField,i=n.targetField,o=n.rangeField,a=e.geometries,s=a[0],l=a[1],u=a[2];return on(A,"range")?s.label("".concat(o),Dt({layout:[{type:"limit-in-plot"}]},Ox(A.range))):s.label(!1),on(A,"measure")?l.label("".concat(r),Dt({layout:[{type:"limit-in-plot"}]},Ox(A.measure))):l.label(!1),on(A,"target")?u.label("".concat(i),Dt({layout:[{type:"limit-in-plot"}]},Ox(A.target))):u.label(!1),t}function XU(t){Lx(KU,VU,GU,NU,vw,_U,dw,gw,yw)(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="box",e}Tt(e,t),e.getDefaultOptions=function(){return SU},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options.yField,n=this.chart.views.find((function(t){return t.id===MU}));n&&n.data(t),this.chart.changeData(IU(t,e))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return PU}}(hC);var YU=Ix({},hC.getDefaultOptions(),{layout:"horizontal",size:{range:30,measure:20,target:20},xAxis:{tickLine:!1,line:null},bulletStyle:{range:{fillOpacity:.5}},label:{measure:{position:"right"}},tooltip:{showMarkers:!1}});!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="bullet",e}Tt(e,t),e.getDefaultOptions=function(){return YU},e.prototype.changeData=function(t){this.updateOption({data:t});var e=RU(this.options),n=e.min,A=e.max,r=e.ds;VU({options:this.options,ext:{data:{min:n,max:A}},chart:this.chart}),this.chart.changeData(r)},e.prototype.getSchemaAdaptor=function(){return XU},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()}}(hC);var zU={y:0,nodeWidthRatio:.05,weight:!1,nodePaddingRatio:.1,id:function(t){return t.id},source:function(t){return t.source},target:function(t){return t.target},sourceWeight:function(t){return t.value||1},targetWeight:function(t){return t.value||1},sortBy:null};function WU(t,e){var n=function(t){return ze({},zU,t)}(t),A={},r=e.nodes,i=e.links;r.forEach((function(t){var e=n.id(t);A[e]=t})),function(t,e,n){$t(t,(function(t,A){t.inEdges=e.filter((function(t){return"".concat(n.target(t))==="".concat(A)})),t.outEdges=e.filter((function(t){return"".concat(n.source(t))==="".concat(A)})),t.edges=t.outEdges.concat(t.inEdges),t.frequency=t.edges.length,t.value=0,t.inEdges.forEach((function(e){t.value+=n.targetWeight(e)})),t.outEdges.forEach((function(e){t.value+=n.sourceWeight(e)}))}))}(A,i,n),function(t,e){var n={weight:function(t,e){return e.value-t.value},frequency:function(t,e){return e.frequency-t.frequency},id:function(t,n){return"".concat(e.id(t)).localeCompare("".concat(e.id(n)))}}[e.sortBy];!n&&jt(e.sortBy)&&(n=e.sortBy),n&&t.sort(n)}(r,n);var o=function(t,e){var n=t.length;if(!n)throw new TypeError("Invalid nodes: it's empty!");if(e.weight){var A=e.nodePaddingRatio;if(A<0||A>=1)throw new TypeError("Invalid nodePaddingRatio: it must be in range [0, 1)!");var r=A/(2*n),i=e.nodeWidthRatio;if(i<=0||i>=1)throw new TypeError("Invalid nodeWidthRatio: it must be in range (0, 1)!");var o=0;t.forEach((function(t){o+=t.value})),t.forEach((function(t){t.weight=t.value/o,t.width=t.weight*(1-A),t.height=i})),t.forEach((function(n,A){for(var o=0,a=A-1;a>=0;a--)o+=t[a].width+2*r;var s=n.minX=r+o,l=n.maxX=n.minX+n.width,u=n.minY=e.y-i/2,c=n.maxY=u+i;n.x=[s,l,l,s],n.y=[u,u,c,c]}))}else{var a=1/n;t.forEach((function(t,n){t.x=(n+.5)*a,t.y=e.y}))}return t}(r,n),a=function(t,e,n){if(n.weight){var A={};$t(t,(function(t,e){A[e]=t.value})),e.forEach((function(e){var r=n.source(e),i=n.target(e),o=t[r],a=t[i];if(o&&a){var s=A[r],l=n.sourceWeight(e),u=o.minX+(o.value-s)/o.value*o.width,c=u+l/o.value*o.width;A[r]-=l;var h=A[i],p=n.targetWeight(e),f=a.minX+(a.value-h)/a.value*a.width,d=f+p/a.value*a.width;A[i]-=p;var g=n.y;e.x=[u,c,f,d],e.y=[g,g,g,g],e.source=o,e.target=a}}))}else e.forEach((function(e){var A=t[n.source(e)],r=t[n.target(e)];A&&r&&(e.x=[A.x,r.x],e.y=[A.y,r.y],e.source=A,e.target=r)}));return e}(A,i,n);return{nodes:o,links:a}}var jU="x",JU="y",qU="name",ZU="source",$U={nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.5,lineWidth:2},label:{fields:["x","name"],callback:function(t,e){return{offsetX:(t[0]+t[1])/2>.5?-4:4,content:e}},labelEmit:!0,style:{fill:"#8c8c8c"}},tooltip:{showTitle:!1,showMarkers:!1,fields:["source","target","value","isNode"],showContent:function(t){return!on(t,[0,"data","isNode"])},formatter:function(t){var e=t.source,n=t.target,A=t.value;return{name:"".concat(e," -> ").concat(n),value:A}}},interactions:[{type:"element-active"}],weight:!0,nodePaddingRatio:.1,nodeWidthRatio:.05};function tE(t){var e=t.options,n=e.data,A=e.sourceField,r=e.targetField,i=e.weightField,o=e.nodePaddingRatio,a=e.nodeWidthRatio,s=e.rawFields,l=void 0===s?[]:s,u=WU({weight:!0,nodePaddingRatio:o,nodeWidthRatio:a},Cx(n,A,r,i)),c=u.nodes,h=u.links,p=c.map((function(t){return Dt(Dt({},xx(t,Nt(["id","x","y","name"],l,!0))),{isNode:!0})})),f=h.map((function(t){return Dt(Dt({source:t.source.name,target:t.target.name,name:t.source.name||t.target.name},xx(t,Nt(["x","y","value"],l,!0))),{isNode:!1})}));return Dt(Dt({},t),{ext:Dt(Dt({},t.ext),{chordData:{nodesData:p,edgesData:f}})})}function eE(t){var e;return t.chart.scale(((e={x:{sync:!0,nice:!0},y:{sync:!0,nice:!0,max:1}})[qU]={sync:"color"},e[ZU]={sync:"color"},e)),t}function nE(t){return t.chart.axis(!1),t}function AE(t){return t.chart.legend(!1),t}function rE(t){var e=t.chart,n=t.options.tooltip;return e.tooltip(n),t}function iE(t){return t.chart.coordinate("polar").reflect("y"),t}function oE(t){var e=t.chart,n=t.options,A=t.ext.chordData.nodesData,r=n.nodeStyle,i=n.label,o=n.tooltip,a=e.createView();return a.data(A),Rw({chart:a,options:{xField:jU,yField:JU,seriesField:qU,polygon:{style:r},label:i,tooltip:o}}),t}function aE(t){var e=t.chart,n=t.options,A=t.ext.chordData.edgesData,r=n.edgeStyle,i=n.tooltip,o=e.createView();return o.data(A),Tw({chart:o,options:{xField:jU,yField:JU,seriesField:ZU,edge:{style:r,shape:"arc"},tooltip:i}}),t}function sE(t){var e,n=t.chart;return $x(n,t.options.animation,on(e=n,["views","length"],0)<=0?e.geometries:ce(e.views,(function(t,e){return t.concat(e.geometries)}),e.geometries)),t}function lE(t){return Lx(vw,tE,iE,eE,nE,AE,rE,aE,oE,gw,mw,sE)(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="chord",e}Tt(e,t),e.getDefaultOptions=function(){return $U},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return lE}}(hC);var uE=["x","y","r","name","value","path","depth"],cE={colorField:"name",autoFit:!0,pointStyle:{lineWidth:0,stroke:"#fff"},legend:!1,hierarchyConfig:{size:[1,1],padding:0},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1}},hE="drilldown-bread-crumb",pE={position:"top-left",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}},fE="hierarchy-data-transform-params",dE=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="drill-down",e.historyCache=[],e.breadCrumbGroup=null,e.breadCrumbCfg=pE,e}return Tt(e,t),e.prototype.click=function(){var t=on(this.context,["event","data","data"]);if(!t)return!1;this.drill(t),this.drawBreadCrumb()},e.prototype.resetPosition=function(){if(this.breadCrumbGroup){var t=this.context.view.getCoordinate(),e=this.breadCrumbGroup,n=e.getBBox(),A=this.getButtonCfg().position,r={x:t.start.x,y:t.end.y-(n.height+10)};t.isPolar&&(r={x:0,y:0}),"bottom-left"===A&&(r={x:t.start.x,y:t.start.y});var i=Dd.transform(null,[["t",r.x+0,r.y+n.height+5]]);e.setMatrix(i)}},e.prototype.back=function(){gn(this.historyCache)&&this.backTo(this.historyCache.slice(0,-1))},e.prototype.reset=function(){this.historyCache[0]&&this.backTo(this.historyCache.slice(0,1)),this.historyCache=[],this.hideCrumbGroup()},e.prototype.drill=function(t){var e=this.context.view,n=on(e,["interactions","drill-down","cfg","transformData"],(function(t){return t})),A=n(Dt({data:t.data},t[fE]));e.changeData(A);for(var r=[],i=t;i;){var o=i.data;r.unshift({id:"".concat(o.name,"_").concat(i.height,"_").concat(i.depth),name:o.name,children:n(Dt({data:o},t[fE]))}),i=i.parent}this.historyCache=(this.historyCache||[]).slice(0,-1).concat(r)},e.prototype.backTo=function(t){if(t&&!(t.length<=0)){var e=this.context.view,n=ye(t).children;e.changeData(n),t.length>1?(this.historyCache=t,this.drawBreadCrumb()):(this.historyCache=[],this.hideCrumbGroup())}},e.prototype.getButtonCfg=function(){var t=this.context.view,e=on(t,["interactions","drill-down","cfg","drillDownConfig"]);return Ix(this.breadCrumbCfg,null==e?void 0:e.breadCrumb,this.cfg)},e.prototype.drawBreadCrumb=function(){this.drawBreadCrumbGroup(),this.resetPosition(),this.breadCrumbGroup.show()},e.prototype.drawBreadCrumbGroup=function(){var t=this,e=this.getButtonCfg(),n=this.historyCache;this.breadCrumbGroup?this.breadCrumbGroup.clear():this.breadCrumbGroup=this.context.view.foregroundGroup.addGroup({name:hE});var A=0;n.forEach((function(r,i){var o=t.breadCrumbGroup.addShape({type:"text",id:r.id,name:"".concat(hE,"_").concat(r.name,"_text"),attrs:Dt(Dt({text:0!==i||Jt(e.rootText)?r.name:e.rootText},e.textStyle),{x:A,y:0})}),a=o.getBBox();if(A+=a.width+4,o.on("click",(function(e){var A,r=e.target.get("id");if(r!==(null===(A=ye(n))||void 0===A?void 0:A.id)){var i=n.slice(0,n.findIndex((function(t){return t.id===r}))+1);t.backTo(i)}})),o.on("mouseenter",(function(t){var A;t.target.get("id")!==(null===(A=ye(n))||void 0===A?void 0:A.id)?o.attr(e.activeTextStyle):o.attr({cursor:"default"})})),o.on("mouseleave",(function(){o.attr(e.textStyle)})),i<n.length-1){var s=t.breadCrumbGroup.addShape({type:"text",name:"".concat(e.name,"_").concat(r.name,"_divider"),attrs:Dt(Dt({text:e.dividerText},e.textStyle),{x:A,y:0})}).getBBox();A+=s.width+4}}))},e.prototype.hideCrumbGroup=function(){this.breadCrumbGroup&&this.breadCrumbGroup.hide()},e.prototype.destroy=function(){this.breadCrumbGroup&&this.breadCrumbGroup.remove(),t.prototype.destroy.call(this)},e}(Jh);function gE(t,e){return t.parent===e.parent?1:2}function yE(t,e){return t+e.x}function vE(t,e){return Math.max(t,e.y)}function mE(t){var e=0,n=t.children,A=n&&n.length;if(A)for(;--A>=0;)e+=n[A].value;else e=1;t.value=e}function BE(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=wE)):void 0===e&&(e=xE);for(var n,A,r,i,o,a=new bE(t),s=[a];n=s.pop();)if((r=e(n.data))&&(o=(r=Array.from(r)).length))for(n.children=r,i=o-1;i>=0;--i)s.push(A=r[i]=new bE(r[i])),A.parent=n,A.depth=n.depth+1;return a.eachBefore(FE)}function xE(t){return t.children}function wE(t){return Array.isArray(t)?t[1]:null}function CE(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function FE(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function bE(t){this.data=t,this.depth=this.height=0,this.parent=null}function QE(t){for(var e,n,A=0,r=(t=function(t){for(var e,n,A=t.length;A;)n=Math.random()*A--|0,e=t[A],t[A]=t[n],t[n]=e;return t}(Array.from(t))).length,i=[];A<r;)e=t[A],n&&ME(n,e)?++A:(n=IE(i=UE(i,e)),A=0);return n}function UE(t,e){var n,A;if(SE(e,t))return[e];for(n=0;n<t.length;++n)if(EE(e,t[n])&&SE(kE(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(A=n+1;A<t.length;++A)if(EE(kE(t[n],t[A]),e)&&EE(kE(t[n],e),t[A])&&EE(kE(t[A],e),t[n])&&SE(LE(t[n],t[A],e),t))return[t[n],t[A],e];throw new Error}function EE(t,e){var n=t.r-e.r,A=e.x-t.x,r=e.y-t.y;return n<0||n*n<A*A+r*r}function ME(t,e){var n=t.r-e.r+1e-9*Math.max(t.r,e.r,1),A=e.x-t.x,r=e.y-t.y;return n>0&&n*n>A*A+r*r}function SE(t,e){for(var n=0;n<e.length;++n)if(!ME(t,e[n]))return!1;return!0}function IE(t){switch(t.length){case 1:return{x:(e=t[0]).x,y:e.y,r:e.r};case 2:return kE(t[0],t[1]);case 3:return LE(t[0],t[1],t[2])}var e}function kE(t,e){var n=t.x,A=t.y,r=t.r,i=e.x,o=e.y,a=e.r,s=i-n,l=o-A,u=a-r,c=Math.sqrt(s*s+l*l);return{x:(n+i+s/c*u)/2,y:(A+o+l/c*u)/2,r:(c+r+a)/2}}function LE(t,e,n){var A=t.x,r=t.y,i=t.r,o=e.x,a=e.y,s=e.r,l=n.x,u=n.y,c=n.r,h=A-o,p=A-l,f=r-a,d=r-u,g=s-i,y=c-i,v=A*A+r*r-i*i,m=v-o*o-a*a+s*s,B=v-l*l-u*u+c*c,x=p*f-h*d,w=(f*B-d*m)/(2*x)-A,C=(d*g-f*y)/x,F=(p*m-h*B)/(2*x)-r,b=(h*y-p*g)/x,Q=C*C+b*b-1,U=2*(i+w*C+F*b),E=w*w+F*F-i*i,M=-(Q?(U+Math.sqrt(U*U-4*Q*E))/(2*Q):E/U);return{x:A+w+C*M,y:r+F+b*M,r:M}}function HE(t,e,n){var A,r,i,o,a=t.x-e.x,s=t.y-e.y,l=a*a+s*s;l?(r=e.r+n.r,r*=r,o=t.r+n.r,r>(o*=o)?(A=(l+o-r)/(2*l),i=Math.sqrt(Math.max(0,o/l-A*A)),n.x=t.x-A*a-i*s,n.y=t.y-A*s+i*a):(A=(l+r-o)/(2*l),i=Math.sqrt(Math.max(0,r/l-A*A)),n.x=e.x+A*a-i*s,n.y=e.y+A*s+i*a)):(n.x=e.x+n.r,n.y=e.y)}function TE(t,e){var n=t.r+e.r-1e-6,A=e.x-t.x,r=e.y-t.y;return n>0&&n*n>A*A+r*r}function DE(t){var e=t._,n=t.next._,A=e.r+n.r,r=(e.x*n.r+n.x*e.r)/A,i=(e.y*n.r+n.y*e.r)/A;return r*r+i*i}function PE(t){this._=t,this.next=null,this.previous=null}function OE(t){if(!(i=(e=t,t="object"==typeof e&&"length"in e?e:Array.from(e)).length))return 0;var e,n,A,r,i,o,a,s,l,u,c,h;if((n=t[0]).x=0,n.y=0,!(i>1))return n.r;if(A=t[1],n.x=-A.r,A.x=n.r,A.y=0,!(i>2))return n.r+A.r;HE(A,n,r=t[2]),n=new PE(n),A=new PE(A),r=new PE(r),n.next=r.previous=A,A.next=n.previous=r,r.next=A.previous=n;t:for(s=3;s<i;++s){HE(n._,A._,r=t[s]),r=new PE(r),l=A.next,u=n.previous,c=A._.r,h=n._.r;do{if(c<=h){if(TE(l._,r._)){A=l,n.next=A,A.previous=n,--s;continue t}c+=l._.r,l=l.next}else{if(TE(u._,r._)){(n=u).next=A,A.previous=n,--s;continue t}h+=u._.r,u=u.previous}}while(l!==u.next);for(r.previous=n,r.next=A,n.next=A.previous=A=r,o=DE(n);(r=r.next)!==A;)(a=DE(r))<o&&(n=r,o=a);A=n.next}for(n=[A._],r=A;(r=r.next)!==A;)n.push(r._);for(r=QE(n),s=0;s<i;++s)(n=t[s]).x-=r.x,n.y-=r.y;return r.r}function RE(t){if("function"!=typeof t)throw new Error;return t}function KE(){return 0}function VE(t){return function(){return t}}function GE(t){return Math.sqrt(t.value)}function NE(){var t=null,e=1,n=1,A=KE;function r(r){return r.x=e/2,r.y=n/2,t?r.eachBefore(_E(t)).eachAfter(XE(A,.5)).eachBefore(YE(1)):r.eachBefore(_E(GE)).eachAfter(XE(KE,1)).eachAfter(XE(A,r.r/Math.min(e,n))).eachBefore(YE(Math.min(e,n)/(2*r.r))),r}return r.radius=function(e){return arguments.length?(t=null==(n=e)?null:RE(n),r):t;var n},r.size=function(t){return arguments.length?(e=+t[0],n=+t[1],r):[e,n]},r.padding=function(t){return arguments.length?(A="function"==typeof t?t:VE(+t),r):A},r}function _E(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function XE(t,e){return function(n){if(A=n.children){var A,r,i,o=A.length,a=t(n)*e||0;if(a)for(r=0;r<o;++r)A[r].r+=a;if(i=OE(A),a)for(r=0;r<o;++r)A[r].r-=a;n.r=i+a}}}function YE(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function zE(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function WE(t,e,n,A,r){for(var i,o=t.children,a=-1,s=o.length,l=t.value&&(A-e)/t.value;++a<s;)(i=o[a]).y0=n,i.y1=r,i.x0=e,i.x1=e+=i.value*l}function jE(){var t=1,e=1,n=0,A=!1;function r(r){var i=r.height+1;return r.x0=r.y0=n,r.x1=t,r.y1=e/i,r.eachBefore(function(t,e){return function(A){A.children&&WE(A,A.x0,t*(A.depth+1)/e,A.x1,t*(A.depth+2)/e);var r=A.x0,i=A.y0,o=A.x1-n,a=A.y1-n;o<r&&(r=o=(r+o)/2),a<i&&(i=a=(i+a)/2),A.x0=r,A.y0=i,A.x1=o,A.y1=a}}(e,i)),A&&r.eachBefore(zE),r}return r.round=function(t){return arguments.length?(A=!!t,r):A},r.size=function(n){return arguments.length?(t=+n[0],e=+n[1],r):[t,e]},r.padding=function(t){return arguments.length?(n=+t,r):n},r}bE.prototype=BE.prototype={constructor:bE,count:function(){return this.eachAfter(mE)},each:function(t,e){let n=-1;for(const A of this)t.call(e,A,++n,this);return this},eachAfter:function(t,e){for(var n,A,r,i=this,o=[i],a=[],s=-1;i=o.pop();)if(a.push(i),n=i.children)for(A=0,r=n.length;A<r;++A)o.push(n[A]);for(;i=a.pop();)t.call(e,i,++s,this);return this},eachBefore:function(t,e){for(var n,A,r=this,i=[r],o=-1;r=i.pop();)if(t.call(e,r,++o,this),n=r.children)for(A=n.length-1;A>=0;--A)i.push(n[A]);return this},find:function(t,e){let n=-1;for(const A of this)if(t.call(e,A,++n,this))return A},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,A=e.children,r=A&&A.length;--r>=0;)n+=A[r].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),A=e.ancestors(),r=null;t=n.pop(),e=A.pop();for(;t===e;)r=t,t=n.pop(),e=A.pop();return r}(e,t),A=[e];e!==n;)e=e.parent,A.push(e);for(var r=A.length;t!==n;)A.splice(r,0,t),t=t.parent;return A},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return BE(this).eachBefore(CE)},[Symbol.iterator]:function*(){var t,e,n,A,r=this,i=[r];do{for(t=i.reverse(),i=[];r=t.pop();)if(yield r,e=r.children)for(n=0,A=e.length;n<A;++n)i.push(e[n])}while(i.length)}};var JE={depth:-1},qE={};function ZE(t){return t.id}function $E(t){return t.parentId}function tM(t,e){return t.parent===e.parent?1:2}function eM(t){var e=t.children;return e?e[0]:t.t}function nM(t){var e=t.children;return e?e[e.length-1]:t.t}function AM(t,e,n){var A=n/(e.i-t.i);e.c-=A,e.s+=n,t.c+=A,e.z+=n,e.m+=n}function rM(t,e,n){return t.a.parent===e.parent?t.a:n}function iM(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function oM(t,e,n,A,r){for(var i,o=t.children,a=-1,s=o.length,l=t.value&&(r-n)/t.value;++a<s;)(i=o[a]).x0=e,i.x1=A,i.y0=n,i.y1=n+=i.value*l}iM.prototype=Object.create(bE.prototype);var aM=(1+Math.sqrt(5))/2;function sM(t,e,n,A,r,i){for(var o,a,s,l,u,c,h,p,f,d,g,y=[],v=e.children,m=0,B=0,x=v.length,w=e.value;m<x;){s=r-n,l=i-A;do{u=v[B++].value}while(!u&&B<x);for(c=h=u,g=u*u*(d=Math.max(l/s,s/l)/(w*t)),f=Math.max(h/g,g/c);B<x;++B){if(u+=a=v[B].value,a<c&&(c=a),a>h&&(h=a),g=u*u*d,(p=Math.max(h/g,g/c))>f){u-=a;break}f=p}y.push(o={value:u,dice:s<l,children:v.slice(m,B)}),o.dice?WE(o,n,A,r,w?A+=l*u/w:i):oM(o,n,A,w?n+=s*u/w:r,i),w-=u,m=B}return y}const lM=function t(e){function n(t,n,A,r,i){sM(e,t,n,A,r,i)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(aM);function uM(){var t=lM,e=!1,n=1,A=1,r=[0],i=KE,o=KE,a=KE,s=KE,l=KE;function u(t){return t.x0=t.y0=0,t.x1=n,t.y1=A,t.eachBefore(c),r=[0],e&&t.eachBefore(zE),t}function c(e){var n=r[e.depth],A=e.x0+n,u=e.y0+n,c=e.x1-n,h=e.y1-n;c<A&&(A=c=(A+c)/2),h<u&&(u=h=(u+h)/2),e.x0=A,e.y0=u,e.x1=c,e.y1=h,e.children&&(n=r[e.depth+1]=i(e)/2,A+=l(e)-n,u+=o(e)-n,(c-=a(e)-n)<A&&(A=c=(A+c)/2),(h-=s(e)-n)<u&&(u=h=(u+h)/2),t(e,A,u,c,h))}return u.round=function(t){return arguments.length?(e=!!t,u):e},u.size=function(t){return arguments.length?(n=+t[0],A=+t[1],u):[n,A]},u.tile=function(e){return arguments.length?(t=RE(e),u):t},u.padding=function(t){return arguments.length?u.paddingInner(t).paddingOuter(t):u.paddingInner()},u.paddingInner=function(t){return arguments.length?(i="function"==typeof t?t:VE(+t),u):i},u.paddingOuter=function(t){return arguments.length?u.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):u.paddingTop()},u.paddingTop=function(t){return arguments.length?(o="function"==typeof t?t:VE(+t),u):o},u.paddingRight=function(t){return arguments.length?(a="function"==typeof t?t:VE(+t),u):a},u.paddingBottom=function(t){return arguments.length?(s="function"==typeof t?t:VE(+t),u):s},u.paddingLeft=function(t){return arguments.length?(l="function"==typeof t?t:VE(+t),u):l},u}const cM=function t(e){function n(t,n,A,r,i){if((o=t._squarify)&&o.ratio===e)for(var o,a,s,l,u,c=-1,h=o.length,p=t.value;++c<h;){for(s=(a=o[c]).children,l=a.value=0,u=s.length;l<u;++l)a.value+=s[l].value;a.dice?WE(a,n,A,r,p?A+=(i-A)*a.value/p:i):oM(a,n,A,p?n+=(r-n)*a.value/p:r,i),p-=a.value}else t._squarify=o=sM(e,t,n,A,r,i),o.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(aM),hM=Object.freeze(Object.defineProperty({__proto__:null,cluster:function(){var t=gE,e=1,n=1,A=!1;function r(r){var i,o=0;r.eachAfter((function(e){var n=e.children;n?(e.x=function(t){return t.reduce(yE,0)/t.length}(n),e.y=function(t){return 1+t.reduce(vE,0)}(n)):(e.x=i?o+=t(e,i):0,e.y=0,i=e)}));var a=function(t){for(var e;e=t.children;)t=e[0];return t}(r),s=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(r),l=a.x-t(a,s)/2,u=s.x+t(s,a)/2;return r.eachAfter(A?function(t){t.x=(t.x-r.x)*e,t.y=(r.y-t.y)*n}:function(t){t.x=(t.x-l)/(u-l)*e,t.y=(1-(r.y?t.y/r.y:1))*n})}return r.separation=function(e){return arguments.length?(t=e,r):t},r.size=function(t){return arguments.length?(A=!1,e=+t[0],n=+t[1],r):A?null:[e,n]},r.nodeSize=function(t){return arguments.length?(A=!0,e=+t[0],n=+t[1],r):A?[e,n]:null},r},hierarchy:BE,pack:NE,packEnclose:QE,packSiblings:function(t){return OE(t),t},partition:jE,stratify:function(){var t=ZE,e=$E;function n(n){var A,r,i,o,a,s,l,u=Array.from(n),c=u.length,h=new Map;for(r=0;r<c;++r)A=u[r],a=u[r]=new bE(A),null!=(s=t(A,r,n))&&(s+="")&&(l=a.id=s,h.set(l,h.has(l)?qE:a)),null!=(s=e(A,r,n))&&(s+="")&&(a.parent=s);for(r=0;r<c;++r)if(s=(a=u[r]).parent){if(!(o=h.get(s)))throw new Error("missing: "+s);if(o===qE)throw new Error("ambiguous: "+s);o.children?o.children.push(a):o.children=[a],a.parent=o}else{if(i)throw new Error("multiple roots");i=a}if(!i)throw new Error("no root");if(i.parent=JE,i.eachBefore((function(t){t.depth=t.parent.depth+1,--c})).eachBefore(FE),i.parent=null,c>0)throw new Error("cycle");return i}return n.id=function(e){return arguments.length?(t=RE(e),n):t},n.parentId=function(t){return arguments.length?(e=RE(t),n):e},n},tree:function(){var t=tM,e=1,n=1,A=null;function r(r){var s=function(t){for(var e,n,A,r,i,o=new iM(t,0),a=[o];e=a.pop();)if(A=e._.children)for(e.children=new Array(i=A.length),r=i-1;r>=0;--r)a.push(n=e.children[r]=new iM(A[r],r)),n.parent=e;return(o.parent=new iM(null,0)).children=[o],o}(r);if(s.eachAfter(i),s.parent.m=-s.z,s.eachBefore(o),A)r.eachBefore(a);else{var l=r,u=r,c=r;r.eachBefore((function(t){t.x<l.x&&(l=t),t.x>u.x&&(u=t),t.depth>c.depth&&(c=t)}));var h=l===u?1:t(l,u)/2,p=h-l.x,f=e/(u.x+h+p),d=n/(c.depth||1);r.eachBefore((function(t){t.x=(t.x+p)*f,t.y=t.depth*d}))}return r}function i(e){var n=e.children,A=e.parent.children,r=e.i?A[e.i-1]:null;if(n){!function(t){for(var e,n=0,A=0,r=t.children,i=r.length;--i>=0;)(e=r[i]).z+=n,e.m+=n,n+=e.s+(A+=e.c)}(e);var i=(n[0].z+n[n.length-1].z)/2;r?(e.z=r.z+t(e._,r._),e.m=e.z-i):e.z=i}else r&&(e.z=r.z+t(e._,r._));e.parent.A=function(e,n,A){if(n){for(var r,i=e,o=e,a=n,s=i.parent.children[0],l=i.m,u=o.m,c=a.m,h=s.m;a=nM(a),i=eM(i),a&&i;)s=eM(s),(o=nM(o)).a=e,(r=a.z+c-i.z-l+t(a._,i._))>0&&(AM(rM(a,e,A),e,r),l+=r,u+=r),c+=a.m,l+=i.m,h+=s.m,u+=o.m;a&&!nM(o)&&(o.t=a,o.m+=c-u),i&&!eM(s)&&(s.t=i,s.m+=l-h,A=e)}return A}(e,r,e.parent.A||A[0])}function o(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function a(t){t.x*=e,t.y=t.depth*n}return r.separation=function(e){return arguments.length?(t=e,r):t},r.size=function(t){return arguments.length?(A=!1,e=+t[0],n=+t[1],r):A?null:[e,n]},r.nodeSize=function(t){return arguments.length?(A=!0,e=+t[0],n=+t[1],r):A?[e,n]:null},r},treemap:uM,treemapBinary:function(t,e,n,A,r){var i,o,a=t.children,s=a.length,l=new Array(s+1);for(l[0]=o=i=0;i<s;++i)l[i+1]=o+=a[i].value;!function t(e,n,A,r,i,o,s){if(e>=n-1){var u=a[e];return u.x0=r,u.y0=i,u.x1=o,void(u.y1=s)}var c=l[e],h=A/2+c,p=e+1,f=n-1;for(;p<f;){var d=p+f>>>1;l[d]<h?p=d+1:f=d}h-l[p-1]<l[p]-h&&e+1<p&&--p;var g=l[p]-c,y=A-g;if(o-r>s-i){var v=A?(r*y+o*g)/A:o;t(e,p,g,r,i,v,s),t(p,n,y,v,i,o,s)}else{var m=A?(i*y+s*g)/A:s;t(e,p,g,r,i,o,m),t(p,n,y,r,m,o,s)}}(0,s,t.value,e,n,A,r)},treemapDice:WE,treemapResquarify:cM,treemapSlice:oM,treemapSliceDice:function(t,e,n,A,r){(1&t.depth?oM:WE)(t,e,n,A,r)},treemapSquarify:lM},Symbol.toStringTag,{value:"Module"}));var pM="nodeIndex",fM="childNodeCount",dM="nodeAncestor",gM="Invalid field: it must be a string!";function yM(t,e){var n=t.field,A=t.fields;if(pe(n))return n;if(qt(n))return console.warn(gM),n[0];if(console.warn("".concat(gM," will try to get fields instead.")),pe(A))return A;if(qt(A)&&A.length)return A[0];if(e)return e;throw new TypeError(gM)}function vM(t){var e,n,A=[];t&&t.each?t.each((function(t){var r,i;t.parent!==e?(e=t.parent,n=0):n+=1;var o=Yt(((null===(r=t.ancestors)||void 0===r?void 0:r.call(t))||[]).map((function(t){return A.find((function(e){return e.name===t.name}))||t})),(function(e){var n=e.depth;return n>0&&n<t.depth}));t[dM]=o,t[fM]=(null===(i=t.children)||void 0===i?void 0:i.length)||0,t[pM]=n,A.push(t)})):t&&t.eachNode&&t.eachNode((function(t){A.push(t)}));return A}var mM={field:"value",as:["x","y","r"],sort:function(t,e){return e.value-t.value}};function BM(t){var e=t.data,n=t.hierarchyConfig,A=t.rawFields,r=void 0===A?[]:A,i=t.enableDrillDown,o=function(t,e){var n,A=(e=ze({},mM,e)).as;if(!qt(A)||3!==A.length)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "r" ])!');try{n=yM(e)}catch(l){console.warn(l)}var r,i=(r=t,NE().size(e.size).padding(e.padding)(BE(r).sum((function(t){return t[n]})).sort(e.sort))),o=A[0],a=A[1],s=A[2];return i.each((function(t){t[o]=t.x,t[a]=t.y,t[s]=t.r})),vM(i)}(e,Dt(Dt({},n),{field:"value",as:["x","y","r"]})),a=[];return o.forEach((function(t){for(var e,A=t.data.name,o=Dt({},t);o.depth>1;)A="".concat(null===(e=o.parent.data)||void 0===e?void 0:e.name," / ").concat(A),o=o.parent;if(i&&t.depth>2)return null;var s=Ix({},t.data,Dt(Dt(Dt({},xx(t.data,r)),{path:A}),t));s.ext=n,s[fE]={hierarchyConfig:n,rawFields:r,enableDrillDown:i},a.push(s)})),a}function xM(t,e,n){var A=Gx([t,e]),r=A[0],i=A[1],o=A[2],a=A[3],s=n.width-(a+i),l=n.height-(r+o),u=Math.min(s,l),c=(s-u)/2,h=(l-u)/2;return{finalPadding:[r+h,i+c,o+h,a+c],finalSize:u<0?0:u}}function wM(t){var e=t.chart,n=Math.min(e.viewBBox.width,e.viewBBox.height);return Ix({options:{size:function(t){return t.r*n}}},t)}function CM(t){var e=t.options,n=t.chart,A=n.viewBBox,r=e.padding,i=e.appendPadding,o=e.drilldown,a=i;(null==o?void 0:o.enabled)&&(a=Gx([Vx(n.appendPadding,on(o,["breadCrumb","position"])),i]));var s=xM(r,a,A).finalPadding;return n.padding=s,n.appendPadding=0,t}function FM(t){var e=t.chart,n=t.options,A=e.padding,r=e.appendPadding,i=n.color,o=n.colorField,a=n.pointStyle,s=n.hierarchyConfig,l=n.sizeField,u=n.rawFields,c=void 0===u?[]:u,h=n.drilldown,p=BM({data:n.data,hierarchyConfig:s,enableDrillDown:null==h?void 0:h.enabled,rawFields:c});e.data(p);var f=xM(A,r,e.viewBBox).finalSize,d=function(t){return t.r*f};return l&&(d=function(t){return t[l]*f}),Ow(Ix({},t,{options:{xField:"x",yField:"y",seriesField:o,sizeField:l,rawFields:Nt(Nt([],uE,!0),c,!0),point:{color:i,style:a,shape:"circle",size:d}}})),t}function bM(t){return Lx(ww({},{x:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0},y:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0}}))(t)}function QM(t){var e=t.chart,n=t.options.tooltip;if(!1===n)e.tooltip(!1);else{var A=n;on(n,"fields")||(A=Ix({},{customItems:function(t){return t.map((function(t){var n=on(e.getOptions(),"scales"),A=on(n,["name","formatter"],(function(t){return t})),r=on(n,["value","formatter"],(function(t){return t}));return Dt(Dt({},t),{name:A(t.data.name),value:r(t.data.value)})}))}},A)),e.tooltip(A)}return t}function UM(t){return t.chart.axis(!1),t}function EM(t){var e=t.drilldown,n=t.interactions,A=void 0===n?[]:n;return(null==e?void 0:e.enabled)?Ix({},t,{interactions:Nt(Nt([],A,!0),[{type:"drill-down",cfg:{drillDownConfig:e,transformData:BM,enableDrillDown:!0}}],!1)}):t}function MM(t){return gw({chart:t.chart,options:EM(t.options)}),t}function SM(t){return Lx(pw("pointStyle"),wM,CM,vw,bM,FM,UM,fw,QM,MM,yw,Cw())(t)}function IM(t){var e=on(t,["event","data","data"],{});return qt(e.children)&&e.children.length>0}function kM(t){var e=t.view.getCoordinate(),n=e.innerRadius;if(n){var A=t.event,r=A.x,i=A.y,o=e.center,a=o.x,s=o.y,l=e.getRadius()*n;return Math.sqrt(Math.pow(a-r,2)+Math.pow(s-i,2))<l}return!1}tp("drill-down-action",dE),Wp("drill-down",{showEnable:[{trigger:"element:mouseenter",action:"cursor:pointer",isEnable:IM},{trigger:"element:mouseleave",action:"cursor:default"},{trigger:"element:mouseleave",action:"cursor:pointer",isEnable:kM}],start:[{trigger:"element:click",isEnable:IM,action:["drill-down-action:click"]},{trigger:"afterchangesize",action:["drill-down-action:resetPosition"]},{trigger:"click",isEnable:kM,action:["drill-down-action:back"]}]}),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="circle-packing",e}Tt(e,t),e.getDefaultOptions=function(){return cE},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return SM},e.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))}}(hC);var LM,HM,TM,DM,PM="left-axes-view",OM="right-axes-view",RM={nice:!0,label:{autoHide:!0,autoRotate:!1}},KM=Dt(Dt({},RM),{position:"left"}),VM=Dt(Dt({},RM),{position:"right",grid:null});function GM(t){return on(t,"geometry")===TM.Line}function NM(t){return on(t,"geometry")===TM.Column}function _M(t,e,n){return NM(n)?Ix({},{geometry:TM.Column,label:n.label&&n.isRange?{content:function(t){var n;return null===(n=t[e])||void 0===n?void 0:n.join("-")}}:void 0},n):Dt({geometry:TM.Line},n)}function XM(t,e){var n=t[0],A=t[1];return qt(e)?[e[0],e[1]]:[on(e,n),on(e,A)]}function YM(t,e){return e===LM.Left?!1!==t&&Ix({},KM,t):e===LM.Right?!1!==t&&Ix({},VM,t):t}function zM(t){var e=t.view,n=t.geometryOption,A=t.yField,r=t.legend,i=on(r,"marker"),o=Hx(e,GM(n)?"line":"interval");if(!n.seriesField){var a=on(e,"options.scales.".concat(A,".alias"))||A,s=o.getAttribute("color"),l=e.getTheme().defaultColor;return s&&(l=Dd.getMappingValue(s,a,on(s,["values",0],l))),[{value:A,name:a,marker:(jt(i)?i:!en(i)&&Ix({},{style:{stroke:l,fill:l}},i))||(GM(n)?{symbol:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},style:{lineWidth:2,r:6,stroke:l}}:{symbol:"square",style:{fill:l}}),isGeometry:!0,viewId:e.id}]}var u=o.getGroupAttributes();return ce(u,(function(t,n){var A=Dd.getLegendItems(e,o,n,e.getTheme(),i);return t.concat(A)}),[])}(HM=LM||(LM={})).Left="Left",HM.Right="Right",(DM=TM||(TM={})).Line="line",DM.Column="column";var WM=function(t,e){var n=e[0],A=e[1],r=t.getOptions().data,i=t.getXScale(),o=gn(r);if(i&&o){var a=de(r,i.field),s=gn(a),l=Math.floor(n*(s-1)),u=Math.floor(A*(s-1));t.filter(i.field,(function(t){var e=a.indexOf(t);return!(e>-1)||function(t,e,n){var A=Math.min(e,n),r=Math.max(e,n);return t>=A&&t<=r}(e,l,u)})),t.getRootView().render(!0)}};function jM(t){var e,n=t.options,A=n.geometryOptions,r=void 0===A?[]:A,i=n.xField,o=n.yField,a=ve(r,(function(t){var e=t.geometry;return e===TM.Line||void 0===e}));return Ix({},{options:{geometryOptions:[],meta:(e={},e[i]={type:"cat",sync:!0,range:a?[0,1]:void 0},e),tooltip:{showMarkers:a,showCrosshairs:a,shared:!0,crosshairs:{type:"x"}},interactions:a?[{type:"legend-visible-filter"}]:[{type:"legend-visible-filter"},{type:"active-region"}],legend:{position:"top-left"}}},t,{options:{yAxis:XM(o,n.yAxis),geometryOptions:[_M(0,o[0],r[0]),_M(0,o[1],r[1])],annotations:XM(o,n.annotations)}})}function JM(t){var e,n,A=t.chart,r=t.options.geometryOptions,i={line:0,column:1};return[{type:null===(e=r[0])||void 0===e?void 0:e.geometry,id:PM},{type:null===(n=r[1])||void 0===n?void 0:n.geometry,id:OM}].sort((function(t,e){return-i[t.type]+i[e.type]})).forEach((function(t){return A.createView({id:t.id})})),t}function qM(t){var e=t.chart,n=t.options,A=n.xField,r=n.yField,i=n.geometryOptions,o=n.data,a=n.tooltip;return[Dt(Dt({},i[0]),{id:PM,data:o[0],yField:r[0]}),Dt(Dt({},i[1]),{id:OM,data:o[1],yField:r[1]})].forEach((function(t){var n=t.id,r=t.data,i=t.yField,o=NM(t)&&t.isPercent,s=o?pC(r,i,A,i):r,l=Jx(e,n).data(s),u=o?Dt({formatter:function(e){return{name:e[t.seriesField]||i,value:(100*Number(e[i])).toFixed(2)+"%"}}},a):a;!function(t){var e=t.options,n=t.chart,A=e.geometryOption,r=A.isStack,i=A.color,o=A.seriesField,a=A.groupField,s=A.isGroup,l=["xField","yField"];if(GM(A)){Pw(Ix({},t,{options:Dt(Dt(Dt({},xx(e,l)),A),{line:{color:A.color,style:A.lineStyle}})})),Ow(Ix({},t,{options:Dt(Dt(Dt({},xx(e,l)),A),{point:A.point&&Dt({color:i,shape:"circle"},A.point)})}));var u=[];s&&u.push({type:"dodge",dodgeBy:a||o,customOffset:0}),r&&u.push({type:"stack"}),u.length&&$t(n.geometries,(function(t){t.adjust(u)}))}NM(A)&&WC(Ix({},t,{options:Dt(Dt(Dt({},xx(e,l)),A),{widthRatio:A.columnWidthRatio,interval:Dt(Dt({},xx(A,["color"])),{style:A.columnStyle})})}))}({chart:l,options:{xField:A,yField:i,tooltip:u,geometryOption:t}})})),t}function ZM(t){var e,n=t.chart,A=t.options.geometryOptions,r=(null===(e=n.getTheme())||void 0===e?void 0:e.colors10)||[],i=0;return n.once("beforepaint",(function(){$t(A,(function(t,e){var A=Jx(n,0===e?PM:OM);if(!t.color){var o=A.getGroupScales(),a=on(o,[0,"values","length"],1),s=r.slice(i,i+a).concat(0===e?[]:r);A.geometries.forEach((function(e){t.seriesField?e.color(t.seriesField,s):e.color(s[0])})),i+=a}})),n.render(!0)})),t}function $M(t){var e,n,A=t.chart,r=t.options,i=r.xAxis,o=r.yAxis,a=r.xField,s=r.yField;return ww(((e={})[a]=i,e[s[0]]=o[0],e))(Ix({},t,{chart:Jx(A,PM)})),ww(((n={})[a]=i,n[s[1]]=o[1],n))(Ix({},t,{chart:Jx(A,OM)})),t}function tS(t){var e=t.chart,n=t.options,A=Jx(e,PM),r=Jx(e,OM),i=n.xField,o=n.yField,a=n.xAxis,s=n.yAxis;return e.axis(i,!1),e.axis(o[0],!1),e.axis(o[1],!1),A.axis(i,a),A.axis(o[0],YM(s[0],LM.Left)),r.axis(i,!1),r.axis(o[1],YM(s[1],LM.Right)),t}function eS(t){var e=t.chart,n=t.options.tooltip,A=Jx(e,PM),r=Jx(e,OM);return e.tooltip(n),A.tooltip({shared:!0}),r.tooltip({shared:!0}),t}function nS(t){var e=t.chart;return gw(Ix({},t,{chart:Jx(e,PM)})),gw(Ix({},t,{chart:Jx(e,OM)})),t}function AS(t){var e=t.chart,n=t.options.annotations,A=on(n,[0]),r=on(n,[1]);return Cw(A)(Ix({},t,{chart:Jx(e,PM),options:{annotations:A}})),Cw(r)(Ix({},t,{chart:Jx(e,OM),options:{annotations:r}})),t}function rS(t){var e=t.chart;return vw(Ix({},t,{chart:Jx(e,PM)})),vw(Ix({},t,{chart:Jx(e,OM)})),vw(t),t}function iS(t){var e=t.chart;return yw(Ix({},t,{chart:Jx(e,PM)})),yw(Ix({},t,{chart:Jx(e,OM)})),t}function oS(t){var e=t.chart,n=t.options.yAxis;return Fw(Ix({},t,{chart:Jx(e,PM),options:{yAxis:n[0]}})),Fw(Ix({},t,{chart:Jx(e,OM),options:{yAxis:n[1]}})),t}function aS(t){var e=t.chart,n=t.options,A=n.legend,r=n.geometryOptions,i=n.yField,o=n.data,a=Jx(e,PM),s=Jx(e,OM);if(!1===A)e.legend(!1);else if(Zt(A)&&!0===A.custom)e.legend(A);else{var l=on(r,[0,"legend"],A),u=on(r,[1,"legend"],A);e.once("beforepaint",(function(){var t=o[0].length?zM({view:a,geometryOption:r[0],yField:i[0],legend:l}):[],n=o[1].length?zM({view:s,geometryOption:r[1],yField:i[1],legend:u}):[];e.legend(Ix({},A,{custom:!0,items:t.concat(n)}))})),r[0].seriesField&&a.legend(r[0].seriesField,l),r[1].seriesField&&s.legend(r[1].seriesField,u),e.on("legend-item:click",(function(t){var n=on(t,"gEvent.delegateObject",{});if(n&&n.item){var A=n.item,r=A.value,o=A.isGeometry,a=A.viewId;if(o){if(ie(i,(function(t){return t===r}))>-1)$t(on(Jx(e,a),"geometries"),(function(t){t.changeVisible(!n.item.unchecked)}))}else{var s=on(e.getController("legend"),"option.items",[]);$t(e.views,(function(t){$t(t.getGroupScales(),(function(e){e.values&&e.values.indexOf(r)>-1&&t.filter(e.field,(function(t){return!re(s,(function(e){return e.value===t})).unchecked}))})),e.render(!0)}))}}}))}return t}function sS(t){var e=t.chart,n=t.options.slider,A=Jx(e,PM),r=Jx(e,OM);return n&&(A.option("slider",n),A.on("slider:valuechanged",(function(t){var e=t.event,n=e.value,A=e.originValue;nn(n,A)||WM(r,n)})),e.once("afterpaint",(function(){if(!Ke(n)){var t=n.start,e=n.end;(t||e)&&WM(r,[t,e])}}))),t}function lS(t){return Lx(jM,JM,rS,qM,$M,tS,oS,eS,nS,AS,iS,ZM,aS,sS)(t)}function uS(t){var e=t.chart,n=t.options,A=n.type,r=n.data,i=n.fields,o=n.eachView,a=un(n,["type","data","fields","eachView","axes","meta","tooltip","coordinate","theme","legend","interactions","annotations"]);return e.data(r),e.facet(A,Dt(Dt({},a),{fields:i,eachView:function(t,e){var n=o(t,e);if(n.geometries)!function(t,e){var n=e.data,A=e.coordinate,r=e.interactions,i=e.annotations,o=e.animation,a=e.tooltip,s=e.axes,l=e.meta,u=e.geometries;n&&t.data(n);var c={};s&&$t(s,(function(t,e){c[e]=xx(t,yx)})),c=Ix({},l,c),t.scale(c),A&&t.coordinate(A),!1===s?t.axis(!1):$t(s,(function(e,n){t.axis(n,e)})),$t(u,(function(e){var n=Lw({chart:t,options:e}).ext,A=e.adjust;A&&n.geometry.adjust(A)})),$t(r,(function(e){!1===e.enable?t.removeInteraction(e.type):t.interaction(e.type,e.cfg)})),$t(i,(function(e){t.annotation()[e.type](Dt({},e))})),$x(t,o),a?(t.interaction("tooltip"),t.tooltip(a)):!1===a&&t.removeInteraction("tooltip")}(t,n);else{var A=n,r=A.options;r.tooltip&&t.interaction("tooltip"),oU(A.type,t,r)}}})),t}function cS(t){var e=t.chart,n=t.options,A=n.axes,r=n.meta,i=n.tooltip,o=n.coordinate,a=n.theme,s=n.legend,l=n.interactions,u=n.annotations,c={};return A&&$t(A,(function(t,e){c[e]=xx(t,yx)})),c=Ix({},r,c),e.scale(c),e.coordinate(o),A?$t(A,(function(t,n){e.axis(n,t)})):e.axis(!1),i?(e.interaction("tooltip"),e.tooltip(i)):!1===i&&e.removeInteraction("tooltip"),e.legend(s),a&&e.theme(a),$t(l,(function(t){!1===t.enable?e.removeInteraction(t.type):e.interaction(t.type,t.cfg)})),$t(u,(function(t){e.annotation()[t.type](Dt({},t))})),t}function hS(t){return Lx(vw,uS,cS)(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dual-axes",e}Tt(e,t),e.prototype.getDefaultOptions=function(){return Ix({},t.prototype.getDefaultOptions.call(this),{yAxis:[],syncViewPadding:!0})},e.prototype.getSchemaAdaptor=function(){return lS}}(hC);var pS={title:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},rowTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},columnTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}}};function fS(t){var e=t.chart,n=t.options,A=n.data,r=n.type,i=n.xField,o=n.yField,a=n.colorField,s=n.sizeField,l=n.sizeRatio,u=n.shape,c=n.color,h=n.tooltip,p=n.heatmapStyle,f=n.meta;e.data(A);var d="polygon";"density"===r&&(d="heatmap");var g=Sw(h,[i,o,a]),y=g.fields,v=g.formatter,m=1;return(l||0===l)&&(u||s?l<0||l>1?console.warn("sizeRatio is not in effect: It must be a number in [0,1]"):m=l:console.warn("sizeRatio is not in effect: Must define shape or sizeField first")),Lw(Ix({},t,{options:{type:d,colorField:a,tooltipFields:y,shapeField:s||"",label:void 0,mapping:{tooltip:v,shape:u&&(s?function(t){var e=A.map((function(t){return t[s]})),n=(null==f?void 0:f[s])||{},r=n.min,i=n.max;return r=be(r)?r:Math.min.apply(Math,e),i=be(i)?i:Math.max.apply(Math,e),[u,(on(t,s)-r)/(i-r),m]}:function(){return[u,1,m]}),color:c||a&&e.getTheme().sequenceColors.join("-"),style:p}}})),t}function dS(t){var e,n=t.options,A=n.xAxis,r=n.yAxis,i=n.xField,o=n.yField;return Lx(ww(((e={})[i]=A,e[o]=r,e)))(t)}function gS(t){var e=t.chart,n=t.options,A=n.xAxis,r=n.yAxis,i=n.xField,o=n.yField;return!1===A?e.axis(i,!1):e.axis(i,A),!1===r?e.axis(o,!1):e.axis(o,r),t}function yS(t){var e=t.chart,n=t.options,A=n.legend,r=n.colorField,i=n.sizeField,o=n.sizeLegend,a=!1!==A;return r&&e.legend(r,!!a&&A),i&&e.legend(i,void 0===o?A:o),a||o||e.legend(!1),t}function vS(t){var e=t.chart,n=t.options,A=n.label,r=n.colorField,i=Hx(e,"density"===n.type?"heatmap":"polygon");if(A){if(r){var o=A.callback,a=Pt(A,["callback"]);i.label({fields:[r],callback:o,cfg:Ox(a)})}}else i.label(!1);return t}function mS(t){var e,n,A=t.chart,r=t.options,i=r.coordinate,o=r.reflect,a=Ix({actions:[]},null!=i?i:{type:"rect"});return o&&(null===(n=null===(e=a.actions)||void 0===e?void 0:e.push)||void 0===n||n.call(e,["reflect",o])),A.coordinate(a),t}function BS(t){return Lx(vw,pw("heatmapStyle"),dS,mS,fS,gS,yS,dw,vS,Cw(),gw,yw,mw)(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="area",e}Tt(e,t),e.getDefaultOptions=function(){return pS},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return hS}}(hC);var xS=Ix({},hC.getDefaultOptions(),{type:"polygon",legend:!1,coordinate:{type:"rect"},xAxis:{tickLine:null,line:null,grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}},yAxis:{grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}}});ed("polygon","circle",{draw:function(t,e){var n,A,r=t.x,i=t.y,o=this.parsePoints(t.points),a=Math.abs(o[2].x-o[1].x),s=Math.abs(o[1].y-o[0].y),l=Math.min(a,s)/2,u=Number(t.shape[1]),c=Number(t.shape[2]),h=l*Math.sqrt(c)*Math.sqrt(u),p=(null===(n=t.style)||void 0===n?void 0:n.fill)||t.color||(null===(A=t.defaultStyle)||void 0===A?void 0:A.fill);return e.addShape("circle",{attrs:Dt(Dt(Dt({x:r,y:i,r:h},t.defaultStyle),t.style),{fill:p})})}}),ed("polygon","square",{draw:function(t,e){var n,A,r=t.x,i=t.y,o=this.parsePoints(t.points),a=Math.abs(o[2].x-o[1].x),s=Math.abs(o[1].y-o[0].y),l=Math.min(a,s),u=Number(t.shape[1]),c=Number(t.shape[2]),h=l*Math.sqrt(c)*Math.sqrt(u),p=(null===(n=t.style)||void 0===n?void 0:n.fill)||t.color||(null===(A=t.defaultStyle)||void 0===A?void 0:A.fill);return e.addShape("rect",{attrs:Dt(Dt(Dt({x:r-h/2,y:i-h/2,width:h,height:h},t.defaultStyle),t.style),{fill:p})})}}),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="heatmap",e}Tt(e,t),e.getDefaultOptions=function(){return xS},e.prototype.getSchemaAdaptor=function(){return BS},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()}}(hC);var wS="liquid";function CS(t){return[{percent:t,type:wS}]}function FS(t){var e=t.chart,n=t.options,A=n.percent,r=n.liquidStyle,i=n.radius,o=n.outline,a=n.wave,s=n.shape,l=n.shapeStyle,u=n.animation;e.scale({percent:{min:0,max:1}}),e.data(CS(A));var c=n.color||e.getTheme().defaultColor,h=Dw(Ix({},t,{options:{xField:"type",yField:"percent",widthRatio:i,interval:{color:c,style:r,shape:"liquid-fill-gauge"}}})).ext.geometry,p={percent:A,radius:i,outline:o,wave:a,shape:s,shapeStyle:l,background:e.getTheme().background,animation:u};return h.customInfo(p),e.legend(!1),e.axis(!1),e.tooltip(!1),t}function bS(t,e){var n=t.chart,A=t.options,r=A.statistic,i=A.percent,o=A.meta;n.getController("annotation").clear(!0);var a=on(o,["percent","formatter"])||function(t){return"".concat((100*t).toFixed(2),"%")},s=r.content;return s&&(s=Ix({},s,{content:Jt(s.content)?a(i):s.content})),zx(n,{statistic:Dt(Dt({},r),{content:s}),plotType:"liquid"},{percent:i}),e&&n.render(!0),t}function QS(t){return Lx(vw,pw("liquidStyle"),FS,bS,ww({}),yw,gw)(t)}var US={radius:.9,statistic:{title:!1,content:{style:{opacity:.75,fontSize:"30px",lineHeight:"30px",textAlign:"center"}}},outline:{border:2,distance:0},wave:{count:3,length:192},shape:"circle"};function ES(t,e,n){return t+(e-t)*n}function MS(t,e,n,A){return 0===e?[[t+.5*n/Math.PI/2,A/2],[t+.5*n/Math.PI,A],[t+n/4,A]]:1===e?[[t+.5*n/Math.PI/2*(Math.PI-2),A],[t+.5*n/Math.PI/2*(Math.PI-1),A/2],[t+n/4,0]]:2===e?[[t+.5*n/Math.PI/2,-A/2],[t+.5*n/Math.PI,-A],[t+n/4,-A]]:[[t+.5*n/Math.PI/2*(Math.PI-2),-A],[t+.5*n/Math.PI/2*(Math.PI-1),-A/2],[t+n/4,0]]}function SS(t,e,n,A,r,i,o){for(var a=4*Math.ceil(2*t/n*4),s=[],l=A;l<2*-Math.PI;)l+=2*Math.PI;for(;l>0;)l-=2*Math.PI;var u=i-t+(l=l/Math.PI/2*n)-2*t;s.push(["M",u,e]);for(var c=0,h=0;h<a;++h){var p=MS(h*n/4,h%4,n,r);s.push(["C",p[0][0]+u,-p[0][1]+e,p[1][0]+u,-p[1][1]+e,p[2][0]+u,-p[2][1]+e]),h===a-1&&(c=p[2][0])}return s.push(["L",c+u,o+t]),s.push(["L",u,o+t]),s.push(["Z"]),s}var IS={pin:function(t,e,n,A){var r=2*n/3,i=Math.max(r,A),o=r/2,a=t,s=o+e-i/2,l=Math.asin(o/(.85*(i-o))),u=Math.sin(l)*o,c=Math.cos(l)*o,h=a-c,p=s+u,f=t,d=s+o/Math.sin(l);return"\n      M ".concat(h," ").concat(p,"\n      A ").concat(o," ").concat(o," 0 1 1 ").concat(h+2*c," ").concat(p,"\n      Q ").concat(f," ").concat(d," ").concat(t," ").concat(e+i/2,"\n      Q ").concat(f," ").concat(d," ").concat(h," ").concat(p,"\n      Z \n    ")},circle:function(t,e,n,A){var r=n/2,i=A/2;return"\n      M ".concat(t," ").concat(e-i," \n      a ").concat(r," ").concat(i," 0 1 0 0 ").concat(2*i,"\n      a ").concat(r," ").concat(i," 0 1 0 0 ").concat(2*-i,"\n      Z\n    ")},diamond:function(t,e,n,A){var r=A/2,i=n/2;return"\n      M ".concat(t," ").concat(e-r,"\n      L ").concat(t+i," ").concat(e,"\n      L ").concat(t," ").concat(e+r,"\n      L ").concat(t-i," ").concat(e,"\n      Z\n    ")},triangle:function(t,e,n,A){var r=A/2,i=n/2;return"\n      M ".concat(t," ").concat(e-r,"\n      L ").concat(t+i," ").concat(e+r,"\n      L ").concat(t-i," ").concat(e+r,"\n      Z\n    ")},rect:function(t,e,n,A){var r=A/2,i=n/2*.618;return"\n      M ".concat(t-i," ").concat(e-r,"\n      L ").concat(t+i," ").concat(e-r,"\n      L ").concat(t+i," ").concat(e+r,"\n      L ").concat(t-i," ").concat(e+r,"\n      Z\n    ")}};function kS(t){var e=t.chart,n=t.options,A=n.data,r=n.lineStyle,i=n.color,o=n.point,a=n.area;e.data(A);var s=Ix({},t,{options:{line:{style:r,color:i},point:o?Dt({color:i},o):o,area:a?Dt({color:i},a):a,label:void 0}}),l=Ix({},s,{options:{tooltip:!1}}),u=(null==o?void 0:o.state)||n.state,c=Ix({},s,{options:{tooltip:!1,state:u}});return Pw(s),Ow(c),Hw(l),t}function LS(t){var e,n=t.options,A=n.xAxis,r=n.yAxis,i=n.xField,o=n.yField;return Lx(ww(((e={})[i]=A,e[o]=r,e)))(t)}function HS(t){var e=t.chart,n=t.options,A=n.radius,r=n.startAngle,i=n.endAngle;return e.coordinate("polar",{radius:A,startAngle:r,endAngle:i}),t}function TS(t){var e=t.chart,n=t.options,A=n.xField,r=n.xAxis,i=n.yField,o=n.yAxis;return e.axis(A,r),e.axis(i,o),t}function DS(t){var e=t.chart,n=t.options,A=n.label,r=n.yField,i=Hx(e,"line");if(A){var o=A.callback,a=Pt(A,["callback"]);i.label({fields:[r],callback:o,cfg:Ox(a)})}else i.label(!1);return t}function PS(t){return Lx(kS,LS,vw,HS,TS,fw,dw,DS,gw,yw,Cw())(t)}function OS(t,e,n){var A=n.map((function(t){return t[e]})).filter((function(t){return void 0!==t})),r=A.length>0?Math.max.apply(Math,A):0,i=Math.abs(t)%360;return i?360*r/i:r}function RS(t){var e=t.chart,n=t.options,A=n.barStyle,r=n.color,i=n.tooltip,o=n.colorField,a=n.type,s=n.xField,l=n.yField,u=n.data,c=n.shape,h=Fx(u,l);return e.data(h),Dw(Ix({},t,{options:{tooltip:i,seriesField:o,interval:{style:A,color:r,shape:c||("line"===a?"line":"intervel")},minColumnWidth:n.minBarWidth,maxColumnWidth:n.maxBarWidth,columnBackground:n.barBackground}})),"line"===a&&Ow({chart:e,options:{xField:s,yField:l,seriesField:o,point:{shape:"circle",color:r}}}),t}function KS(t){var e,n=t.options,A=n.yField,r=n.xField,i=n.data,o=n.isStack,a=n.isGroup,s=n.colorField,l=n.maxAngle,u=o&&!a&&s?function(t,e,n){var A=[];return t.forEach((function(t){var r=A.find((function(n){return n[e]===t[e]}));r?r[n]+=t[n]||null:A.push(Dt({},t))})),A}(i,r,A):i,c=Fx(u,A);return Lx(ww(((e={})[A]={min:0,max:OS(l,A,c)},e)))(t)}function VS(t){var e=t.chart,n=t.options,A=n.radius,r=n.innerRadius,i=n.startAngle,o=n.endAngle;return e.coordinate({type:"polar",cfg:{radius:A,innerRadius:r,startAngle:i,endAngle:o}}).transpose(),t}function GS(t){var e=t.chart,n=t.options,A=n.xField,r=n.xAxis;return e.axis(A,r),t}function NS(t){var e=t.chart,n=t.options,A=n.label,r=n.yField,i=Hx(e,"interval");if(A){var o=A.callback,a=Pt(A,["callback"]);i.label({fields:[r],callback:o,cfg:Dt(Dt({},Ox(a)),{type:"polar"})})}else i.label(!1);return t}function _S(t){return Lx(pw("barStyle"),RS,KS,GS,VS,gw,yw,vw,dw,fw,Cw(),NS)(t)}ed("interval","liquid-fill-gauge",{draw:function(t,e){var n=t.customInfo,A=n,r=A.percent,i=A.radius,o=A.shape,a=A.shapeStyle,s=A.background,l=A.animation,u=n.outline,c=n.wave,h=u.border,p=u.distance,f=c.count,d=c.length,g=ce(t.points,(function(t,e){return Math.min(t,e.x)}),1/0),y=this.parsePoint({x:.5,y:.5}),v=this.parsePoint({x:g,y:.5}),m=y.x-v.x,B=Math.min(m,v.y*i),x=function(t){var e=Dt({opacity:1},t.style);return t.color&&!e.fill&&(e.fill=t.color),e}(t),w=function(t){var e=ze({},{fill:"#fff",fillOpacity:0,lineWidth:4},t.style);return t.color&&!e.stroke&&(e.stroke=t.color),be(t.opacity)&&(e.opacity=e.strokeOpacity=t.opacity),e}(ze({},t,u)),C=B-h/2,F=("function"==typeof o?o:IS[o]||IS.circle)(y.x,y.y,2*C,2*C);if(a&&e.addShape("path",{name:"shape",attrs:Dt({path:F},a)}),r>0){var b=e.addGroup({name:"waves"}),Q=b.setClip({type:"path",attrs:{path:F}});!function(t,e,n,A,r,i,o,a,s,l){for(var u=r.fill,c=r.opacity,h=o.getBBox(),p=h.maxX-h.minX,f=h.maxY-h.minY,d=0;d<A;d++){var g=A<=1?1:d/(A-1),y=i.addShape("path",{name:"waterwave-path",attrs:{path:SS(a,h.minY+f*n,s,0,p/32,t,e),fill:u,opacity:ES(.2,.9,g)*c}});try{if(!1===l)return;var v=wb([["t",s,0]]);y.stopAnimate(),y.animate({matrix:v},{duration:ES(2500,5e3,g),repeat:!0})}catch(m){console.warn("off-screen group animate error!")}}}(y.x,y.y,1-t.points[1].y,f,x,b,Q,2*B,d,l)}return e.addShape("path",{name:"distance",attrs:{path:F,fill:"transparent",lineWidth:h+2*p,stroke:"transparent"===s?"#fff":s}}),e.addShape("path",{name:"wrap",attrs:ze(w,{path:F,fill:"transparent",lineWidth:h})}),e}}),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="liquid",e}Tt(e,t),e.getDefaultOptions=function(){return US},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.changeData=function(t){this.chart.emit(Un.BEFORE_CHANGE_DATA,Qf.fromData(this.chart,Un.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t}),this.chart.data(CS(t)),bS({chart:this.chart,options:this.options},!0),this.chart.emit(Un.AFTER_CHANGE_DATA,Qf.fromData(this.chart,Un.AFTER_CHANGE_DATA,null))},e.prototype.getSchemaAdaptor=function(){return QS}}(hC),Ff("radar-tooltip",function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"radar-tooltip"},enumerable:!1,configurable:!0}),e.prototype.getTooltipItems=function(e){var n=this.getTooltipCfg(),A=n.shared,r=n.title,i=t.prototype.getTooltipItems.call(this,e);if(i.length>0){var o=this.view.geometries[0],a=o.dataArray,s=i[0].name,l=[];return a.forEach((function(t){t.forEach((function(t){var e=Dd.getTooltipItems(t,o)[0];if(!A&&e&&e.name===s){var n=Jt(r)?s:r;l.push(Dt(Dt({},e),{name:e.title,title:n}))}else if(A&&e){n=Jt(r)?e.name||s:r;l.push(Dt(Dt({},e),{name:e.title,title:n}))}}))})),l}return[]},e}(Df)),tp("radar-tooltip",function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.init=function(){this.context.view.removeInteraction("tooltip")},e.prototype.show=function(){var t=this.context.event;this.getTooltipController().showTooltip({x:t.x,y:t.y})},e.prototype.hide=function(){this.getTooltipController().hideTooltip()},e.prototype.getTooltipController=function(){return this.context.view.getController("radar-tooltip")},e}(Jh)),Wp("radar-tooltip",{start:[{trigger:"plot:mousemove",action:"radar-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"radar-tooltip:hide"}]}),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="radar",e}Tt(e,t),e.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return Ix({},t.prototype.getDefaultOptions.call(this),{xAxis:{label:{offset:15},grid:{line:{type:"line"}}},yAxis:{grid:{line:{type:"circle"}}},legend:{position:"top"},tooltip:{shared:!0,showCrosshairs:!0,showMarkers:!0,crosshairs:{type:"xy",line:{style:{stroke:"#565656",lineDash:[4]}},follow:!0}}})},e.prototype.getSchemaAdaptor=function(){return PS}}(hC);var XS=Ix({},hC.getDefaultOptions(),{interactions:[{type:"element-active"}],legend:!1,tooltip:{showMarkers:!1},xAxis:{grid:null,tickLine:null,line:null},maxAngle:240});function YS(t){var e=t.chart,n=t.options,A=n.data,r=n.sectorStyle,i=n.shape,o=n.color;return e.data(A),Lx(Dw)(Ix({},t,{options:{marginRatio:1,interval:{style:r,color:o,shape:i}}})),t}function zS(t){var e=t.chart,n=t.options,A=n.label,r=n.xField,i=Hx(e,"interval");if(!1===A)i.label(!1);else if(Zt(A)){var o=A.callback,a=A.fields,s=Pt(A,["callback","fields"]),l=s.offset,u=s.layout;(void 0===l||l>=0)&&(u=u?qt(u)?u:[u]:[],s.layout=Yt(u,(function(t){return"limit-in-shape"!==t.type})),s.layout.length||delete s.layout),i.label({fields:a||[r],callback:o,cfg:Ox(s)})}else Bx(dx.WARN,null===A,"the label option must be an Object."),i.label({fields:[r]});return t}function WS(t){var e=t.chart,n=t.options,A=n.legend,r=n.seriesField;return!1===A?e.legend(!1):r&&e.legend(r,A),t}function jS(t){var e=t.chart,n=t.options,A=n.radius,r=n.innerRadius,i=n.startAngle,o=n.endAngle;return e.coordinate({type:"polar",cfg:{radius:A,innerRadius:r,startAngle:i,endAngle:o}}),t}function JS(t){var e,n=t.options,A=n.xAxis,r=n.yAxis,i=n.xField,o=n.yField;return Lx(ww(((e={})[i]=A,e[o]=r,e)))(t)}function qS(t){var e=t.chart,n=t.options,A=n.xAxis,r=n.yAxis,i=n.xField,o=n.yField;return A?e.axis(i,A):e.axis(i,!1),r?e.axis(o,r):e.axis(o,!1),t}function ZS(t){Lx(pw("sectorStyle"),YS,JS,zS,jS,qS,WS,dw,gw,yw,vw,Cw(),mw)(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="radial-bar",e}Tt(e,t),e.getDefaultOptions=function(){return XS},e.prototype.changeData=function(t){this.updateOption({data:t}),KS({chart:this.chart,options:this.options}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return _S}}(hC);var $S=Ix({},hC.getDefaultOptions(),{xAxis:!1,yAxis:!1,legend:{position:"right",radio:{}},sectorStyle:{stroke:"#fff",lineWidth:1},label:{layout:{type:"limit-in-shape"}},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]});!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="rose",e}Tt(e,t),e.getDefaultOptions=function(){return $S},e.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return ZS}}(hC);var tI="x",eI="y",nI="name",AI="nodes",rI="edges";function iI(t,e,n){if(!qt(t))return[];var A=[],r=function(t,e,n){var A=[];return t.forEach((function(t){var r=t[e],i=t[n];A.includes(r)||A.push(r),A.includes(i)||A.push(i)})),A}(t,e,n),i=function(t,e,n,A){var r={};return e.forEach((function(t){r[t]={},e.forEach((function(e){r[t][e]=0}))})),t.forEach((function(t){r[t[n]][t[A]]=1})),r}(t,r,e,n),o={};function a(t){o[t]=1,r.forEach((function(e){if(0!=i[t][e])if(1==o[e])A.push("".concat(t,"_").concat(e));else{if(-1==o[e])return;a(e)}})),o[t]=-1}return r.forEach((function(t){o[t]=0})),r.forEach((function(t){-1!=o[t]&&a(t)})),0!==A.length&&console.warn("sankey data contains circle, ".concat(A.length," records removed."),A),t.filter((function(t){return A.findIndex((function(A){return A==="".concat(t[e],"_").concat(t[n])}))<0}))}function oI(t){return t.target.depth}function aI(t,e){return t.sourceLinks.length?t.depth:e-1}function sI(t){return function(){return t}}function lI(t,e){for(var n=0,A=0;A<t.length;A++)n+=e(t[A]);return n}function uI(t,e){for(var n=-1/0,A=0;A<t.length;A++)n=Math.max(e(t[A]),n);return n}function cI(t,e){return pI(t.source,e.source)||t.index-e.index}function hI(t,e){return pI(t.target,e.target)||t.index-e.index}function pI(t,e){return t.y0-e.y0}function fI(t){return t.value}function dI(t){return t.index}function gI(t){return t.nodes}function yI(t){return t.links}function vI(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function mI(t){for(var e=0,n=t.nodes;e<n.length;e++){for(var A=n[e],r=A.y0,i=r,o=0,a=A.sourceLinks;o<a.length;o++){(u=a[o]).y0=r+u.width/2,r+=u.width}for(var s=0,l=A.targetLinks;s<l.length;s++){var u;(u=l[s]).y1=i+u.width/2,i+=u.width}}}function BI(){var t,e,n,A,r=0,i=0,o=1,a=1,s=24,l=8,u=dI,c=aI,h=gI,p=yI,f=6;function d(d){var v={nodes:h(d),links:p(d)};return function(t){var e=t.nodes,n=t.links;e.forEach((function(t,e){t.index=e,t.sourceLinks=[],t.targetLinks=[]}));var r=new Map(e.map((function(t){return[u(t),t]})));if(n.forEach((function(t,e){t.index=e;var n=t.source,A=t.target;"object"!=typeof n&&(n=t.source=vI(r,n)),"object"!=typeof A&&(A=t.target=vI(r,A)),n.sourceLinks.push(t),A.targetLinks.push(t)})),null!=A)for(var i=0,o=e;i<o.length;i++){var a=o[i],s=a.sourceLinks,l=a.targetLinks;s.sort(A),l.sort(A)}}(v),function(t){for(var e=t.nodes,n=0,A=e;n<A.length;n++){var r=A[n];r.value=void 0===r.fixedValue?Math.max(lI(r.sourceLinks,fI),lI(r.targetLinks,fI)):r.fixedValue}}(v),function(t){var n=t.nodes,A=n.length,r=new Set(n),i=new Set,o=0;for(;r.size;){if(r.forEach((function(t){t.depth=o;for(var e=0,n=t.sourceLinks;e<n.length;e++){var A=n[e].target;i.add(A)}})),++o>A)throw new Error("circular link");r=i,i=new Set}if(e)for(var a=Math.max(uI(n,(function(t){return t.depth}))+1,0),s=void 0,l=0;l<n.length;l++)(s=n[l]).depth=e.call(null,s,a)}(v),function(t){var e=t.nodes,n=e.length,A=new Set(e),r=new Set,i=0;for(;A.size;){if(A.forEach((function(t){t.height=i;for(var e=0,n=t.targetLinks;e<n.length;e++){var A=n[e].source;r.add(A)}})),++i>n)throw new Error("circular link");A=r,r=new Set}}(v),function(e){var A=function(t){for(var e=t.nodes,A=Math.max(uI(e,(function(t){return t.depth}))+1,0),i=(o-r-s)/(A-1),a=new Array(A).fill(0).map((function(){return[]})),l=0,u=e;l<u.length;l++){var h=u[l],p=Math.max(0,Math.min(A-1,Math.floor(c.call(null,h,A))));h.layer=p,h.x0=r+p*i,h.x1=h.x0+s,a[p]?a[p].push(h):a[p]=[h]}if(n)for(var f=0,d=a;f<d.length;f++){d[f].sort(n)}return a}(e);t=Math.min(l,(a-i)/(uI(A,(function(t){return t.length}))-1)),function(e){for(var n=function(t,e){for(var n=1/0,A=0;A<t.length;A++)n=Math.min(e(t[A]),n);return n}(e,(function(e){return(a-i-(e.length-1)*t)/lI(e,fI)})),A=0,r=e;A<r.length;A++){for(var o=r[A],s=i,l=0,u=o;l<u.length;l++){(d=u[l]).y0=s,d.y1=s+d.value*n,s=d.y1+t;for(var c=0,h=d.sourceLinks;c<h.length;c++){var p=h[c];p.width=p.value*n}}s=(a-s+t)/(o.length+1);for(var f=0;f<o.length;++f){var d;(d=o[f]).y0+=s*(f+1),d.y1+=s*(f+1)}w(o)}}(A);for(var u=0;u<f;++u){var h=Math.pow(.99,u),p=Math.max(1-h,(u+1)/f);y(A,h,p),g(A,h,p)}}(v),mI(v),v}function g(t,e,A){for(var r=1,i=t.length;r<i;++r){for(var o=t[r],a=0,s=o;a<s.length;a++){for(var l=s[a],u=0,c=0,h=0,p=l.targetLinks;h<p.length;h++){var f=p[h],d=f.source,g=f.value*(l.layer-d.layer);u+=C(d,l)*g,c+=g}if(c>0){var y=(u/c-l.y0)*e;l.y0+=y,l.y1+=y,x(l)}}void 0===n&&o.sort(pI),o.length&&v(o,A)}}function y(t,e,A){for(var r=t.length-2;r>=0;--r){for(var i=t[r],o=0,a=i;o<a.length;o++){for(var s=a[o],l=0,u=0,c=0,h=s.sourceLinks;c<h.length;c++){var p=h[c],f=p.target,d=p.value*(f.layer-s.layer);l+=F(s,f)*d,u+=d}if(u>0){var g=(l/u-s.y0)*e;s.y0+=g,s.y1+=g,x(s)}}void 0===n&&i.sort(pI),i.length&&v(i,A)}}function v(e,n){var A=e.length>>1,r=e[A];B(e,r.y0-t,A-1,n),m(e,r.y1+t,A+1,n),B(e,a,e.length-1,n),m(e,i,0,n)}function m(e,n,A,r){for(;A<e.length;++A){var i=e[A],o=(n-i.y0)*r;o>1e-6&&(i.y0+=o,i.y1+=o),n=i.y1+t}}function B(e,n,A,r){for(;A>=0;--A){var i=e[A],o=(i.y1-n)*r;o>1e-6&&(i.y0-=o,i.y1-=o),n=i.y0-t}}function x(t){var e=t.sourceLinks,n=t.targetLinks;if(void 0===A){for(var r=0,i=n;r<i.length;r++){i[r].source.sourceLinks.sort(hI)}for(var o=0,a=e;o<a.length;o++){a[o].target.targetLinks.sort(cI)}}}function w(t){if(void 0===A)for(var e=0,n=t;e<n.length;e++){var r=n[e],i=r.sourceLinks,o=r.targetLinks;i.sort(hI),o.sort(cI)}}function C(e,n){for(var A=e.y0-(e.sourceLinks.length-1)*t/2,r=0,i=e.sourceLinks;r<i.length;r++){var o=i[r],a=o.target,s=o.width;if(a===n)break;A+=s+t}for(var l=0,u=n.targetLinks;l<u.length;l++){var c=u[l];a=c.source,s=c.width;if(a===e)break;A-=s}return A}function F(e,n){for(var A=n.y0-(n.targetLinks.length-1)*t/2,r=0,i=n.targetLinks;r<i.length;r++){var o=i[r],a=o.source,s=o.width;if(a===e)break;A+=s+t}for(var l=0,u=e.sourceLinks;l<u.length;l++){var c=u[l];a=c.target,s=c.width;if(a===n)break;A-=s}return A}return d.update=function(t){return mI(t),t},d.nodeId=function(t){return arguments.length?(u="function"==typeof t?t:sI(t),d):u},d.nodeAlign=function(t){return arguments.length?(c="function"==typeof t?t:sI(t),d):c},d.nodeDepth=function(t){return arguments.length?(e=t,d):e},d.nodeSort=function(t){return arguments.length?(n=t,d):n},d.nodeWidth=function(t){return arguments.length?(s=+t,d):s},d.nodePadding=function(e){return arguments.length?(l=t=+e,d):l},d.nodes=function(t){return arguments.length?(h="function"==typeof t?t:sI(t),d):h},d.links=function(t){return arguments.length?(p="function"==typeof t?t:sI(t),d):p},d.linkSort=function(t){return arguments.length?(A=t,d):A},d.size=function(t){return arguments.length?(r=i=0,o=+t[0],a=+t[1],d):[o-r,a-i]},d.extent=function(t){return arguments.length?(r=+t[0][0],o=+t[1][0],i=+t[0][1],a=+t[1][1],d):[[r,i],[o,a]]},d.iterations=function(t){return arguments.length?(f=+t,d):f},d}var xI={left:function(t){return t.depth},right:function(t,e){return e-1-t.height},center:function(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?function(t,e){if(qt(t)){for(var n,A=1/0,r=0;r<t.length;r++){var i=t[r],o=jt(e)?e(i):i[e];o<A&&(n=i,A=o)}return n}}(t.sourceLinks,oI)-1:0},justify:aI},wI={nodeId:function(t){return t.index},nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodeSort:void 0};function CI(t,e){var n=function(t){return ze({},wI,t)}(t),A=n.nodeId,r=n.nodeSort,i=n.nodeAlign,o=n.nodeWidth,a=n.nodePadding,s=n.nodeDepth,l=BI().nodeSort(r).nodeWidth(o).nodePadding(a).nodeDepth(s).nodeAlign(function(t){return(pe(t)?xI[t]:jt(t)?t:null)||aI}(i)).extent([[0,0],[1,1]]).nodeId(A),u=l(e);return{nodes:u.nodes.map((function(t){var e=t.x0,n=t.x1,A=t.y0,r=t.y1;return t.x=[e,n,n,e],t.y=[A,A,r,r],t})).filter((function(t){return null!==t.name})),links:u.links.map((function(t){var e=t.source,n=t.target,A=e.x1,r=n.x0;t.x=[A,A,r,r];var i=t.width/2;return t.y=[t.y0+i,t.y0-i,t.y1+i,t.y1-i],t})).filter((function(t){var e=t.source,n=t.target;return null!==e.name&&null!==n.name}))}}function FI(t,e,n){return Rx(t)?t/n:e}function bI(t,e,n){return Rx(t)?t/n:e}function QI(t,e,n){var A,r=t.dataType,i=t.data,o=t.sourceField,a=t.targetField,s=t.weightField,l=t.nodeAlign,u=t.nodeSort,c=t.nodePadding,h=t.nodePaddingRatio,p=t.nodeWidth,f=t.nodeWidthRatio,d=t.nodeDepth,g=t.rawFields,y=void 0===g?[]:g;A=function(t){return"node-link"===t}(r)?i:Cx(iI(i,o,a),o,a,s,y);var v=CI({nodeAlign:l,nodePadding:bI(c,h,n),nodeWidth:FI(p,f,e),nodeSort:u,nodeDepth:d},A),m=v.nodes,B=v.links;return{nodes:m.map((function(t){return Dt(Dt({},xx(t,Nt(["x","y","name"],y,!0))),{isNode:!0})})),edges:B.map((function(t){return Dt(Dt({source:t.source.name,target:t.target.name,name:t.source.name||t.target.name},xx(t,Nt(["x","y","value"],y,!0))),{isNode:!1})}))}}function UI(t){var e=t.options.rawFields,n=void 0===e?[]:e;return Ix({},{options:{tooltip:{fields:fe(Nt(["name","source","target","value","isNode"],n,!0))},label:{fields:fe(Nt(["x","name"],n,!0))}}},t)}function EI(t){var e=t.chart,n=t.options,A=n.color,r=n.nodeStyle,i=n.edgeStyle,o=n.label,a=n.tooltip,s=n.nodeState,l=n.edgeState,u=n.rawFields,c=void 0===u?[]:u;e.legend(!1),e.tooltip(a),e.axis(!1),e.coordinate().reflect("y");var h=QI(n,e.width,e.height),p=h.nodes,f=h.edges,d=e.createView({id:rI});d.data(f),Tw({chart:d,options:{xField:tI,yField:eI,seriesField:nI,rawFields:Nt(["source","target"],c,!0),edge:{color:A,style:i,shape:"arc"},tooltip:a,state:l}});var g=e.createView({id:AI});return g.data(p),Rw({chart:g,options:{xField:tI,yField:eI,seriesField:nI,polygon:{color:A,style:r},label:o,tooltip:a,state:s}}),e.interaction("element-active"),e.scale({x:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},y:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},name:{sync:"color",type:"cat"}}),t}function MI(t){var e=t.chart;return $x(e,t.options.animation,Nt(Nt([],e.views[0].geometries,!0),e.views[1].geometries,!0)),t}function SI(t){var e=t.chart,n="sankey-node-draggable";return t.options.nodeDraggable?e.interaction(n):e.removeInteraction(n),t}function II(t){var e=t.chart,n=t.options,A=n.interactions,r=void 0===A?[]:A,i=[].concat(r,n.nodeInteractions||[]),o=[].concat(r,n.edgeInteractions||[]),a=Jx(e,AI),s=Jx(e,rI);return i.forEach((function(t){!1===(null==t?void 0:t.enable)?a.removeInteraction(t.type):a.interaction(t.type,t.cfg||{})})),o.forEach((function(t){!1===(null==t?void 0:t.enable)?s.removeInteraction(t.type):s.interaction(t.type,t.cfg||{})})),t}function kI(t){return Lx(UI,EI,II,SI,MI,vw)(t)}var LI=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isDragging=!1,e}return Tt(e,t),e.prototype.isNodeElement=function(){var t=on(this.context,"event.target");if(t){var e=t.get("element");return e&&e.getModel().data.isNode}return!1},e.prototype.getNodeView=function(){return Jx(this.context.view,AI)},e.prototype.getEdgeView=function(){return Jx(this.context.view,rI)},e.prototype.getCurrentDatumIdx=function(t){return this.getNodeView().geometries[0].elements.indexOf(t)},e.prototype.start=function(){if(this.isNodeElement()){this.prevPoint={x:on(this.context,"event.x"),y:on(this.context,"event.y")};var t=this.context.event.target.get("element"),e=this.getCurrentDatumIdx(t);if(-1===e)return;this.currentElementIdx=e,this.context.isDragging=!0,this.isDragging=!0,this.prevNodeAnimateCfg=this.getNodeView().getOptions().animate,this.prevEdgeAnimateCfg=this.getEdgeView().getOptions().animate,this.getNodeView().animate(!1),this.getEdgeView().animate(!1)}},e.prototype.translate=function(){if(this.isDragging){var t=this.context.view,e={x:on(this.context,"event.x"),y:on(this.context,"event.y")},n=e.x-this.prevPoint.x,A=e.y-this.prevPoint.y,r=this.getNodeView(),i=r.geometries[0].elements[this.currentElementIdx];if(i&&i.getModel()){var o=i.getModel().data,a=r.getOptions().data,s=r.getCoordinate(),l={x:n/s.getWidth(),y:A/s.getHeight()},u=Dt(Dt({},o),{x:o.x.map((function(t){return t+l.x})),y:o.y.map((function(t){return t+l.y}))}),c=Nt([],a,!0);c[this.currentElementIdx]=u,r.data(c);var h=o.name,p=this.getEdgeView(),f=p.getOptions().data;f.forEach((function(t){t.source===h&&(t.x[0]+=l.x,t.x[1]+=l.x,t.y[0]+=l.y,t.y[1]+=l.y),t.target===h&&(t.x[2]+=l.x,t.x[3]+=l.x,t.y[2]+=l.y,t.y[3]+=l.y)})),p.data(f),this.prevPoint=e,t.render(!0)}}},e.prototype.end=function(){this.isDragging=!1,this.context.isDragging=!1,this.prevPoint=null,this.currentElementIdx=null,this.getNodeView().animate(this.prevNodeAnimateCfg),this.getEdgeView().animate(this.prevEdgeAnimateCfg)},e}(Jh);tp("sankey-node-drag",LI),Wp("sankey-node-draggable",{showEnable:[{trigger:"polygon:mouseenter",action:"cursor:pointer"},{trigger:"polygon:mouseleave",action:"cursor:default"}],start:[{trigger:"polygon:mousedown",action:"sankey-node-drag:start"}],processing:[{trigger:"plot:mousemove",action:"sankey-node-drag:translate"},{isEnable:function(t){return t.isDragging},trigger:"plot:mousemove",action:"cursor:move"}],end:[{trigger:"plot:mouseup",action:"sankey-node-drag:end"}]}),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="sankey",e}Tt(e,t),e.getDefaultOptions=function(){return{appendPadding:8,syncViewPadding:!0,nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.3,lineWidth:0},edgeState:{active:{style:{opacity:.8,lineWidth:0}}},label:{formatter:function(t){return t.name},callback:function(t){var e=1===t[1];return{style:{fill:"#545454",textAlign:e?"end":"start"},offsetX:e?-8:8}},layout:[{type:"hide-overlap"}]},tooltip:{showTitle:!1,showMarkers:!1,shared:!1,showContent:function(t){return!on(t,[0,"data","isNode"])},formatter:function(t){return{name:t.source+" -> "+t.target,value:t.value}}},nodeWidthRatio:.008,nodePaddingRatio:.01,animation:{appear:{animation:"wave-in"},enter:{animation:"wave-in"}}}},e.prototype.changeData=function(t){this.updateOption({data:t});var e=QI(this.options,this.chart.width,this.chart.height),n=e.nodes,A=e.edges,r=Jx(this.chart,AI),i=Jx(this.chart,rI);r.changeData(n),i.changeData(A)},e.prototype.getSchemaAdaptor=function(){return kI},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()}}(hC);var HI="ancestor-node",TI="value",DI="path",PI=[DI,pM,dM,fM,"name","depth","height"],OI=Ix({},hC.getDefaultOptions(),{innerRadius:0,radius:.85,hierarchyConfig:{field:"value"},tooltip:{shared:!0,showMarkers:!1,offset:20,showTitle:!1},legend:!1,sunburstStyle:{lineWidth:.5,stroke:"#FFF"},drilldown:{enabled:!0}}),RI={field:"value",size:[1,1],round:!1,padding:0,sort:function(t,e){return e.value-t.value},as:["x","y"],ignoreParentValue:!0};function KI(t,e){var n,A=(e=ze({},RI,e)).as;if(!qt(A)||2!==A.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{n=yM(e)}catch(s){console.warn(s)}var r,i=(r=t,jE().size(e.size).round(e.round).padding(e.padding)(BE(r).sum((function(t){return gn(t.children)?e.ignoreParentValue?0:t[n]-ce(t.children,(function(t,e){return t+e[n]}),0):t[n]})).sort(e.sort))),o=A[0],a=A[1];return i.each((function(t){var e,n;t[o]=[t.x0,t.x1,t.x1,t.x0],t[a]=[t.y1,t.y1,t.y0,t.y0],t.name=t.name||(null===(e=t.data)||void 0===e?void 0:e.name)||(null===(n=t.data)||void 0===n?void 0:n.label),t.data.name=t.name,["x0","x1","y0","y1"].forEach((function(e){-1===A.indexOf(e)&&delete t[e]}))})),vM(i)}var VI={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"],sort:function(t,e){return e.value-t.value},ratio:.5*(1+Math.sqrt(5))};function GI(t,e){var n,A=(e=ze({},VI,e)).as;if(!qt(A)||2!==A.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{n=yM(e)}catch(c){console.warn(c)}var r,i,o,a=(r=e.tile,i=e.ratio,"treemapSquarify"===r?hM[r].ratio(i):hM[r]),s=(o=t,uM().tile(a).size(e.size).round(e.round).padding(e.padding).paddingInner(e.paddingInner).paddingOuter(e.paddingOuter).paddingTop(e.paddingTop).paddingRight(e.paddingRight).paddingBottom(e.paddingBottom).paddingLeft(e.paddingLeft)(BE(o).sum((function(t){return e.ignoreParentValue&&t.children?0:t[n]})).sort(e.sort))),l=A[0],u=A[1];return s.each((function(t){t[l]=[t.x0,t.x1,t.x1,t.x0],t[u]=[t.y1,t.y1,t.y0,t.y0],["x0","x1","y0","y1"].forEach((function(e){-1===A.indexOf(e)&&delete t[e]}))})),vM(s)}function NI(t){var e=t.data,n=t.colorField,A=t.rawFields,r=t.hierarchyConfig,i=void 0===r?{}:r,o=i.activeDepth,a={partition:KI,treemap:GI},s=t.seriesField,l=t.type||"partition",u=a[l](e,Dt(Dt({field:s||"value"},un(i,["activeDepth"])),{type:"hierarchy.".concat(l),as:["x","y"]})),c=[];return u.forEach((function(t){var e,r,a,l,u,h;if(0===t.depth)return null;if(o>0&&t.depth>o)return null;for(var p=t.data.name,f=Dt({},t);f.depth>1;)p="".concat(null===(r=f.parent.data)||void 0===r?void 0:r.name," / ").concat(p),f=f.parent;var d=Dt(Dt(Dt({},xx(t.data,Nt(Nt([],A||[],!0),[i.field],!1))),((e={})[DI]=p,e[HI]=f.data.name,e)),t);s&&(d[s]=t.data[s]||(null===(l=null===(a=t.parent)||void 0===a?void 0:a.data)||void 0===l?void 0:l[s])),n&&(d[n]=t.data[n]||(null===(h=null===(u=t.parent)||void 0===u?void 0:u.data)||void 0===h?void 0:h[n])),d.ext=i,d[fE]={hierarchyConfig:i,colorField:n,rawFields:A},c.push(d)})),c}function _I(t){var e,n=t.chart,A=t.options,r=A.color,i=A.colorField,o=void 0===i?HI:i,a=A.sunburstStyle,s=A.rawFields,l=void 0===s?[]:s,u=A.shape,c=NI(A);return n.data(c),a&&(e=function(t){return Ix({},{fillOpacity:Math.pow(.85,t.depth)},jt(a)?a(t):a)}),Rw(Ix({},t,{options:{xField:"x",yField:"y",seriesField:o,rawFields:fe(Nt(Nt([],PI,!0),l,!0)),polygon:{color:r,style:e,shape:u}}})),t}function XI(t){return t.chart.axis(!1),t}function YI(t){var e=t.chart,n=t.options.label,A=Hx(e,"polygon");if(n){var r=n.fields,i=void 0===r?["name"]:r,o=n.callback,a=Pt(n,["fields","callback"]);A.label({fields:i,callback:o,cfg:Ox(a)})}else A.label(!1);return t}function zI(t){var e=t.chart,n=t.options,A=n.innerRadius,r=n.radius,i=n.reflect,o=e.coordinate({type:"polar",cfg:{innerRadius:A,radius:r}});return i&&o.reflect(i),t}function WI(t){var e,n=t.options,A=n.hierarchyConfig,r=n.meta;return Lx(ww({},((e={})[TI]=on(r,on(A,["field"],"value")),e)))(t)}function jI(t){var e=t.chart,n=t.options.tooltip;if(!1===n)e.tooltip(!1);else{var A=n;on(n,"fields")||(A=Ix({},{customItems:function(t){return t.map((function(t){var n=on(e.getOptions(),"scales"),A=on(n,[DI,"formatter"],(function(t){return t})),r=on(n,[TI,"formatter"],(function(t){return t}));return Dt(Dt({},t),{name:A(t.data[DI]),value:r(t.data.value)})}))}},A)),e.tooltip(A)}return t}function JI(t){var e=t.drilldown,n=t.interactions,A=void 0===n?[]:n;return(null==e?void 0:e.enabled)?Ix({},t,{interactions:Nt(Nt([],A,!0),[{type:"drill-down",cfg:{drillDownConfig:e,transformData:NI}}],!1)}):t}function qI(t){var e=t.chart,n=t.options,A=n.drilldown;return gw({chart:e,options:JI(n)}),(null==A?void 0:A.enabled)&&(e.appendPadding=Vx(e.appendPadding,on(A,["breadCrumb","position"]))),t}function ZI(t){return Lx(vw,pw("sunburstStyle"),_I,XI,WI,fw,zI,jI,YI,qI,yw,Cw())(t)}function $I(t,e){if(qt(t))return t.find((function(t){return t.type===e}))}function tk(t,e){var n=$I(t,e);return n&&!1!==n.enable}function ek(t){var e=t.interactions,n=t.drilldown;return on(n,"enabled")||tk(e,"treemap-drill-down")}function nk(t){var e=t.data,n=t.colorField,A=t.enableDrillDown,r=t.hierarchyConfig,i=GI(e,Dt(Dt({},r),{type:"hierarchy.treemap",field:"value",as:["x","y"]})),o=[];return i.forEach((function(t){if(0===t.depth)return null;if(A&&1!==t.depth)return null;if(!A&&t.children)return null;var i=t.ancestors().map((function(t){return{data:t.data,height:t.height,value:t.value}})),a=A&&qt(e.path)?i.concat(e.path.slice(1)):i,s=Object.assign({},t.data,Dt({x:t.x,y:t.y,depth:t.depth,value:t.value,path:a},t));if(!t.data[n]&&t.parent){var l=t.ancestors().find((function(t){return t.data[n]}));s[n]=null==l?void 0:l.data[n]}else s[n]=t.data[n];s[fE]={hierarchyConfig:r,colorField:n,enableDrillDown:A},o.push(s)})),o}function Ak(t){var e=t.options.colorField;return Ix({options:{rawFields:["value"],tooltip:{fields:["name","value",e,"path"],formatter:function(t){return{name:t.name,value:t.value}}}}},t)}function rk(t){var e=t.chart,n=t.options,A=n.color,r=n.colorField,i=n.rectStyle,o=n.hierarchyConfig,a=n.rawFields,s=nk({data:n.data,colorField:n.colorField,enableDrillDown:ek(n),hierarchyConfig:o});return e.data(s),Rw(Ix({},t,{options:{xField:"x",yField:"y",seriesField:r,rawFields:a,polygon:{color:A,style:i}}})),e.coordinate().reflect("y"),t}function ik(t){return t.chart.axis(!1),t}function ok(t){var e=t.drilldown,n=t.interactions,A=void 0===n?[]:n;return ek(t)?Ix({},t,{interactions:Nt(Nt([],A,!0),[{type:"drill-down",cfg:{drillDownConfig:e,transformData:nk}}],!1)}):t}function ak(t){var e=t.chart,n=t.options,A=n.interactions,r=n.drilldown;gw({chart:e,options:ok(n)});var i=$I(A,"view-zoom");return i&&(!1!==i.enable?e.getCanvas().on("mousewheel",(function(t){t.preventDefault()})):e.getCanvas().off("mousewheel")),ek(n)&&(e.appendPadding=Vx(e.appendPadding,on(r,["breadCrumb","position"]))),t}function sk(t){return Lx(Ak,vw,pw("rectStyle"),rk,ik,fw,dw,ak,yw,Cw())(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="sunburst",e}Tt(e,t),e.getDefaultOptions=function(){return OI},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return ZI},e.SUNBURST_ANCESTOR_FIELD=HI,e.SUNBURST_PATH_FIELD=DI,e.NODE_ANCESTORS_FIELD=dM}(hC);var lk={colorField:"name",rectStyle:{lineWidth:1,stroke:"#fff"},hierarchyConfig:{tile:"treemapSquarify"},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1,breadCrumb:{position:"bottom-left",rootText:"初始",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}}}};!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="treemap",e}Tt(e,t),e.getDefaultOptions=function(){return lk},e.prototype.changeData=function(t){var e=this.options,n=e.colorField,A=e.interactions,r=e.hierarchyConfig;this.updateOption({data:t});var i=nk({data:t,colorField:n,enableDrillDown:tk(A,"treemap-drill-down"),hierarchyConfig:r});this.chart.changeData(i),function(t){var e=t.interactions["drill-down"];if(e){var n=e.context.actions.find((function(t){return"drill-down-action"===t.name}));n.reset()}}(this.chart)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return sk}}(hC);var uk="id",ck="path",hk={appendPadding:[10,0,20,0],blendMode:"multiply",tooltip:{showTitle:!1,showMarkers:!1,fields:["id","size"],formatter:function(t){return{name:t.id,value:t.size}}},legend:{position:"top-left"},label:{style:{textAlign:"center",fill:"#fff"}},interactions:[{type:"legend-filter",enable:!1}],state:{active:{style:{stroke:"#000"}},selected:{style:{stroke:"#000",lineWidth:2}},inactive:{style:{fillOpacity:.3,strokeOpacity:.3}}},defaultInteractions:["tooltip","venn-legend-active"]};function pk(t){t&&t.geometries[0].elements.forEach((function(t){t.shape.toFront()}))}var fk=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.syncElementsPos=function(){pk(this.context.view)},e.prototype.active=function(){t.prototype.active.call(this),this.syncElementsPos()},e.prototype.toggle=function(){t.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.reset=function(){t.prototype.reset.call(this),this.syncElementsPos()},e}($h("element-active")),dk=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.syncElementsPos=function(){pk(this.context.view)},e.prototype.highlight=function(){t.prototype.highlight.call(this),this.syncElementsPos()},e.prototype.toggle=function(){t.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.clear=function(){t.prototype.clear.call(this),this.syncElementsPos()},e.prototype.reset=function(){t.prototype.reset.call(this),this.syncElementsPos()},e}($h("element-highlight")),gk=$h("element-selected"),yk=$h("element-single-selected"),vk=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.syncElementsPos=function(){pk(this.context.view)},e.prototype.selected=function(){t.prototype.selected.call(this),this.syncElementsPos()},e.prototype.toggle=function(){t.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.reset=function(){t.prototype.reset.call(this),this.syncElementsPos()},e}(gk),mk=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.syncElementsPos=function(){pk(this.context.view)},e.prototype.selected=function(){t.prototype.selected.call(this),this.syncElementsPos()},e.prototype.toggle=function(){t.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.reset=function(){t.prototype.reset.call(this),this.syncElementsPos()},e}(yk);tp("venn-element-active",fk),tp("venn-element-highlight",dk),tp("venn-element-selected",vk),tp("venn-element-single-selected",mk),Wp("venn-element-active",{start:[{trigger:"element:mouseenter",action:"venn-element-active:active"}],end:[{trigger:"element:mouseleave",action:"venn-element-active:reset"}]}),Wp("venn-element-highlight",{start:[{trigger:"element:mouseenter",action:"venn-element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"venn-element-highlight:reset"}]}),Wp("venn-element-selected",{start:[{trigger:"element:click",action:"venn-element-selected:toggle"}],rollback:[{trigger:"dblclick",action:["venn-element-selected:reset"]}]}),Wp("venn-element-single-selected",{start:[{trigger:"element:click",action:"venn-element-single-selected:toggle"}],rollback:[{trigger:"dblclick",action:["venn-element-single-selected:reset"]}]}),Wp("venn-legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","venn-element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","venn-element-active:reset"]}]}),Wp("venn-legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","venn-element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","venn-element-highlight:reset"]}]});var Bk=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.getLabelPoint=function(t,e,n){var A=t.data,r=A.x,i=A.y,o=t.customLabelInfo,a=o.offsetX,s=o.offsetY;return{content:t.content[n],x:r+a,y:i+s}},e}(gd);jf("venn",Bk);var xk=Array.isArray,wk="\t\n\v\f\r   ᠎             　\u2028\u2029",Ck=new RegExp("([a-z])["+wk+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+wk+"]*,?["+wk+"]*)+)","ig"),Fk=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+wk+"]*,?["+wk+"]*","ig");ed("schema","venn",{draw:function(t,e){var n=function(t){if(!t)return null;if(xk(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(Ck,(function(t,A,r){var i=[],o=A.toLowerCase();if(r.replace(Fk,(function(t,e){e&&i.push(+e)})),"m"===o&&i.length>2&&(n.push([A].concat(i.splice(0,2))),o="l",A="m"===A?"l":"L"),"o"===o&&1===i.length&&n.push([A,i[0]]),"r"===o)n.push([A].concat(i));else for(;i.length>=e[o]&&(n.push([A].concat(i.splice(0,e[o]))),e[o]););return""})),n}(t.data[ck]),A=function(t){return Ix({},t.defaultStyle,{fill:t.color},t.style)}(t),r=e.addGroup({name:"venn-shape"});r.addShape("path",{attrs:Dt(Dt({},A),{path:n}),name:"venn-path"});var i=t.customInfo,o=i.offsetX,a=i.offsetY,s=Dd.transform(null,[["t",o,a]]);return r.setMatrix(s),r},getMarker:function(t){var e=t.color;return{symbol:"circle",style:{lineWidth:0,stroke:e,fill:e,r:4}}}});var bk={normal:function(t){return t},multiply:function(t,e){return t*e/255},screen:function(t,e){return 255*(1-(1-t/255)*(1-e/255))},overlay:function(t,e){return e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255))},darken:function(t,e){return t>e?e:t},lighten:function(t,e){return t>e?t:e},dodge:function(t,e){return 255===t||(t=e/255*255/(1-t/255))>255?255:t},burn:function(t,e){return 255===e?255:0===t?0:255*(1-Math.min(1,(1-e/255)/(t/255)))}};function Qk(t,e,n){void 0===n&&(n="normal");var A,r=(A=function(t){if(!bk[t])throw new Error("unknown blend mode "+t);return bk[t]}(n),function(t,e){var n=[];return n[0]=A(t[0],e[0]),n[1]=A(t[1],e[1]),n[2]=A(t[2],e[2]),n})(Uk(t),Uk(e)),i=Uk(t),o=i[0],a=i[1],s=i[2],l=i[3],u=Uk(e),c=u[0],h=u[1],p=u[2],f=u[3],d=Number((l+f*(1-l)).toFixed(2)),g=Math.round((l*(1-f)*(o/255)+l*f*(r[0]/255)+(1-l)*f*(c/255))/d*255),y=Math.round((l*(1-f)*(a/255)+l*f*(r[1]/255)+(1-l)*f*(h/255))/d*255),v=Math.round((l*(1-f)*(s/255)+l*f*(r[2]/255)+(1-l)*f*(p/255))/d*255);return"rgba(".concat(g,", ").concat(y,", ").concat(v,", ").concat(d,")")}function Uk(t){var e,n=t.replace("/s+/g","");return"string"!=typeof n||n.startsWith("rgba")||n.startsWith("#")?(n.startsWith("rgba")&&(e=n.replace("rgba(","").replace(")","").split(",")),n.startsWith("#")&&(e=ys.rgb2arr(n).concat([1])),e.map((function(t,e){return 3===e?Number(t):0|t}))):ys.rgb2arr(ys.toRGB(n)).concat([1])}function Ek(t){for(var e=new Array(t),n=0;n<t;++n)e[n]=0;return e}function Mk(t,e){return Ek(t).map((function(){return Ek(e)}))}function Sk(t,e){for(var n=0,A=0;A<t.length;++A)n+=t[A]*e[A];return n}function Ik(t){return Math.sqrt(Sk(t,t))}function kk(t,e,n){for(var A=0;A<e.length;++A)t[A]=e[A]*n}function Lk(t,e,n,A,r){for(var i=0;i<t.length;++i)t[i]=e*n[i]+A*r[i]}function Hk(t,e,n){var A,r=(n=n||{}).maxIterations||200*e.length,i=n.nonZeroDelta||1.05,o=n.zeroDelta||.001,a=n.minErrorDelta||1e-6,s=n.minErrorDelta||1e-5,l=void 0!==n.rho?n.rho:1,u=void 0!==n.chi?n.chi:2,c=void 0!==n.psi?n.psi:-.5,h=void 0!==n.sigma?n.sigma:.5,p=e.length,f=new Array(p+1);f[0]=e,f[0].fx=t(e),f[0].id=0;for(var d=0;d<p;++d){var g=e.slice();g[d]=g[d]?g[d]*i:o,f[d+1]=g,f[d+1].fx=t(g),f[d+1].id=d+1}function y(t){for(var e=0;e<t.length;e++)f[p][e]=t[e];f[p].fx=t.fx}for(var v=function(t,e){return t.fx-e.fx},m=e.slice(),B=e.slice(),x=e.slice(),w=e.slice(),C=0;C<r;++C){if(f.sort(v),n.history){var F=f.map((function(t){var e=t.slice();return e.fx=t.fx,e.id=t.id,e}));F.sort((function(t,e){return t.id-e.id})),n.history.push({x:f[0].slice(),fx:f[0].fx,simplex:F})}for(A=0,d=0;d<p;++d)A=Math.max(A,Math.abs(f[0][d]-f[1][d]));if(Math.abs(f[0].fx-f[p].fx)<a&&A<s)break;for(d=0;d<p;++d){m[d]=0;for(var b=0;b<p;++b)m[d]+=f[b][d];m[d]/=p}var Q=f[p];if(Lk(B,1+l,m,-l,Q),B.fx=t(B),B.fx<f[0].fx)Lk(w,1+u,m,-u,Q),w.fx=t(w),w.fx<B.fx?y(w):y(B);else if(B.fx>=f[p-1].fx){var U=!1;if(B.fx>Q.fx?(Lk(x,1+c,m,-c,Q),x.fx=t(x),x.fx<Q.fx?y(x):U=!0):(Lk(x,1-c*l,m,c*l,Q),x.fx=t(x),x.fx<B.fx?y(x):U=!0),U){if(h>=1)break;for(d=1;d<f.length;++d)Lk(f[d],1-h,f[0],h,f[d]),f[d].fx=t(f[d])}}else y(B)}return f.sort(v),{fx:f[0].fx,x:f[0]}}function Tk(t,e,n,A,r,i,o){var a=n.fx,s=Sk(n.fxprime,e),l=a,u=a,c=s,h=0;function p(u,h,p){for(var f=0;f<16;++f)if(r=(u+h)/2,Lk(A.x,1,n.x,r,e),l=A.fx=t(A.x,A.fxprime),c=Sk(A.fxprime,e),l>a+i*r*s||l>=p)h=r;else{if(Math.abs(c)<=-o*s)return r;c*(h-u)>=0&&(h=u),u=r,p=l}return 0}r=r||1,i=i||1e-6,o=o||.1;for(var f=0;f<10;++f){if(Lk(A.x,1,n.x,r,e),l=A.fx=t(A.x,A.fxprime),c=Sk(A.fxprime,e),l>a+i*r*s||f&&l>=u)return p(h,r,u);if(Math.abs(c)<=-o*s)return r;if(c>=0)return p(r,h,l);u=l,h=r,r*=2}return r}function Dk(t,e,n){var A,r,i,o={x:e.slice(),fx:0,fxprime:e.slice()},a={x:e.slice(),fx:0,fxprime:e.slice()},s=e.slice(),l=1;i=(n=n||{}).maxIterations||20*e.length,o.fx=t(o.x,o.fxprime),kk(A=o.fxprime.slice(),o.fxprime,-1);for(var u=0;u<i;++u){if(l=Tk(t,A,o,a,l),n.history&&n.history.push({x:o.x.slice(),fx:o.fx,fxprime:o.fxprime.slice(),alpha:l}),l){Lk(s,1,a.fxprime,-1,o.fxprime);var c=Sk(o.fxprime,o.fxprime);Lk(A,Math.max(0,Sk(s,a.fxprime)/c),A,-1,a.fxprime),r=o,o=a,a=r}else kk(A,o.fxprime,-1);if(Ik(o.fxprime)<=1e-5)break}return n.history&&n.history.push({x:o.x.slice(),fx:o.fx,fxprime:o.fxprime.slice(),alpha:l}),o}var Pk=1e-10;function Ok(t,e){var n,A=function(t){for(var e=[],n=0;n<t.length;++n)for(var A=n+1;A<t.length;++A)for(var r=Gk(t[n],t[A]),i=0;i<r.length;++i){var o=r[i];o.parentIndex=[n,A],e.push(o)}return e}(t),r=A.filter((function(e){return function(t,e){for(var n=0;n<e.length;++n)if(Kk(t,e[n])>e[n].radius+Pk)return!1;return!0}(e,t)})),i=0,o=0,a=[];if(r.length>1){var s=Nk(r);for(n=0;n<r.length;++n){var l=r[n];l.angle=Math.atan2(l.x-s.x,l.y-s.y)}r.sort((function(t,e){return e.angle-t.angle}));var u=r[r.length-1];for(n=0;n<r.length;++n){var c=r[n];o+=(u.x+c.x)*(c.y-u.y);for(var h={x:(c.x+u.x)/2,y:(c.y+u.y)/2},p=null,f=0;f<c.parentIndex.length;++f)if(u.parentIndex.indexOf(c.parentIndex[f])>-1){var d=t[c.parentIndex[f]],g=Math.atan2(c.x-d.x,c.y-d.y),y=Math.atan2(u.x-d.x,u.y-d.y),v=y-g;v<0&&(v+=2*Math.PI);var m=y-v/2,B=Kk(h,{x:d.x+d.radius*Math.sin(m),y:d.y+d.radius*Math.cos(m)});B>2*d.radius&&(B=2*d.radius),(null===p||p.width>B)&&(p={circle:d,width:B,p1:c,p2:u})}null!==p&&(a.push(p),i+=Rk(p.circle.radius,p.width),u=c)}}else{var x=t[0];for(n=1;n<t.length;++n)t[n].radius<x.radius&&(x=t[n]);var w=!1;for(n=0;n<t.length;++n)if(Kk(t[n],x)>Math.abs(x.radius-t[n].radius)){w=!0;break}w?i=o=0:(i=x.radius*x.radius*Math.PI,a.push({circle:x,p1:{x:x.x,y:x.y+x.radius},p2:{x:x.x-Pk,y:x.y+x.radius},width:2*x.radius}))}return o/=2,e&&(e.area=i+o,e.arcArea=i,e.polygonArea=o,e.arcs=a,e.innerPoints=r,e.intersectionPoints=A),i+o}function Rk(t,e){return t*t*Math.acos(1-e/t)-(t-e)*Math.sqrt(e*(2*t-e))}function Kk(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))}function Vk(t,e,n){if(n>=t+e)return 0;if(n<=Math.abs(t-e))return Math.PI*Math.min(t,e)*Math.min(t,e);var A=e-(n*n-t*t+e*e)/(2*n);return Rk(t,t-(n*n-e*e+t*t)/(2*n))+Rk(e,A)}function Gk(t,e){var n=Kk(t,e),A=t.radius,r=e.radius;if(n>=A+r||n<=Math.abs(A-r))return[];var i=(A*A-r*r+n*n)/(2*n),o=Math.sqrt(A*A-i*i),a=t.x+i*(e.x-t.x)/n,s=t.y+i*(e.y-t.y)/n,l=-(e.y-t.y)*(o/n),u=-(e.x-t.x)*(o/n);return[{x:a+l,y:s-u},{x:a-l,y:s+u}]}function Nk(t){for(var e={x:0,y:0},n=0;n<t.length;++n)e.x+=t[n].x,e.y+=t[n].y;return e.x/=t.length,e.y/=t.length,e}function _k(t,e,n){var A,r,i=e[0].radius-Kk(e[0],t);for(A=1;A<e.length;++A)(r=e[A].radius-Kk(e[A],t))<=i&&(i=r);for(A=0;A<n.length;++A)(r=Kk(n[A],t)-n[A].radius)<=i&&(i=r);return i}function Xk(t,e){var n,A=[];for(n=0;n<t.length;++n){var r=t[n];A.push({x:r.x,y:r.y}),A.push({x:r.x+r.radius/2,y:r.y}),A.push({x:r.x-r.radius/2,y:r.y}),A.push({x:r.x,y:r.y+r.radius/2}),A.push({x:r.x,y:r.y-r.radius/2})}var i=A[0],o=_k(A[0],t,e);for(n=1;n<A.length;++n){var a=_k(A[n],t,e);a>=o&&(i=A[n],o=a)}var s=Hk((function(n){return-1*_k({x:n[0],y:n[1]},t,e)}),[i.x,i.y],{maxIterations:500,minErrorDelta:1e-10}).x,l={x:s[0],y:s[1]},u=!0;for(n=0;n<t.length;++n)if(Kk(l,t[n])>t[n].radius){u=!1;break}for(n=0;n<e.length;++n)if(Kk(l,e[n])<e[n].radius){u=!1;break}if(!u)if(1==t.length)l={x:t[0].x,y:t[0].y};else{var c={};Ok(t,c),l=0===c.arcs.length?{x:0,y:-1e3,disjoint:!0}:1==c.arcs.length?{x:c.arcs[0].circle.x,y:c.arcs[0].circle.y}:e.length?Xk(t,[]):Nk(c.arcs.map((function(t){return t.p1})))}return l}function Yk(t,e){for(var n={},A=function(t){var e={},n=[];for(var A in t)n.push(A),e[A]=[];for(var r=0;r<n.length;r++)for(var i=t[n[r]],o=r+1;o<n.length;++o){var a=t[n[o]],s=Kk(i,a);s+a.radius<=i.radius+1e-10?e[n[o]].push(n[r]):s+i.radius<=a.radius+1e-10&&e[n[r]].push(n[o])}return e}(t),r=0;r<e.length;++r){for(var i=e[r].sets,o={},a={},s=0;s<i.length;++s){o[i[s]]=!0;for(var l=A[i[s]],u=0;u<l.length;++u)a[l[u]]=!0}var c=[],h=[];for(var p in t)p in o?c.push(t[p]):p in a||h.push(t[p]);var f=Xk(c,h);n[i]=f,f.disjoint&&e[r].size>0&&console.log("WARNING: area "+i+" not represented on screen")}return n}var zk=1e-10;function Wk(t,e,n){return Math.min(t,e)*Math.min(t,e)*Math.PI<=n+zk?Math.abs(t-e):function(t,e,n,A){var r=(A=A||{}).maxIterations||100,i=A.tolerance||1e-10,o=t(e),a=t(n),s=n-e;if(o*a>0)throw"Initial bisect points must have opposite signs";if(0===o)return e;if(0===a)return n;for(var l=0;l<r;++l){var u=e+(s/=2),c=t(u);if(c*o>=0&&(e=u),Math.abs(s)<i||0===c)return u}return e+s}((function(A){return Vk(t,e,A)-n}),0,t+e)}function jk(t,e){var n=function(t,e){for(var n,A=e&&e.lossFunction?e.lossFunction:Jk,r={},i={},o=0;o<t.length;++o){var a=t[o];1==a.sets.length&&(n=a.sets[0],r[n]={x:1e10,y:1e10,rowid:Object.keys(r).length,size:a.size,radius:Math.sqrt(a.size/Math.PI)},i[n]=[])}t=t.filter((function(t){return 2==t.sets.length}));for(o=0;o<t.length;++o){var s=t[o],l=s.hasOwnProperty("weight")?s.weight:1,u=s.sets[0],c=s.sets[1];s.size+zk>=Math.min(r[u].size,r[c].size)&&(l=0),i[u].push({set:c,size:s.size,weight:l}),i[c].push({set:u,size:s.size,weight:l})}var h=[];for(n in i)if(i.hasOwnProperty(n)){var p=0;for(o=0;o<i[n].length;++o)p+=i[n][o].size*i[n][o].weight;h.push({set:n,size:p})}function f(t,e){return e.size-t.size}h.sort(f);var d={};function g(t){return t.set in d}function y(t,e){r[e].x=t.x,r[e].y=t.y,d[e]=!0}y({x:0,y:0},h[0].set);for(o=1;o<h.length;++o){var v=h[o].set,m=i[v].filter(g);if(n=r[v],m.sort(f),0===m.length)throw"ERROR: missing pairwise overlap information";for(var B=[],x=0;x<m.length;++x){var w=r[m[x].set],C=Wk(n.radius,w.radius,m[x].size);B.push({x:w.x+C,y:w.y}),B.push({x:w.x-C,y:w.y}),B.push({y:w.y+C,x:w.x}),B.push({y:w.y-C,x:w.x});for(var F=x+1;F<m.length;++F)for(var b=r[m[F].set],Q=Wk(n.radius,b.radius,m[F].size),U=Gk({x:w.x,y:w.y,radius:C},{x:b.x,y:b.y,radius:Q}),E=0;E<U.length;++E)B.push(U[E])}var M=1e50,S=B[0];for(x=0;x<B.length;++x){r[v].x=B[x].x,r[v].y=B[x].y;var I=A(r,t);I<M&&(M=I,S=B[x])}y(S,v)}return r}(t,e),A=e.lossFunction||Jk;if(t.length>=8){var r=function(t,e){e=e||{};var n,A=e.restarts||10,r=[],i={};for(n=0;n<t.length;++n){var o=t[n];1==o.sets.length&&(i[o.sets[0]]=r.length,r.push(o))}var a=function(t,e,n){var A=Mk(e.length,e.length),r=Mk(e.length,e.length);return t.filter((function(t){return 2==t.sets.length})).map((function(t){var i=n[t.sets[0]],o=n[t.sets[1]],a=Wk(Math.sqrt(e[i].size/Math.PI),Math.sqrt(e[o].size/Math.PI),t.size);A[i][o]=A[o][i]=a;var s=0;t.size+1e-10>=Math.min(e[i].size,e[o].size)?s=1:t.size<=1e-10&&(s=-1),r[i][o]=r[o][i]=s})),{distances:A,constraints:r}}(t,r,i),s=a.distances,l=a.constraints,u=Ik(s.map(Ik))/s.length;s=s.map((function(t){return t.map((function(t){return t/u}))}));var c,h,p=function(t,e){return function(t,e,n,A){var r,i=0;for(r=0;r<e.length;++r)e[r]=0;for(r=0;r<n.length;++r)for(var o=t[2*r],a=t[2*r+1],s=r+1;s<n.length;++s){var l=t[2*s],u=t[2*s+1],c=n[r][s],h=A[r][s],p=(l-o)*(l-o)+(u-a)*(u-a),f=Math.sqrt(p),d=p-c*c;h>0&&f<=c||h<0&&f>=c||(i+=2*d*d,e[2*r]+=4*d*(o-l),e[2*r+1]+=4*d*(a-u),e[2*s]+=4*d*(l-o),e[2*s+1]+=4*d*(u-a))}return i}(t,e,s,l)};for(n=0;n<A;++n){h=Dk(p,Ek(2*s.length).map(Math.random),e),(!c||h.fx<c.fx)&&(c=h)}var f=c.x,d={};for(n=0;n<r.length;++n){var g=r[n];d[g.sets[0]]={x:f[2*n]*u,y:f[2*n+1]*u,radius:Math.sqrt(g.size/Math.PI)}}if(e.history)for(n=0;n<e.history.length;++n)kk(e.history[n].x,u);return d}(t,e);A(r,t)+1e-8<A(n,t)&&(n=r)}return n}function Jk(t,e){var n=0;for(var A=0;A<e.length;++A){var r=e[A],i=void 0;if(1!=r.sets.length){if(2==r.sets.length){var o=t[r.sets[0]],a=t[r.sets[1]];i=Vk(o.radius,a.radius,Kk(o,a))}else i=Ok(r.sets.map((function(e){return t[e]})));n+=(r.hasOwnProperty("weight")?r.weight:1)*(i-r.size)*(i-r.size)}}return n}function qk(t,e,n,A){var r=[],i=[];for(var o in t)t.hasOwnProperty(o)&&(i.push(o),r.push(t[o]));e-=2*A,n-=2*A;var a=function(t){var e=function(e){return{max:Math.max.apply(null,t.map((function(t){return t[e]+t.radius}))),min:Math.min.apply(null,t.map((function(t){return t[e]-t.radius})))}};return{xRange:e("x"),yRange:e("y")}}(r),s=a.xRange,l=a.yRange;if(s.max==s.min||l.max==l.min)return console.log("not scaling solution: zero size detected"),t;for(var u=e/(s.max-s.min),c=n/(l.max-l.min),h=Math.min(c,u),p=(e-(s.max-s.min)*h)/2,f=(n-(l.max-l.min)*h)/2,d={},g=0;g<r.length;++g){var y=r[g];d[i[g]]={radius:h*y.radius,x:A+p+(y.x-s.min)*h,y:A+f+(y.y-l.min)*h}}return d}var Zk=Je((function(t,e,n,A){var r=new Map,i=t.length;return e.forEach((function(e,o){if(1===e[A].length)r.set(e[uk],t[(o+i)%i]);else{var a=e[A].map((function(t){return r.get(t)}));r.set(e[uk],a.slice(1).reduce((function(t,e){return Qk(t,e,n)}),a[0]))}})),r}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return JSON.stringify(t)}));function $k(t,e,n,A){void 0===A&&(A=0);var r=t.data,i=t.setsField,o=t.sizeField;if(0===r.length)return Bx(dx.WARN,!1,"warn: %s","数据不能为空"),[];var a=r.map((function(t){var e;return Dt(Dt({},t),((e={sets:t[i]||[],size:t[o]})[ck]="",e[uk]="",e))}));a.sort((function(t,e){return t.sets.length-e.sets.length}));var s=function(t,e){(e=e||{}).maxIterations=e.maxIterations||500;var n=e.initialLayout||jk,A=e.lossFunction||Jk;t=function(t){t=t.slice();var e,n,A,r,i=[],o={};for(e=0;e<t.length;++e){var a=t[e];1==a.sets.length?i.push(a.sets[0]):2==a.sets.length&&(o[[A=a.sets[0],r=a.sets[1]]]=!0,o[[r,A]]=!0)}for(i.sort((function(t,e){return t>e?1:-1})),e=0;e<i.length;++e)for(A=i[e],n=e+1;n<i.length;++n)[A,r=i[n]]in o||t.push({sets:[A,r],size:0});return t}(t);var r,i=n(t,e),o=[],a=[];for(r in i)i.hasOwnProperty(r)&&(o.push(i[r].x),o.push(i[r].y),a.push(r));for(var s=Hk((function(e){for(var n={},r=0;r<a.length;++r){var o=a[r];n[o]={x:e[2*r],y:e[2*r+1],radius:i[o].radius}}return A(n,t)}),o,e).x,l=0;l<a.length;++l)r=a[l],i[r].x=s[2*l],i[r].y=s[2*l+1];return i}(a),l=qk(s,e,n,A),u=Yk(l,a);return a.forEach((function(t){var e=t.sets,n=e.join(",");t[uk]=n;var A=function(t){var e={};Ok(t,e);var n=e.arcs;if(0===n.length)return"M 0 0";if(1==n.length){var A=n[0].circle;return function(t,e,n){var A=[],r=t-n,i=e;return A.push("M",r,i),A.push("A",n,n,0,1,0,r+2*n,i),A.push("A",n,n,0,1,0,r,i),A.join(" ")}(A.x,A.y,A.radius)}for(var r=["\nM",n[0].p2.x,n[0].p2.y],i=0;i<n.length;++i){var o=n[i],a=o.circle.radius,s=o.width>a;r.push("\nA",a,a,0,s?1:0,1,o.p1.x,o.p1.y)}return r.join(" ")}(e.map((function(t){return l[t]})));/[zZ]$/.test(A)||(A+=" Z"),t[ck]=A,ze(t,u[n]||{x:0,y:0})})),a}var tL=40;function eL(t,e,n){var A=t.chart,r=t.options,i=r.blendMode,o=r.setsField,a=A.getTheme(),s=a.colors10,l=a.colors20,u=n;qt(u)||(u=e.filter((function(t){return 1===t[o].length})).length<=10?s:l);var c=Zk(u,e,i,o);return function(t){return c.get(t)||u[0]}}function nL(t){var e=t.chart,n=t.options,A=n.legend,r=n.appendPadding,i=n.padding,o=Kx(r);return!1!==A&&(o=Vx(r,on(A,"position"),tL)),e.appendPadding=Gx([o,i]),t}function AL(t){var e=t.options.data;e||(Bx(dx.WARN,!1,"warn: %s","数据不能为空"),e=[]);var n=e.filter((function(t){return 1===t.sets.length})).map((function(t){return t.sets[0]})),A=e.filter((function(t){var e=t.sets;return function(t,e){for(var n=0;n<e.length;n++)if(!t.includes(e[n]))return!1;return!0}(n,e)}));return nn(A,e)||Bx(dx.WARN,!1,"warn: %s","交集中不能出现不存在的集合, 请输入合法数据"),Ze({},t,{options:{data:A}})}function rL(t){var e=t.chart,n=t.options,A=n.pointStyle,r=n.setsField,i=n.sizeField,o=Kx(e.appendPadding),a=o[0],s=o[1],l=o[2],u=o[3],c={offsetX:u,offsetY:a},h=e.viewBBox,p=h.width,f=h.height,d=$k(n,Math.max(p-(s+u),0),Math.max(f-(a+l),0),0);e.data(d);var g=Kw(Ix({},t,{options:{xField:"x",yField:"y",sizeField:i,seriesField:uk,rawFields:[r,i],schema:{shape:"venn",style:A}}})).ext.geometry;g.customInfo(c);var y=function(t,e){var n=t.options.color;if("function"!=typeof n){var A=eL(t,e,"string"==typeof n?[n]:n);return function(t){return A(t[uk])}}return n}(t,d);return"function"==typeof y&&g.color(uk,(function(e){var n=d.find((function(t){return t[uk]===e})),A=eL(t,d)(e);return y(n,A)})),t}function iL(t){var e=t.chart,n=t.options.label,A=Kx(e.appendPadding),r=A[0],i={offsetX:A[3],offsetY:r},o=Hx(e,"schema");if(n){var a=n.callback,s=Pt(n,["callback"]);o.label({fields:["id"],callback:a,cfg:Ze({},Ox(s),{type:"venn",customLabelInfo:i})})}else o.label(!1);return t}function oL(t){var e=t.chart,n=t.options,A=n.legend,r=n.sizeField;return e.legend(uk,A),e.legend(r,!1),t}function aL(t){return t.chart.axis(!1),t}function sL(t){var e=t.options,n=t.chart,A=e.interactions;if(A){var r={"legend-active":"venn-legend-active","legend-highlight":"venn-legend-highlight"};gw(Ix({},t,{options:{interactions:A.map((function(t){return Dt(Dt({},t),{type:r[t.type]||t.type})}))}}))}return n.removeInteraction("legend-active"),n.removeInteraction("legend-highlight"),t}function lL(t){return Lx(nL,vw,AL,rL,iL,ww({}),oL,aL,dw,sL,yw)(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="venn",e}Tt(e,t),e.getDefaultOptions=function(){return hk},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return lL},e.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))}}(hC);var uL,cL,hL="x",pL="violinY",fL="violinSize",dL="minMax",gL="quantile",yL="median",vL="violin_view",mL="min_max_view",BL="quantile_view",xL="median_view",wL=Ix({},hC.getDefaultOptions(),{syncViewPadding:!0,kde:{type:"triangular",sampleSize:32,width:3},violinStyle:{lineWidth:1,fillOpacity:.3,strokeOpacity:.75},xAxis:{grid:{line:null},tickLine:{alignTick:!1}},yAxis:{grid:{line:{style:{lineWidth:.5,lineDash:[4,4]}}}},legend:{position:"top-left"},tooltip:{showMarkers:!1}}),CL={exports:{}},FL={exports:{}};cL=(uL=FL).exports,uL.exports.isNumber=function(t){return"number"==typeof t},uL.exports.findMin=function(t){if(0===t.length)return 1/0;for(var e=t[0],n=1;n<t.length;n++)e=Math.min(e,t[n]);return e},uL.exports.findMax=function(t){if(0===t.length)return-1/0;for(var e=t[0],n=1;n<t.length;n++)e=Math.max(e,t[n]);return e},uL.exports.findMinMulti=function(t){for(var e=cL.findMin(t[0]),n=1;n<t.length;n++)e=Math.min(e,cL.findMin(t[n]));return e},uL.exports.findMaxMulti=function(t){for(var e=cL.findMax(t[0]),n=1;n<t.length;n++)e=Math.max(e,cL.findMax(t[n]));return e},uL.exports.inside=function(t,e,n){return t<=n&&n<=e};var bL=FL.exports;!function(t){var e=Math.log(2),n=t.exports,A=bL;function r(t){return 1-Math.abs(t)}t.exports.getUnifiedMinMax=function(t,e){return n.getUnifiedMinMaxMulti([t],e)},t.exports.getUnifiedMinMaxMulti=function(t,e){e=e||{};var n=!1,r=!1,i=A.isNumber(e.width)?e.width:2,o=A.isNumber(e.size)?e.size:50,a=A.isNumber(e.min)?e.min:(n=!0,A.findMinMulti(t)),s=A.isNumber(e.max)?e.max:(r=!0,A.findMaxMulti(t)),l=(s-a)/(o-1);return n&&(a-=2*i*l),r&&(s+=2*i*l),{min:a,max:s}},t.exports.create=function(t,e){if(e=e||{},!t||0===t.length)return[];var i=A.isNumber(e.size)?e.size:50,o=A.isNumber(e.width)?e.width:2,a=n.getUnifiedMinMax(t,{size:i,width:o,min:e.min,max:e.max}),s=a.min,l=a.max-s,u=l/(i-1);if(0===l)return[{x:s,y:1}];for(var c=[],h=0;h<i;h++)c.push({x:s+h*u,y:0});var p=function(t,e){for(var n={},A=0,r=-e;r<=e;r++)A+=t(r/e),n[r]=A;return n}(r,o),f=p[o],d=p[o-1]-p[o-2],g=0;t.forEach((function(t){var e=function(t){return Math.floor((t-s)/u)}(t);if(!(e+o<0||e-o>=c.length)){var n=Math.max(e-o,0),r=e,i=Math.min(e+o,c.length-1),a=n-(e-o),l=e+o-i,h=p[-o-1+a]||0,y=p[-o-1+l]||0,v=f/(f-h-y);a>0&&(g+=v*(a-1)*d);var m=Math.max(0,e-o+1);A.inside(0,c.length-1,m)&&(c[m].y+=1*v*d),A.inside(0,c.length-1,r+1)&&(c[r+1].y-=2*v*d),A.inside(0,c.length-1,i+1)&&(c[i+1].y+=1*v*d)}}));var y=g,v=0,m=0;return c.forEach((function(t){v+=t.y,y+=v,t.y=y,m+=y})),m>0&&c.forEach((function(t){t.y/=m})),c},t.exports.getExpectedValueFromPdf=function(t){if(t&&0!==t.length){var e=0;return t.forEach((function(t){e+=t.x*t.y})),e}},t.exports.getXWithLeftTailArea=function(t,e){if(t&&0!==t.length){for(var n=0,A=0,r=0;r<t.length&&(A=r,!((n+=t[r].y)>=e));r++);return t[A].x}},t.exports.getPerplexity=function(t){if(t&&0!==t.length){var n=0;return t.forEach((function(t){var e=Math.log(t.y);isFinite(e)&&(n+=t.y*e)})),n=-n/e,Math.pow(2,n)}}}(CL);const QL=Vw(CL.exports);function UL(t,e){var n=t.length*e;if(0===t.length)throw new Error("quantile requires at least one data point.");if(e<0||e>1)throw new Error("quantiles must be between 0 and 1");return 1===e?t[t.length-1]:0===e?t[0]:n%1!=0?t[Math.ceil(n)-1]:t.length%2==0?(t[n-1]+t[n])/2:t[n]}function EL(t,e,n){var A=t[e];t[e]=t[n],t[n]=A}function ML(t,e,n,A){for(n=n||0,A=A||t.length-1;A>n;){if(A-n>600){var r=A-n+1,i=e-n+1,o=Math.log(r),a=.5*Math.exp(2*o/3),s=.5*Math.sqrt(o*a*(r-a)/r);i-r/2<0&&(s*=-1),ML(t,e,Math.max(n,Math.floor(e-i*a/r+s)),Math.min(A,Math.floor(e+(r-i)*a/r+s)))}var l=t[e],u=n,c=A;for(EL(t,n,e),t[A]>l&&EL(t,n,A);u<c;){for(EL(t,u,c),u++,c--;t[u]<l;)u++;for(;t[c]>l;)c--}t[n]===l?EL(t,n,c):EL(t,++c,A),c<=e&&(n=c+1),e<=c&&(A=c-1)}}function SL(t,e){var n=t.slice();if(Array.isArray(e)){!function(t,e){for(var n=[0],A=0;A<e.length;A++)n.push(LL(t.length,e[A]));n.push(t.length-1),n.sort(kL);var r=[0,n.length-1];for(;r.length;){var i=Math.ceil(r.pop()),o=Math.floor(r.pop());if(!(i-o<=1)){var a=Math.floor((o+i)/2);IL(t,n[a],Math.floor(n[o]),Math.ceil(n[i])),r.push(o,a,a,i)}}}(n,e);for(var A=[],r=0;r<e.length;r++)A[r]=UL(n,e[r]);return A}return IL(n,LL(n.length,e),0,n.length-1),UL(n,e)}function IL(t,e,n,A){e%1==0?ML(t,e,n,A):(ML(t,e=Math.floor(e),n,A),ML(t,e+1,e+1,A))}function kL(t,e){return t-e}function LL(t,e){var n=t*e;return 1===e?t-1:0===e?0:n%1!=0?Math.ceil(n)-1:t%2==0?n-.5:n}var HL=function(t){return{low:se(t),high:ae(t),q1:SL(t,.25),q3:SL(t,.75),median:SL(t,[.5]),minMax:[se(t),ae(t)],quantile:[SL(t,.25),SL(t,.75)]}},TL=function(t,e){var n=QL.create(t,e);return{violinSize:n.map((function(t){return t.y})),violinY:n.map((function(t){return t.x}))}},DL=function(t){var e=t.xField,n=t.yField,A=t.seriesField,r=t.data,i=t.kde,o={min:i.min,max:i.max,size:i.sampleSize,width:i.width};if(!A){var a=xe(r,e);return Object.keys(a).map((function(t){var e=a[t].map((function(t){return t[n]}));return Dt(Dt({x:t},TL(e,o)),HL(e))}))}var s=[],l=xe(r,A);return Object.keys(l).forEach((function(t){var r=xe(l[t],e);return Object.keys(r).forEach((function(e){var i,a=r[e].map((function(t){return t[n]}));s.push(Dt(Dt(((i={x:e})[A]=t,i),TL(a,o)),HL(a)))}))})),s},PL=["low","high","q1","q3","median"],OL=[{type:"dodge",marginRatio:1/32}];function RL(t){var e=t.chart,n=t.options;return e.data(DL(n)),t}function KL(t){var e=t.chart,n=t.options,A=n.seriesField,r=n.color,i=n.shape,o=void 0===i?"violin":i,a=n.violinStyle,s=n.tooltip,l=n.state,u=e.createView({id:vL});return function(t){var e=t.options,n=e.violin,A=e.xField,r=e.yField,i=e.seriesField,o=e.sizeField,a=Sw(e.tooltip,[A,r,i,o]),s=a.fields,l=a.formatter;n&&Lw(Ix({},t,{options:{type:"violin",colorField:i,tooltipFields:s,mapping:Dt({tooltip:l},n)}}))}({chart:u,options:{xField:hL,yField:pL,seriesField:A||hL,sizeField:fL,tooltip:Dt({fields:PL},s),violin:{style:a,color:r,shape:o},state:l}}),u.geometries[0].adjust(OL),t}function VL(t){var e=t.chart,n=t.options,A=n.seriesField,r=n.color,i=n.tooltip,o=n.box;if(!1===o)return t;var a=e.createView({id:mL});Dw({chart:a,options:{xField:hL,yField:dL,seriesField:A||hL,tooltip:Dt({fields:PL},i),state:"object"==typeof o?o.state:{},interval:{color:r,size:1,style:{lineWidth:0}}}}),a.geometries[0].adjust(OL);var s=e.createView({id:BL});Dw({chart:s,options:{xField:hL,yField:gL,seriesField:A||hL,tooltip:Dt({fields:PL},i),state:"object"==typeof o?o.state:{},interval:{color:r,size:8,style:{fillOpacity:1}}}}),s.geometries[0].adjust(OL);var l=e.createView({id:xL});return Ow({chart:l,options:{xField:hL,yField:yL,seriesField:A||hL,tooltip:Dt({fields:PL},i),state:"object"==typeof o?o.state:{},point:{color:r,size:1,style:{fill:"white",lineWidth:0}}}}),l.geometries[0].adjust(OL),s.axis(!1),a.axis(!1),l.axis(!1),l.legend(!1),a.legend(!1),s.legend(!1),t}function GL(t){var e,n=t.chart,A=t.options,r=A.meta,i=A.xAxis,o=A.yAxis,a=Ix({},r,((e={})[hL]=Dt(Dt({sync:!0},xx(i,yx)),{type:"cat"}),e[pL]=Dt({sync:!0},xx(o,yx)),e[dL]=Dt({sync:pL},xx(o,yx)),e[gL]=Dt({sync:pL},xx(o,yx)),e[yL]=Dt({sync:pL},xx(o,yx)),e));return n.scale(a),t}function NL(t){var e=t.chart,n=t.options,A=n.xAxis,r=n.yAxis,i=Jx(e,vL);return!1===A?i.axis(hL,!1):i.axis(hL,A),!1===r?i.axis(pL,!1):i.axis(pL,r),e.axis(!1),t}function _L(t){var e=t.chart,n=t.options,A=n.legend,r=n.seriesField,i=n.shape;if(!1===A)e.legend(!1);else{var o=r||hL,a=un(A,["selected"]);i&&i.startsWith("hollow")||on(a,["marker","style","lineWidth"])||an(a,["marker","style","lineWidth"],0),e.legend(o,a),on(A,"selected")&&$t(e.views,(function(t){return t.legend(o,A)}))}return t}function XL(t){var e=Jx(t.chart,vL);return Cw()(Dt(Dt({},t),{chart:e})),t}function YL(t){var e=t.chart,n=t.options.animation;return $t(e.views,(function(t){$x(t,n)})),t}function zL(t){return Lx(vw,RL,KL,VL,GL,dw,NL,_L,gw,XL,YL)(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="violin",e}Tt(e,t),e.getDefaultOptions=function(){return wL},e.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(DL(this.options))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return zL}}(hC);var WL="$$yField$$",jL="$$diffField$$",JL="$$absoluteField$$",qL="$$isTotal$$",ZL={label:{},leaderLine:{style:{lineWidth:1,stroke:"#8c8c8c",lineDash:[4,2]}},total:{style:{fill:"rgba(0, 0, 0, 0.25)"}},interactions:[{type:"element-active"}],risingFill:"#f4664a",fallingFill:"#30bf78",waterfallStyle:{fill:"rgba(0, 0, 0, 0.25)"},yAxis:{grid:{line:{style:{lineDash:[4,2]}}}}};function $L(t,e,n,A){var r=function(t,e,n,A,r){var i,o=[];if(ce(t,(function(t,e){var r;Bx(dx.WARN,be(e[n]),"".concat(e[n]," is not a valid number"));var i=_e(e[n])?null:e[n];return o.push(Dt(Dt({},e),((r={})[A]=[t,t+i],r))),t+i}),0),o.length&&r){var a=on(o,[[t.length-1],A,[1]]);o.push(((i={})[e]=r.label,i[n]=a,i[A]=[0,a],i))}return o}(t,e,n,WL,A);return r.map((function(e,n){var A;return Zt(e)?Dt(Dt({},e),((A={})[JL]=e[WL][1],A[jL]=e[WL][1]-e[WL][0],A[qL]=n===t.length,A)):e}))}function tH(t){var e=t.options,n=e.locale,A=e.total,r=Mw(n).get(["waterfall","total"]);return A&&"string"!=typeof A.label&&r&&(t.options.total.label=r),t}function eH(t){var e=t.chart,n=t.options,A=n.data,r=n.xField,i=n.yField,o=n.total,a=n.leaderLine,s=n.columnWidthRatio,l=n.waterfallStyle,u=n.risingFill,c=n.fallingFill,h=n.color,p=n.shape,f=n.customInfo;return e.data($L(A,r,i,o)),Dw(Ix({},t,{options:{xField:r,yField:WL,seriesField:r,rawFields:[i,jL,qL,WL],widthRatio:s,interval:{style:l,shape:p||"waterfall",color:h||function(t){return on(t,[qL])?on(o,["style","fill"],""):on(t,[WL,1])-on(t,[WL,0])>0?u:c}}}})).ext.geometry.customInfo(Dt(Dt({},f),{leaderLine:a})),t}function nH(t){var e,n,A=t.options,r=A.xAxis,i=A.yAxis,o=A.xField,a=A.yField,s=A.meta,l=Ix({},{alias:a},on(s,a));return Lx(ww(((e={})[o]=r,e[a]=i,e[WL]=i,e),Ix({},s,((n={})[WL]=l,n[jL]=l,n[JL]=l,n))))(t)}function AH(t){var e=t.chart,n=t.options,A=n.xAxis,r=n.yAxis,i=n.xField,o=n.yField;return!1===A?e.axis(i,!1):e.axis(i,A),!1===r?(e.axis(o,!1),e.axis(WL,!1)):(e.axis(o,r),e.axis(WL,r)),t}function rH(t){var e=t.chart,n=t.options,A=n.legend,r=n.total,i=n.risingFill,o=n.fallingFill,a=Mw(n.locale);if(!1===A)e.legend(!1);else{var s=[{name:a.get(["general","increase"]),value:"increase",marker:{symbol:"square",style:{r:5,fill:i}}},{name:a.get(["general","decrease"]),value:"decrease",marker:{symbol:"square",style:{r:5,fill:o}}}];r&&s.push({name:r.label||"",value:"total",marker:{symbol:"square",style:Ix({},{r:5},on(r,"style"))}}),e.legend(Ix({},{custom:!0,position:"top",items:s},A)),e.removeInteraction("legend-filter")}return t}function iH(t){var e=t.chart,n=t.options,A=n.label,r=n.labelMode,i=n.xField,o=Hx(e,"interval");if(A){var a=A.callback,s=Pt(A,["callback"]);o.label({fields:"absolute"===r?[JL,i]:[jL,i],callback:a,cfg:Ox(s)})}else o.label(!1);return t}function oH(t){var e=t.chart,n=t.options,A=n.tooltip,r=n.xField,i=n.yField;if(!1!==A){e.tooltip(Dt({showCrosshairs:!1,showMarkers:!1,shared:!0,fields:[i]},A));var o=e.geometries[0];(null==A?void 0:A.formatter)?o.tooltip("".concat(r,"*").concat(i),A.formatter):o.tooltip(i)}else e.tooltip(!1);return t}function aH(t){return Lx(tH,vw,eH,nH,AH,rH,oH,iH,mw,gw,yw,Cw())(t)}ed("interval","waterfall",{draw:function(t,e){var n=t.customInfo,A=t.points,r=t.nextPoints,i=e.addGroup(),o=this.parsePath(function(t){for(var e=[],n=0;n<t.length;n++){var A=t[n];if(A){var r=0===n?"M":"L";e.push([r,A.x,A.y])}}var i=t[0];return e.push(["L",i.x,i.y]),e.push(["z"]),e}(A)),a=function(t){return Ix({},t.defaultStyle,t.style,{fill:t.color})}(t);i.addShape("path",{attrs:Dt(Dt({},a),{path:o})});var s=on(n,"leaderLine");if(s&&r){var l=[["M",A[2].x,A[2].y],["L",r[0].x,r[0].y]];A[2].y===r[1].y&&(l[1]=["L",r[1].x,r[1].y]),l=this.parsePath(l),i.addShape("path",{attrs:Dt({path:l},s.style||{})})}return i}}),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="waterfall",e}Tt(e,t),e.getDefaultOptions=function(){return ZL},e.prototype.changeData=function(t){var e=this.options,n=e.xField,A=e.yField,r=e.total;this.updateOption({data:t}),this.chart.changeData($L(t,n,A,r))},e.prototype.getSchemaAdaptor=function(){return aH},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()}}(hC);var sH="color",lH=Ix({},hC.getDefaultOptions(),{timeInterval:2e3,legend:!1,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!1,fields:["text","value",sH],formatter:function(t){return{name:t.text,value:t.value}}},wordStyle:{fontFamily:"Verdana",fontWeight:"normal",padding:1,fontSize:[12,60],rotation:[0,90],rotationSteps:2,rotateRatio:.5}}),uH={font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:3e3};function cH(t,e){return function(t,e){var n=function(){var t=[256,256],e=gH,n=vH,A=yH,r=mH,i=BH,o=bH,a=Math.random,s=[],l=1/0,u=dH,c=yH,h=UH,p={};function f(t){t.width=t.height=1;var e=Math.sqrt(t.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,1,1).data.length>>2);t.width=(pH<<5)/e,t.height=fH/e;var n=t.getContext("2d",{willReadFrequently:!0});return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:e}}function d(e,n,A){for(var r,i,s,l=n.x,u=n.y,c=Math.sqrt(t[0]*t[0]+t[1]*t[1]),h=o(t),p=a()<.5?1:-1,f=-p;(r=h(f+=p))&&(i=~~r[0],s=~~r[1],!(Math.min(Math.abs(i),Math.abs(s))>=c));)if(n.x=l+i,n.y=u+s,!(n.x+n.x0<0||n.y+n.y0<0||n.x+n.x1>t[0]||n.y+n.y1>t[1])&&(!A||!wH(n,e,t[0]))&&(!A||FH(n,A))){for(var d=n.sprite,g=n.width>>5,y=t[0]>>5,v=n.x-(g<<4),m=127&v,B=32-m,x=n.y1-n.y0,w=void 0,C=(n.y+n.y0)*y+(v>>5),F=0;F<x;F++){w=0;for(var b=0;b<=g;b++)e[C+b]|=w<<B|(b<g?(w=d[F*g+b])>>>m:0);C+=y}return delete n.sprite,!0}return!1}return p.start=function(){var o=t[0],g=t[1],y=f(h()),v=p.board?p.board:QH((t[0]>>5)*t[1]),m=s.length,B=[],x=s.map((function(t,o,a){return t.text=u.call(this,t,o,a),t.font=e.call(this,t,o,a),t.style=c.call(this,t,o,a),t.weight=A.call(this,t,o,a),t.rotate=r.call(this,t,o,a),t.size=~~n.call(this,t,o,a),t.padding=i.call(this,t,o,a),t})).sort((function(t,e){return e.size-t.size})),w=-1,C=p.board?[{x:0,y:0},{x:o,y:g}]:null;function F(){for(var e=Date.now();Date.now()-e<l&&++w<m;){var n=x[w];n.x=o*(a()+.5)>>1,n.y=g*(a()+.5)>>1,xH(y,n,x,w),n.hasText&&d(v,n,C)&&(B.push(n),C?p.hasImage||CH(C,n):C=[{x:n.x+n.x0,y:n.y+n.y0},{x:n.x+n.x1,y:n.y+n.y1}],n.x-=t[0]>>1,n.y-=t[1]>>1)}p._tags=B,p._bounds=C}return F(),p},p.createMask=function(e){var n=document.createElement("canvas"),A=t[0],r=t[1];if(A&&r){var i=A>>5,o=QH((A>>5)*r);n.width=A,n.height=r;var a=n.getContext("2d");a.drawImage(e,0,0,e.width,e.height,0,0,A,r);for(var s=a.getImageData(0,0,A,r).data,l=0;l<r;l++)for(var u=0;u<A;u++){var c=i*l+(u>>5),h=l*A+u<<2,f=s[h]>=250&&s[h+1]>=250&&s[h+2]>=250?1<<31-u%32:0;o[c]|=f}p.board=o,p.hasImage=!0}},p.timeInterval=function(t){l=null==t?1/0:t},p.words=function(t){s=t},p.size=function(e){t=[+e[0],+e[1]]},p.font=function(t){e=EH(t)},p.fontWeight=function(t){A=EH(t)},p.rotate=function(t){r=EH(t)},p.spiral=function(t){o=MH[t]||t},p.fontSize=function(t){n=EH(t)},p.padding=function(t){i=EH(t)},p.random=function(t){a=EH(t)},p}();["font","fontSize","fontWeight","padding","rotate","size","spiral","timeInterval","random"].forEach((function(t){Jt(e[t])||n[t](e[t])})),n.words(t),e.imageMask&&n.createMask(e.imageMask);var A=n.start()._tags;A.forEach((function(t){t.x+=e.size[0]/2,t.y+=e.size[1]/2}));var r=e.size,i=r[0],o=r[1];return A.push({text:"",value:0,x:0,y:0,opacity:0}),A.push({text:"",value:0,x:i,y:o,opacity:0}),A}(t,e=ze({},uH,e))}var hH=Math.PI/180,pH=64,fH=2048;function dH(t){return t.text}function gH(){return"serif"}function yH(){return"normal"}function vH(t){return t.value}function mH(){return 90*~~(2*Math.random())}function BH(){return 1}function xH(t,e,n,A){if(!e.sprite){var r=t.context,i=t.ratio;r.clearRect(0,0,(pH<<5)/i,fH/i);var o=0,a=0,s=0,l=n.length;for(--A;++A<l;){e=n[A],r.save(),r.font=e.style+" "+e.weight+" "+~~((e.size+1)/i)+"px "+e.font;var u=r.measureText(e.text+"m").width*i,c=e.size<<1;if(e.rotate){var h=Math.sin(e.rotate*hH),p=Math.cos(e.rotate*hH),f=u*p,d=u*h,g=c*p,y=c*h;u=Math.max(Math.abs(f+y),Math.abs(f-y))+31>>5<<5,c=~~Math.max(Math.abs(d+g),Math.abs(d-g))}else u=u+31>>5<<5;if(c>s&&(s=c),o+u>=pH<<5&&(o=0,a+=s,s=0),a+c>=fH)break;r.translate((o+(u>>1))/i,(a+(c>>1))/i),e.rotate&&r.rotate(e.rotate*hH),r.fillText(e.text,0,0),e.padding&&(r.lineWidth=2*e.padding,r.strokeText(e.text,0,0)),r.restore(),e.width=u,e.height=c,e.xoff=o,e.yoff=a,e.x1=u>>1,e.y1=c>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,o+=u}for(var v=r.getImageData(0,0,(pH<<5)/i,fH/i).data,m=[];--A>=0;)if((e=n[A]).hasText){for(var B=(u=e.width)>>5,x=(c=e.y1-e.y0,0);x<c*B;x++)m[x]=0;if(null==(o=e.xoff))return;a=e.yoff;for(var w=0,C=-1,F=0;F<c;F++){for(x=0;x<u;x++){var b=B*F+(x>>5),Q=v[(a+F)*(pH<<5)+(o+x)<<2]?1<<31-x%32:0;m[b]|=Q,w|=Q}w?C=F:(e.y0++,c--,F--,a++)}e.y1=e.y0+C,e.sprite=m.slice(0,(e.y1-e.y0)*B)}}}function wH(t,e,n){n>>=5;for(var A,r=t.sprite,i=t.width>>5,o=t.x-(i<<4),a=127&o,s=32-a,l=t.y1-t.y0,u=(t.y+t.y0)*n+(o>>5),c=0;c<l;c++){A=0;for(var h=0;h<=i;h++)if((A<<s|(h<i?(A=r[c*i+h])>>>a:0))&e[u+h])return!0;u+=n}return!1}function CH(t,e){var n=t[0],A=t[1];e.x+e.x0<n.x&&(n.x=e.x+e.x0),e.y+e.y0<n.y&&(n.y=e.y+e.y0),e.x+e.x1>A.x&&(A.x=e.x+e.x1),e.y+e.y1>A.y&&(A.y=e.y+e.y1)}function FH(t,e){return t.x+t.x1>e[0].x&&t.x+t.x0<e[1].x&&t.y+t.y1>e[0].y&&t.y+t.y0<e[1].y}function bH(t){var e=t[0]/t[1];return function(t){return[e*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function QH(t){for(var e=[],n=-1;++n<t;)e[n]=0;return e}function UH(){return document.createElement("canvas")}function EH(t){return jt(t)?t:function(){return t}}var MH={archimedean:bH,rectangular:function(t){var e=4*t[0]/t[1],n=0,A=0;return function(t){var r=t<0?-1:1;switch(Math.sqrt(1+4*r*t)-r&3){case 0:n+=e;break;case 1:A+=4;break;case 2:n-=e;break;default:A-=4}return[n,A]}}};function SH(t){var e=t.options,n=t.chart,A=n,r=A.width,i=A.height,o=A.padding,a=A.appendPadding,s=A.ele,l=e.data,u=e.imageMask,c=e.wordField,h=e.weightField,p=e.colorField,f=e.wordStyle,d=e.timeInterval,g=e.random,y=e.spiral,v=e.autoFit,m=void 0===v||v,B=e.placementStrategy;if(!l||!l.length)return[];var x,w=f.fontFamily,C=f.fontWeight,F=f.padding,b=f.fontSize,Q=function(t,e){return t.map((function(t){return t[e]})).filter((function(t){return"number"==typeof t&&!isNaN(t)}))}(l,h),U=[(x=Q,Math.min.apply(Math,x)),HH(Q)],E=l.map((function(t){return{text:t[c],value:t[h],color:t[p],datum:t}})),M={imageMask:u,font:w,fontSize:kH(b,U),fontWeight:C,size:IH({width:r,height:i,padding:o,appendPadding:a,autoFit:m,container:s}),padding:F,timeInterval:d,random:g,spiral:y,rotate:LH(e)};if(jt(B)){var S=E.map((function(t,e,A){return Dt(Dt(Dt({},t),{hasText:!!t.text,font:EH(M.font)(t,e,A),weight:EH(M.fontWeight)(t,e,A),rotate:EH(M.rotate)(t,e,A),size:EH(M.fontSize)(t,e,A),style:"normal"}),B.call(n,t,e,A))}));return S.push({text:"",value:0,x:0,y:0,opacity:0}),S.push({text:"",value:0,x:M.size[0],y:M.size[1],opacity:0}),S}return cH(E,M)}function IH(t){var e=t.width,n=t.height,A=t.container,r=t.autoFit,i=t.padding,o=t.appendPadding;if(r){var a=kx(A);e=a.width,n=a.height}e=e||400,n=n||400;var s=function(t){var e=Kx(t.padding),n=Kx(t.appendPadding),A=e[0]+n[0],r=e[1]+n[1],i=e[2]+n[2],o=e[3]+n[3];return[A,r,i,o]}({padding:i,appendPadding:o}),l=s[0],u=s[1],c=s[2];return[e-(s[3]+u),n-(l+c)]}function kH(t,e){if(jt(t))return t;if(qt(t)){var n=t[0],A=t[1];if(!e)return function(){return(A+n)/2};var r=e[0],i=e[1];return i===r?function(){return(A+n)/2}:function(t){var e=t.value;return(A-n)/(i-r)*(e-r)+n}}return function(){return t}}function LH(t){var e=function(t){var e=t.wordStyle.rotationSteps;e<1&&(Bx(dx.WARN,!1,"The rotationSteps option must be greater than or equal to 1."),e=1);return{rotation:t.wordStyle.rotation,rotationSteps:e}}(t),n=e.rotation,A=e.rotationSteps;if(!qt(n))return n;var r=n[0],i=n[1],o=1===A?0:(i-r)/(A-1);return function(){return i===r?i:Math.floor(Math.random()*A)*o}}function HH(t){return Math.max.apply(Math,t)}function TH(t){var e=t.chart,n=t.options,A=n.colorField,r=n.color,i=SH(t);return e.data(i),Ow(Ix({},t,{options:{xField:"x",yField:"y",seriesField:A&&sH,rawFields:jt(r)&&Nt(Nt([],on(n,"rawFields",[]),!0),["datum"],!1),point:{color:r,shape:"word-cloud"}}})).ext.geometry.label(!1),e.coordinate().reflect("y"),e.axis(!1),t}function DH(t){return Lx(ww({x:{nice:!1},y:{nice:!1}}))(t)}function PH(t){var e=t.chart,n=t.options,A=n.legend,r=n.colorField;return!1===A?e.legend(!1):r&&e.legend(sH,A),t}function OH(t){Lx(TH,DH,dw,PH,gw,yw,vw,mw)(t)}function RH(t){return{fontSize:t.data.size,text:t.data.text,textAlign:"center",fontFamily:t.data.font,fontWeight:t.data.weight,fill:t.color||t.defaultStyle.stroke,textBaseline:"alphabetic"}}ed("point","word-cloud",{draw:function(t,e){var n=t.x,A=t.y,r=e.addShape("text",{attrs:Dt(Dt({},RH(t)),{x:n,y:A})}),i=t.data.rotate;return"number"==typeof i&&Dd.rotate(r,i*Math.PI/180),r}}),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="word-cloud",e}Tt(e,t),e.getDefaultOptions=function(){return lH},e.prototype.changeData=function(t){this.updateOption({data:t}),this.options.imageMask?this.render():this.chart.changeData(SH({chart:this.chart,options:this.options}))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.render=function(){var e=this;return new Promise((function(n){var A=e.options.imageMask;if(!A)return t.prototype.render.call(e),void n();var r,i=function(A){e.options=Dt(Dt({},e.options),{imageMask:A||null}),t.prototype.render.call(e),n()};(r=A,new Promise((function(t,e){if(r instanceof HTMLImageElement)t(r);else{if(pe(r)){var n=new Image;return n.crossOrigin="anonymous",n.src=r,n.onload=function(){t(n)},void(n.onerror=function(){Bx(dx.ERROR,!1,"image %s load failed !!!",r),e()})}Bx(dx.WARN,void 0===r,"The type of imageMask option must be String or HTMLImageElement."),e()}}))).then(i).catch(i)}))},e.prototype.getSchemaAdaptor=function(){return OH},e.prototype.triggerResize=function(){var e=this;this.chart.destroyed||(this.execAdaptor(),window.setTimeout((function(){t.prototype.triggerResize.call(e)})))}}(hC),function(t){function e(e,n,A,r){var i=t.call(this,e,Ix({},r,n))||this;return i.type="g2-plot",i.defaultOptions=r,i.adaptor=A,i}Tt(e,t),e.prototype.getDefaultOptions=function(){return this.defaultOptions},e.prototype.getSchemaAdaptor=function(){return this.adaptor}}(hC),Ew("en-US",{locale:"en-US",general:{increase:"Increase",decrease:"Decrease",root:"Root"},statistic:{total:"Total"},conversionTag:{label:"Rate"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"Total"}}),Ew("zh-CN",{locale:"zh-CN",general:{increase:"增加",decrease:"减少",root:"初始"},statistic:{total:"总计"},conversionTag:{label:"转化率"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"总计"}});const KH={step:{xField:"index",xTitle:"Step"}},VH=new Map([[0,void 0],[1,(t,e)=>{console.log("tema",t,e);const n=Math.min(Math.sqrt(e||0),.999);let A=0,r=t.length>0?0:NaN;return t.map(((e,i)=>{const o=i>0?i-1:0,a=t[i].index-t[o].index,s=Math.pow(n,a);return r=r*s+t[i].data,A=A*s+1,{...e,data:r/A}}))}],[2,(t,e)=>{const n=Math.floor(e/2);let A,r,i,o=0;return t.map(((e,a)=>{A=a-n,r=a+n,console.log("runningAverage",A,r),o=0;for(let n=A;n<=r;n++)i=Math.min(Math.max(n,0),t.length-1),o+=t[i].data;return{...e,data:o/(r-A+1)}}))}],[3,(t,e)=>{const n=(()=>{const t=Math.sqrt(2*Math.PI);return(e,n)=>Math.exp(-.5*Math.pow(e/n,2))/(n*t)})();let A=0,r=0;return t.map(((i,o)=>{A=0,r=0;for(let a=-6;a<=6;a++)o+a>=0&&o+a<t.length&&(A+=t[o+a].data*n(a,e),r+=n(a,e));return{...i,data:A/r}}))}]]);function GH(t,e){return VH.get(e.id)(t,e.value)}const NH=t=>(K("data-v-aa1bab0c"),t=t(),V(),t),_H=NH((()=>D("span",{class:"lc-tooltip-color lc-tooltip-color-rect"},null,-1))),XH={class:"lc-tooltip-step"},YH={class:"lc-tooltip-value"},zH={class:"lc-tooltip-tag"},WH={class:"lc-tooltip-time"},jH=NH((()=>D("span",{class:"lc-tooltip-color lc-tooltip-color-rect"},null,-1))),JH={class:"lc-tooltip-step"},qH={class:"lc-tooltip-value"},ZH={class:"lc-tooltip-tag"},$H={class:"lc-tooltip-tip"},tT={__name:"LineChartTooltip",props:{detail:{type:Boolean,default:!1}},setup(e,{expose:n}){const A=e,r=E(U?"chart.charts.line.copy.apple":"chart.charts.line.copy.windows"),i=A.detail?400:256,o=t([]),a=t(null),s=t(!1),l=t(null),u=m("formatNumber2SN"),c=m("formatTime");return n({show:(t,e,n)=>{(t=t.filter((t=>!t.data.series.includes("&smooth")))).sort(((t,e)=>e.data.data-t.data.data)),o.value=t,s.value=!0;const A=parseFloat(n.split("px")[0]);A+i-100>e?(a.value.style.right=e-A+50+"px",a.value.style.left="auto"):(a.value.style.left=`${A+50}px`,a.value.style.right="auto")},hide:()=>{s.value=!1}}),(t,n)=>M((I(),k("div",{class:"lc-tooltip",ref_key:"toolTipRef",ref:a,key:l.value},[e.detail&&o.value.length?(I(!0),k(L,{key:0},H(o.value,(t=>(I(),k("div",{class:"lc-tooltip-item-zoom",key:t.color,style:T({color:t.color})},[_H,D("span",XH,P(t.data.index),1),D("span",YH,P(O(u)(t.data.data)),1),D("span",zH,P(t.data.series),1),D("span",WH,P(O(c)(t.data.create_time)),1)],4)))),128)):o.value.length?(I(!0),k(L,{key:1},H(o.value,(t=>(I(),k("div",{class:"lc-tooltip-item-no-zoom",key:t.data.color,style:T({color:t.color})},[jH,D("span",JH,P(t.data.index),1),D("span",qH,P(O(u)(t.data.data)),1),D("span",ZH,P(t.data.series),1)],4)))),128)):R("",!0),D("p",$H,P(O(r)),1)])),[[S,s.value]])}},eT=Q(tT,[["__scopeId","data-v-aa1bab0c"]]),nT={class:"lc-legend"},AT=["onMouseenter","onMouseleave","onClick"],rT=Q({__name:"LineChartLegend",props:{items:{type:Array,default:()=>[]}},emits:["hoverin","hoverout"],setup(t,{emit:e}){const n=m("experimentPrefix"),A=e;return(e,r)=>{const i=G("RouterLink");return I(),k("div",nT,[(I(!0),k(L,null,H(t.items,(t=>(I(),k("div",{class:"lc-legend-item",style:T({color:t.color}),key:t.name,onMouseenter:e=>(t=>{A("hoverin",t)})(t),onMouseleave:e=>(t=>{A("hoverout",t)})(t),onClick:e=>(t=>{A("click",t)})(t)},[N(i,{to:O(n)+t.experiment_id},{default:_((()=>[X(P(t.name),1)])),_:2},1032,["to"])],44,AT)))),128))])}}},[["__scopeId","data-v-28a14269"]]),iT={class:"text-center font-semibold select-none"},oT={key:0,class:"flex flex-col justify-center grow text-dimmer gap-2"},aT={class:"text-center text-sm"},sT={class:"relative"},lT={class:"absolute right-2 bottom-6 text-xs text-dimmer scale-90 select-none"},uT={class:"text-center mt-4 mb-10 text-2xl font-semibold"},cT={class:"absolute right-2 bottom-6 text-xs text-dimmer scale-90 select-none"},hT={__name:"LineChart",props:{title:{type:String,required:!0},chart:{type:Object,required:!0},index:{type:Number,required:!0}},setup(e,{expose:n}){var A;const r=e,i=r.chart.source,o=t(r.chart.error&&i.length===Object.keys(r.chart.error).length?r.chart.error[i[0]]:null),s=r.chart.multi,l=m("chartRefList"),c=a((()=>l.value.filter(((t,e)=>e!==r.index))));let h=(null==(A=m("smoothMethod"))?void 0:A.value)||void 0;const p=m("getColor"),f=m("defaultColor"),d=getComputedStyle(document.documentElement),g=d.getPropertyValue("--outline-default"),y=d.getPropertyValue("--outline-dimmest"),B=d.getPropertyValue("--primary-dimmest");ed("point","last-point",{draw(t,e){var n;const A={x:t.x,y:t.y};return e.addShape("circle",{name:"point",attrs:{x:A.x,y:A.y,fill:t.color||"red",opacity:(null==(n=null==t?void 0:t.data)?void 0:n._last)?1:0,r:3}})}});const x=t(),w=t(),C=t(),F=t(),b=t(),Q=r.chart.reference,{xField:M,xTitle:S}=KH[Q],H=(t,e,n={},A=!1)=>{if(!t)return;const o=new mb(t,{data:e,xField:M,yField:"data",colorField:"type",legend:!1,color:({series:t})=>{const e=t.includes("&smooth");t=t.replace("&smooth","");const n=p(t,i.indexOf(t),r.chart.id);return e?((t,e=.1)=>t+(e=Math.floor(255*e)).toString(16))(n):n},point:{shape:"last-point"},lineStyle:{lineWidth:1.5},xAxis:{tickCount:5,type:"linear",label:{formatter:t=>t%1!=0?"":t%100==0&&t>=1e3?t/1e3+"k":t},line:{style:{stroke:g,lineWidth:2}},tickLine:{length:4,style:{stroke:g,lineWidth:2}}},yAxis:{min:null,label:{formatter:t=>Y(t)},line:{style:{stroke:g,lineWidth:2}},tickLine:{length:4,style:{stroke:g,lineWidth:2}},grid:{line:{style:{stroke:y}}}},tooltip:{follow:!0,enterable:!1,shared:!0,position:"top",showMarkers:!0,customContent:()=>"",domStyles:{"g2-tooltip":{boxShadow:"none",borderWidth:"none",borderRadius:"none"}},showCrosshairs:!0,crosshairs:{line:{style:{stroke:B,lineWidth:2}}}},height:ft,width:void 0,autoFit:!0,smooth:!1,animation:!1,...n});return o.render(),q((()=>{At(t,A)})),o.on("plot:mouseleave",(()=>{lt(o,A,ot,at)})),o.on("plot:mousemove",(t=>{if(!rt)return;const e=t.y;let n,r=1/0;for(let A=0;A<rt.length;A++){const t=rt[A],i=Math.abs(t.y-e);i<r&&!rt[A].data.series.includes("&smooth")&&(r=i,n=A)}void 0!==n&&st(o,A,rt[n].data.series,rt[n].color)})),o},T=t=>{if(h){const e={};for(const n in t)t[n]&&(console.log("data[key]",t[n]),t[n].list.some((t=>"string"==typeof t.data))?e[n]=t[n]:e[n]={...t[n],list:GH(t[n].list,h)});for(const n in t)e[`${n}&smooth`]=t[n];t=e}if(i.length<1)throw new Error("source length must be greater than 1");const e=[];Object.keys(t).forEach((n=>{r.chart.error&&r.chart.error[n]||t[n]&&t[n].list.forEach((t=>{e.push({...t,series:n})}))})),e.sort(((t,e)=>t[M]-e[M]));const n=[];for(const A of i)r.chart.error&&r.chart.error[A]||t[A]&&n.push({name:A,color:p(A,i.indexOf(A),r.chart.id),experiment_id:t[A].experiment_id});return ut.value=n,{d:e,config:s||h?{seriesField:"series"}:{color:f}}},K=t=>{let{year:e,month:n,day:A,hour:r,minute:i}=J(t);e=e.toString().slice(-2),i=1===i.toString().length?`0${i}`:i;let o=!1;r>12&&(r-=12,o=!0);let a=`${e}/${n}/${A} ${r}:${i}`;return a+=o?" PM":" AM",a};u("formatTime",K),u("formatNumber2SN",Y);let V=null;const G=t=>{const{d:e,config:n}=T(t);V&&V.destroy(),V=H(w.value,e,n)},X=t(!1);let tt=null;let et=!0;let nt=null;const At=(t,e)=>{if(o.value)return;const n=e?tt:V,A=e?b:F;n.on("tooltip:show",(n=>{var r;const i=n.data.items;q((()=>{const e=t.querySelector(".g2-tooltip").style.left;A.value.show(i,t.clientWidth,e)})),et&&(rt=n.data.items,nt={x:n.data.x,y:n.data.y},!e&&(null==(r=c.value)||r.forEach((t=>{null==t||t.showTooltip(nt)}))),et=!0)})),n.on("tooltip:hide",((...t)=>{var n;A.value.hide(),et&&!e&&(null==(n=c.value)||n.forEach((e=>{null==e||e.hideTooltip(...t)}))),rt=null,et=!0,nt=null})),n.on(GB.BEFORE_FILTER,((...t)=>{console.log("BEFORE_FILTER",t)}))};let rt=null;const it=t=>{if(!o.value&&null!==rt&&"c"===t.key&&(U?t.metaKey:t.ctrlKey)){t.preventDefault(),rt.sort(((t,e)=>e.data.data-t.data.data));let e="";if(X.value)for(const t of rt)e+=`${t.data.series} ${Y(t.data.data)} ${K(t.data.create_time)}\n`;else for(const t of rt)e+=`${t.data.series} ${Y(t.data.data)}\n`;Z(e,(()=>$.success(E("chart.charts.line.copy.success"))))}};window.addEventListener("keydown",it),v((()=>{window.removeEventListener("keydown",it)}));let ot=null,at=null;const st=(t,e,n,A)=>{var r;if(!n||!A)return;if(!t)return;if(n===ot)return;n!==ot&&ot&&lt(t,e,ot,at);const i=t.chart.getElements();for(const o of i)if(s){if(((null==(r=o.model.data[0])?void 0:r.series)||o.model.data.series)===n){o.update({...o.model,style:{lineWidth:3.5}});break}}else if(A===o.model.color){o.update({...o.model,style:{lineWidth:3.5}});break}ot=n,at=A,c.value.forEach((t=>{null==t||t.thicken(e,n,A)}))},lt=(t,e,n,A)=>{var r;if(!n||!A)return;if(!ot)return;const i=t.chart.getElements();for(const o of i)if(s){if(((null==(r=o.model.data[0])?void 0:r.series)||o.model.data.series)===n){o.update({...o.model,style:{lineWidth:1.5}});break}}else if(A===o.model.color){o.update({...o.model,style:{lineWidth:1.5}});break}ot=null,at=null,c.value.forEach((t=>{null==t||t.thin(e,n,A)}))},ut=t(null),ct=(t,e)=>{st(e?tt:V,e,t.name,t.color)},ht=(t,e)=>{lt(e?tt:V,e,t.name,t.color)},pt=m("data");let ft=220;return n({render:G,change:t=>{const{d:e}=T(t);V.changeData(e)},zoom:t=>{X.value=!0;const{d:e,config:n}=T(t),A=.6*window.innerHeight;q((()=>{tt=H(C.value,e,{interactions:[{type:"brush-x"}],height:A,...n},!0)}))},smooth:t=>{console.log("smooth by linechart:",pt),h=(t=>!!t.value&&(0!==t.id||void 0))(t)?t:null,G(pt)},showTooltip:t=>{var e;o.value||(et=!1,null==(e=null==V?void 0:V.chart)||e.showTooltip(t))},hideTooltip:()=>{var t;o.value||(et=!1,null==(t=null==V?void 0:V.chart)||t.hideTooltip())},thicken:(t,e,n)=>{st(t?tt:V,t,e,n)},thin:(t,e,n)=>{lt(t?tt:V,t,e,n)},setHeight:(t,e=800,n=200)=>{if(t>e)return;if(t<n)return;const A=x.value.clientHeight,r=x.value.getElementsByTagName("canvas")[0];if(!r)return ft=t-i;const i=r.clientHeight;console.log("nowLineChartHeight",A),console.log("nowLineChartCanvasHeight",i);const o=A-i;r.style.height=t-o+"px"}}),(t,n)=>(I(),k("div",{class:"flex flex-col justify-between grow",ref_key:"lineChartRef",ref:x},[D("p",iT,P(e.title),1),o.value?(I(),k("div",oT,[N(z,{class:"mx-auto h-5 w-5",icon:"error"}),D("p",aT,P(t.$t("chart.charts.line.error",{type:o.value.data_class,tag:O(i)[0]})),1)])):(I(),k(L,{key:1},[ut.value&&O(s)?(I(),W(rT,{items:ut.value,key:ut.value.length,onHoverin:n[0]||(n[0]=t=>ct(t,!1)),onHoverout:n[1]||(n[1]=t=>ht(t,!1))},null,8,["items"])):R("",!0),D("div",sT,[D("p",lT,P(O(S)),1),N(eT,{ref_key:"tooltipRef",ref:F},null,512),D("div",{class:"overflow-hidden",ref_key:"g2Ref",ref:w},null,512)]),N(j,{class:"p-10 pt-0 overflow-hidden","max-w":"-1",modelValue:X.value,"onUpdate:modelValue":n[4]||(n[4]=t=>X.value=t),"esc-exit":""},{default:_((()=>[D("p",uT,P(e.title),1),ut.value&&O(s)?(I(),W(rT,{key:0,items:ut.value,onHoverin:n[2]||(n[2]=t=>ct(t,!0)),onHoverout:n[3]||(n[3]=t=>ht(t,!0))},null,8,["items"])):R("",!0),D("div",{class:"relative",ref_key:"g2ZoomRef",ref:C},[D("p",cT,P(O(S)),1),N(eT,{ref_key:"tooltipZoomRef",ref:b},null,512)],512)])),_:1},8,["modelValue"])],64))],512))}},pT={class:"flex items-center w-full"},fT={class:"w-full relative h-1 flex"},dT=(t=>(K("data-v-c91de514"),t=t(),V(),t))((()=>D("div",{class:"sliding-container"},null,-1))),gT=["disabled","value"],yT={class:"w-3 flex-shrink-0 flex-col flex absolute right-1"},vT={__name:"SLSlideBar",props:{min:{type:Number,default:0},max:{type:Number,default:100},modelValue:{default:0},isInt:{type:Boolean,default:!1},barColor:{type:String,default:"var(--positive-default)"},showInput:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["on-change","update:modelValue","turn","change"],setup(n,{emit:A}){const r=n,i=t(null);tt((()=>r.modelValue),(()=>{c.value,i.value&&(i.value.value=r.modelValue)}));const o=A,s=t(null),l=t(null),u=t(null),c=a({get(){const t=h(r.modelValue);return p(t),t},set(t){t!==c.value&&(t||(t=0),o("update:modelValue",t))}});function h(t){return r.isInt&&(t=Math.floor(t)),t=Math.min(Math.max(t,r.min),r.max),t=Number(t.toFixed(2).replace(".00",""))}function p(t){const e=t/r.max,n=Math.min(100*e,100)+"%";l.value.style.left=n,s.value.style.width=n}e((()=>{p(c.value),u.value.addEventListener("mousedown",(t=>{if(r.disabled)return;const e=t.clientX,n=u.value.getBoundingClientRect().left,A=e-n,i=u.value.offsetWidth,a=h(A/i*r.max);c.value=a,o("on-change",a);const s=t=>{const n=h((t.clientX-e+A)/i*r.max);c.value=n,o("on-change",n)},l=()=>{o("change",c.value),document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",l)};document.addEventListener("mousemove",s),document.addEventListener("mouseup",l)}))}));const f=()=>{r.disabled||r.modelValue>r.min&&o("turn","backward",r.modelValue)},d=()=>{r.disabled||r.modelValue<r.max&&o("turn","forward",r.modelValue)},g=t=>(t.preventDefault(),t.target.value=Number(t.target.value).toFixed(2),r.disabled?console.log("disabled"):t.target.value==r.modelValue?console.log("same"):(t.target.value<r.min&&(t.target.value=r.min),t.target.value>r.max&&(t.target.value=r.max),void o("change",Number(t.target.value))));return(t,e)=>(I(),k("div",pT,[D("div",{class:et(["sliding-range",{"!cursor-default":n.disabled}]),ref_key:"slidingRange",ref:u},[D("div",fT,[D("div",{class:"sliding-bar",style:T({backgroundColor:n.barColor}),ref_key:"slidingBar",ref:s},null,4),dT,D("div",{class:"sliding-button",ref_key:"slidingButton",ref:l},null,512)])],2),n.showInput?(I(),k("div",{key:0,class:et(["flex items-center relative ml-3",{"input-disabled":n.disabled}])},[D("input",{type:"number",disabled:n.disabled,value:r.modelValue,ref_key:"inputRef",ref:i,onKeydown:nt(g,["enter"]),onBlur:g},null,40,gT),D("div",yT,[N(z,{icon:"down",class:"w-full h-3 -rotate-180 -mb-1",onClick:d}),N(z,{icon:"down",class:"w-full aspect-square",onClick:f})])],2)):R("",!0)]))}},mT=Q(vT,[["__scopeId","data-v-c91de514"]]),BT={class:"chart-slide"},xT={class:"w-9"},wT={class:"slide"},CT={class:"flex items-center relative"},FT=["value"],bT={class:"w-3 flex-shrink-0 flex-col flex absolute right-1"},QT={__name:"SlideBar",props:{max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},barColor:{type:String,required:!0},reference:{type:String,default:"Step"},turnByArrow:{type:Boolean,default:!1},verticalArrow:{type:Boolean,default:!1}},emits:["update:modelValue","change","turn"],setup(e,{emit:n}){const A=e,r=n,i=t(null),o=a({get:()=>A.modelValue,set:t=>t<A.min?o.value=A.min:t>A.max?o.value=A.max:(r("update:modelValue",t),r("change",t),void(i.value.value=o.value))}),s=()=>{o.value>A.min&&r("turn","backward",o.value)},l=()=>{o.value<A.max&&r("turn","forward",o.value)},u=t=>{t.target.value!=o.value&&(o.value=t.target.value)},c=t=>{A.turnByArrow&&(t.key==(A.verticalArrow?"ArrowDown":"ArrowLeft")?s():t.key==(A.verticalArrow?"ArrowUp":"ArrowRight")&&l())};return A.turnByArrow&&document.addEventListener("keydown",c),v((()=>{A.turnByArrow&&document.removeEventListener("keydown",c)})),(t,n)=>{const A=z;return I(),k("div",BT,[D("p",xT,P(e.reference),1),D("div",wT,[N(mT,{"is-int":"",max:e.max,min:e.min,modelValue:o.value,"onUpdate:modelValue":n[0]||(n[0]=t=>o.value=t),"bar-color":e.barColor},null,8,["max","min","modelValue","bar-color"])]),D("div",CT,[D("input",{type:"number",value:o.value,ref_key:"input",ref:i,onKeyup:nt(u,["enter"]),onBlur:u},null,40,FT),D("div",bT,[N(A,{icon:"down",class:"w-full h-3 -rotate-180 -mb-1",onClick:l}),N(A,{icon:"down",class:"w-full aspect-square",onClick:s})])])])}}},UT=Q(QT,[["__scopeId","data-v-ce0f47f9"]]),ET={__name:"PlayButton",props:{color:{type:String,required:!0},modelValue:{type:Boolean,required:!0}},emits:["play","pause","update:modelValue"],setup(t,{emit:e}){const n=t,A=e,r=()=>{n.modelValue?(A("pause"),A("update:modelValue",!1)):(A("play"),A("update:modelValue",!0))};return(e,n)=>{const A=z,i=At;return I(),W(i,{class:"p-1 rounded border flex items-center justify-center",style:T({color:t.color}),onClick:r},{default:_((()=>[t.modelValue?(I(),W(A,{key:0,class:"h-5 w-5",icon:"pause"})):(I(),W(A,{key:1,class:"h-5 w-5",icon:"play"}))])),_:1},8,["style"])}}},MT={__name:"DownloadButton",setup:t=>(t,e)=>{const n=z,A=At;return I(),W(A,{class:"p-1.5 rounded border flex items-center justify-cente h-7.5 w-7.5"},{default:_((()=>[N(n,{class:"text-dimmer w-full h-full",icon:"download"})])),_:1})}},ST=["title"],IT={class:"pl-1 truncate"},kT={class:"flex items-center mt-2"},LT={key:0,class:"text-sm ml-1"},HT={class:"text-sm w-full text-center -ml-10"},TT={__name:"AudioModule",props:{audios:{type:Object,required:!0}},setup(n){const A=n,r=m("defaultColor"),i=t(null),o=rt({}),a=t(A.audios.map((()=>!1))),s=t=>{const e=t.getChannelData(0),n=t.numberOfChannels>1?t.getChannelData(1):null,A=[],r=[];for(let i=0;i<e.length;i+=10)A.push(e[i]),n&&r.push(n[i]);return[A,r]},l=t=>{const e=o[t].duration,n=e*o[t].offset,A=Math.floor(n/60),r=Math.floor(n%60),i=Math.floor(e/60),a=Math.floor(e%60);return`${A}:${r<10?"0"+r:r}/${i}:${a<10?"0"+a:a}`},u=(t,e=2,n=2/3)=>{const A=o[t].dom,i=o[t].offset,a=o[t].channels,s=r,l=s+"99";let u,c;const h=window.devicePixelRatio||1,p=Math.round(A.offsetWidth*h),d=Math.round(A.offsetHeight*h);A.firstChild&&"CANVAS"===A.firstChild.tagName?(u=A.firstChild,c=u.getContext("2d"),c.clearRect(0,0,u.width,u.height),u.width=p,u.height=d):(u=document.createElement("canvas"),u.width=p,u.height=d,c=u.getContext("2d"),u.addEventListener("click",(e=>{f(e,t)})),u.style.width="100%",u.style.height="80%",A.insertBefore(u,A.firstChild));let g=d/2;c.lineWidth=1,c.fillStyle=l;const y=.4*d,v=a[0].length/p,m=Math.min(p-1,Math.max(0,parseInt(i*p)));let B;for(let r=0;r<p;r++){if(r*v>a[0].length)throw new Error("k*step > channels[0].length");c.strokeStyle=r<=m?l:s,r===m&&(c.beginPath(),c.moveTo(0+r,g-y*n),c.lineTo(0+r,g+y*n),c.closePath(),c.stroke(),c.fillStyle=s),B=a[0][parseInt(r*v)]*y*e,B=B>0?B+2+3:B-2-3;const t=Math.abs(B)+3,A=B>0?g-B:g-3;c.fillRect(0+r,A,2,t)}c.fill()},c=it((()=>{for(let t=0;t<A.audios.length;t++)u(t)}),500);const h=t=>{const e=new(window.AudioContext||window.webkitAudioContext),n=e.createBufferSource();n.buffer=t;const A=t.duration;return n.connect(e.destination),{source:n,duration:A}},p=t=>{if(a.value[t])return console.log("已经在播放了");o[t].offset>=1&&(o[t].offset=0),o[t].source=h(A.audios[t].audioBuffer).source;const e=o[t].offset*o[t].duration;o[t].source.start(0,e),a.value[t]=!0,o[t].updator=function(t){const e=Date.now();let n=e;const A=o[t].offset;let r=null;const i=()=>{if(Date.now()-n<50)r=requestAnimationFrame(i);else{if(n=Date.now(),o[t].offset=(Date.now()-e)/o[t].duration/1e3+A,u(t),o[t].offset>=1)return s(),void(a.value[t]=!1);r=requestAnimationFrame(i)}},s=()=>{cancelAnimationFrame(r),o[t].updator=null};return{start:()=>{r=requestAnimationFrame(i)},destory:s}}(t),o[t].updator.start()},f=(t,e)=>{var n;o[e].offset=t.offsetX/t.target.offsetWidth,u(e),console.log("playingList.value[index]",a.value[e]),a.value[e]&&(o[e].source.stop(),a.value[e]=!1,null==(n=o[e].updator)||n.destory(),p(e))},d=new ResizeObserver((()=>{c()}));e((()=>{d.observe(i.value)})),v((()=>{var t,e;for(const A in o)try{null==(t=o[A].source)||t.stop(),null==(e=o[A].updator)||e.destory()}catch(n){continue}d.disconnect()}));const g=()=>{if(A.audios.length>1)return"grid-cols-2"};return(t,e)=>(I(),k("div",{class:et(["audios-container",g()]),ref_key:"audiosRef",ref:i},[(I(!0),k(L,null,H(n.audios,((t,e)=>(I(),k("div",{class:"border p-2 rounded",key:t.title},[t.exp?(I(),k("div",{key:0,class:"text-xs flex items-center pb-1",title:t.exp},[D("div",{class:"h-2 w-2 rounded-full shrink-0",style:T({backgroundColor:t.color})},null,4),D("p",IT,P(t.exp),1)],8,ST)):R("",!0),D("div",{class:"audio-container",ref_for:!0,ref:t=>((t,e)=>{o[t]||(o[t]={channels:s(A.audios[t].audioBuffer),dom:e,...h(A.audios[t].audioBuffer),offset:0},q((()=>{u(t)})))})(e,t)},[D("div",kT,[N(ET,{modelValue:a.value[e],"onUpdate:modelValue":t=>a.value[e]=t,color:O(r),onPlay:t=>p(e),onPause:t=>(t=>{var e;o[t].source&&(o[t].source.stop(),a.value[t]=!1,null==(e=o[t].updator)||e.destory())})(e)},null,8,["modelValue","onUpdate:modelValue","color","onPlay","onPause"]),o[e]?(I(),k("p",LT,P(l(e)),1)):R("",!0),D("p",HT,P(n.audios[e].caption),1),N(MT,{onClick:t=>(t=>{const e=A.audios[t].audioBlob,n=A.audios[t].title,r=document.createElement("a");r.href=URL.createObjectURL(e),r.download=n,r.click()})(e)},null,8,["onClick"])])],512)])))),128))],2))}},DT=Q(TT,[["__scopeId","data-v-94852f19"]]),PT={class:"text-center font-semibold pb-1.5"},OT={key:0,class:"flex flex-col justify-center grow text-dimmer gap-2"},RT={class:"text-center text-xs"},KT={key:0},VT={key:1},GT={class:"h-[230px] overflow-y-auto px-2"},NT={key:1,class:"flex flex-col justify-center items-center h-full"},_T={class:"md:h-8 md:flex md:gap-10 items-center justify-center mt-2"},XT={class:"absolute top-4 w-full pr-20 text-center font-semibold"},YT={class:"overflow-y-auto px-2 h-full"},zT={key:1,class:"flex flex-col justify-center items-center h-full"},WT={class:"md:h-8 md:flex md:gap-10 items-center justify-center mt-2"},jT={__name:"AudioChart",props:{title:{type:String,required:!0},chart:{type:Object,required:!0},index:{type:Number,required:!0}},setup(e,{expose:n}){const A=e,r=m("media"),i=a((()=>{var t;return(null==(t=A.chart)?void 0:t.source)||[]})),o=a((()=>A.chart.multi)),s=a((()=>{const t=x.value[v.value];if(!t)return[];if(!o.value)return t[i.value[0]].map((({filename:t,caption:e})=>({audioBuffer:w[t],audioBlob:C[t],title:t,caption:e})));const e=[];for(const n in t){const r=t[n][M.value];e.push({audioBuffer:w[r.filename],audioBlob:C[r.filename],title:r.filename,caption:r.caption,color:c(n,void 0,A.chart.id),exp:n})}return e})),l=a((()=>{if(!A.chart.error)return!1;if(!o.value)return A.chart.error[i.value[0]];for(const t of i.value)if(A.chart.error[t])return!0;return!1})),u=m("defaultColor"),c=m("getColor"),h=u,p=t(0),f=t(NaN),d=t(NaN),g=t(0);tt([d,f],(([t,e])=>{g.value=t+"-"+e}));const y=t(!0),v=a({get:()=>p.value,set:t=>{if(t in x.value){if(t===p.value&&!1===y.value)return;p.value=t}else{const e=Array.from(Object.keys(x.value)),n=e.findIndex((e=>e>t)),A=Number(-1===n?e[e.length-1]:e[n]);if(A===p.value)return;p.value=A}y.value=!0,o.value&&(M.value=0),b(x.value[p.value])}}),B=(t,e)=>{const n=Array.from(Object.keys(x.value)),A=n.findIndex((t=>t>e));v.value=Number("forward"===t?-1===A?n[n.length-1]:n[A]:-1===A?n[Math.max(0,n.length-2)]:n[Math.max(0,A-2)])},x=t({}),w=rt({}),C={},F=t=>{var e,n;let r=0,i=1/0;for(const o in t){if(null===t[o])continue;r=Math.max(Number(t[o].list[t[o].list.length-1].index),r),i=Math.min(Number(t[o].list[0].index),i);const a=A.chart.source_map[o];for(const A of t[o].list)if(x.value[A.index]||(x.value[A.index]={}),!x.value[A.index][o])if(x.value[A.index][o]=[],"string"==typeof A.data)x.value[A.index][o].push({filename:A.data,caption:null==(e=A.more)?void 0:e.caption,experiment_id:a});else for(let t=0;t<A.data.length;t++)x.value[A.index][o].push({filename:A.data[t],caption:null==(n=A.more[t])?void 0:n.caption,experiment_id:a})}d.value=r,f.value=i},b=it((async t=>{y.value=!0;const e=[];for(const n in t)if(null!==t[n])for(const{filename:i,experiment_id:o}of t[n])w[i]||e.push(new Promise((t=>{r.get(i,o,A.title).then((e=>{C[i]=e,t(Q(e,i))}))})));await Promise.all(e),y.value=!1}),500),Q=async(t,e)=>{const n=await t.arrayBuffer(),A=new(window.AudioContext||window.webkitAudioContext);return new Promise(((t,r)=>{A.decodeAudioData(n,(n=>{w[e]=n,t(n)}),(t=>{t.value=t,r(t)}))}))},U=a((()=>{let t=0;for(const e in x.value[v.value]){const n=x.value[v.value][e].length-1;n>t&&(t=n)}return t})),E=t(0),M=t(E.value),S=(t,e)=>{M.value="forward"===t?e+1:e-1},H=t(!1);return n({render:t=>{F(t),v.value=d.value},change:t=>{F(t)},zoom:()=>{H.value=!0}}),(t,n)=>{const A=gt;return I(),k(L,null,[D("p",PT,P(e.title),1),O(l)?(I(),k("div",OT,[N(z,{class:"mx-auto h-5 w-5",icon:"error"}),D("p",RT,[O(o)?(I(),k("span",VT,P(t.$t("chart.error")),1)):(I(),k("span",KT,P(t.$t("chart.charts.audio.error",{type:O(l).data_class,tag:t.source[0]})),1))])])):(I(),k(L,{key:1},[D("div",GT,[O(s)&&!y.value?(I(),W(DT,{audios:O(s),key:O(v)},null,8,["audios"])):R("",!0),y.value?(I(),k("div",NT,[N(A)])):R("",!0)]),D("div",_T,[d.value!==f.value?(I(),W(UT,{class:et({"md:!justify-end":O(o)}),modelValue:O(v),"onUpdate:modelValue":n[0]||(n[0]=t=>ot(v)?v.value=t:null),max:d.value,min:f.value,"bar-color":O(h),key:g.value,onTurn:B},null,8,["class","modelValue","max","min","bar-color"])):R("",!0),O(o)?(I(),W(UT,{class:et({"md:!justify-start":d.value!==f.value}),style:T({visibility:O(U)||"hidden"}),modelValue:M.value,"onUpdate:modelValue":n[1]||(n[1]=t=>M.value=t),max:O(U),min:E.value,"bar-color":O(h),key:O(U),reference:"Index",onTurn:S},null,8,["class","style","modelValue","max","min","bar-color"])):R("",!0)]),N(j,{class:"p-10 pt-14 overflow-hidden h-[70vh] flex flex-col justify-between","max-w":"-1",modelValue:H.value,"onUpdate:modelValue":n[4]||(n[4]=t=>H.value=t),"esc-exit":""},{default:_((()=>[D("p",XT,P(e.title),1),D("div",YT,[O(s)&&!y.value?(I(),W(DT,{audios:O(s),key:O(v)},null,8,["audios"])):R("",!0),y.value?(I(),k("div",zT,[N(A)])):R("",!0)]),D("div",WT,[d.value!==f.value?(I(),W(UT,{class:et({"md:!justify-end":O(o)}),modelValue:O(v),"onUpdate:modelValue":n[2]||(n[2]=t=>ot(v)?v.value=t:null),max:d.value,min:f.value,"bar-color":O(h),key:g.value,onTurn:B,"turn-by-arrow":H.value},null,8,["class","modelValue","max","min","bar-color","turn-by-arrow"])):R("",!0),O(o)?(I(),W(UT,{class:et({"md:!justify-start":d.value!==f.value}),style:T({visibility:O(U)||"hidden"}),modelValue:M.value,"onUpdate:modelValue":n[3]||(n[3]=t=>M.value=t),max:O(U),min:E.value,"bar-color":O(h),key:O(U),reference:"Index",onTurn:S,"turn-by-arrow":H.value,"vertical-arrow":""},null,8,["class","style","modelValue","max","min","bar-color","turn-by-arrow"])):R("",!0)])])),_:1},8,["modelValue"])],64))],64)}}},JT={class:"text-detail"},qT={class:"block w-48 font-semibold shrink-0"},ZT=["title"],$T={class:"font-semibold pb-2"},tD={class:"p-4 min-h-[20vh] max-h-[55vh] overflow-y-auto border rounded bg-default"},eD={key:0},nD={key:1},AD=Q({__name:"TextDetail",props:{data:{type:Object,required:!0,default:()=>{}}},setup(t){const e=t,n=a((()=>{const t=e.data.line;return[{key:"tag",value:e.data.tag},{key:"step",value:t.index},{key:"caption",value:e.data.caption||"-"},{key:"count",value:e.data.text.replace(/[\r\n\s]/g,"").length}]}));return(e,A)=>(I(),k("div",JT,[(I(!0),k(L,null,H(n.value,(t=>(I(),k("div",{key:t,class:"sm:flex pb-3"},[D("span",qT,P(e.$t(`chart.charts.text.titles.${t.key}`))+":",1),D("span",{title:t.value},P(t.value),9,ZT)])))),128)),D("p",$T,P(e.$t("chart.charts.text.titles.text"))+":",1),D("div",tD,[(I(!0),k(L,null,H(t.data.text.split("\n"),(t=>(I(),k("p",{key:t},[""!=t?(I(),k("span",eD,P(t),1)):(I(),k("br",nD))])))),128))])]))}},[["__scopeId","data-v-9e9efe9d"]]),rD=t=>(K("data-v-363003df"),t=t(),V(),t),iD={class:"w-full h-full"},oD={key:0,class:"w-full text-center py-6 text-xl font-semibold"},aD=rD((()=>D("div",{class:"w-full flex items-center bg-higher border-y"},[D("div",{class:"caption"},"Caption"),D("div",{class:"text"},"Text")],-1))),sD={class:"caption"},lD=["title"],uD={key:0},cD=[rD((()=>D("div",{class:"md:w-40 w-24 h-10 px-4 shrink-0 flex items-center border-r"},[D("span",{class:"skeleton w-full h-1/2"})],-1))),rD((()=>D("div",{class:"flex items-center w-full h-10 ml-4"},[D("span",{class:"skeleton w-1/2 h-1/2"})],-1)))],hD={__name:"TextModule",props:{data:{type:Object},tag:{type:String,default:""},modal:{type:Boolean},modelValue:{type:Boolean}},emits:["getText","update:modelValue"],setup(n,{emit:A}){const r=n,i=A,o=m("defaultColor"),s=t(!1),l=a((()=>r.data.map((t=>(Array.isArray(t.data)||(t.data=[t.data],t.more=[t.more]),t))))),u=a((()=>({minIndex:Math.min(...c.value),maxIndex:Math.max(...c.value),sum:c.value.length}))),c=a((()=>r.data.map((t=>t.index)))),h=t(u.value.minIndex),p=t(0);e((()=>{p.value=Math.max(c.value.length-1,0),h.value=c.value[p.value]}));const f=t(),d=(t,e)=>{const{index:n,number:A}=((t,e,n)=>{const A=c.value.map(Number),r=A.map((e=>Math.abs(e-t))),i=Math.min(...r);let o=r.indexOf(i),a=A[o];return a===t?{index:o,number:a}:n&&(e&&o!==c.value.length-1||!e&&0!==o)?(o+=e?1:-1,{index:o,number:A[o]}):{index:o,number:a}})(t,e,void 0!==e);p.value=n,h.value=Number(A),s.value=!0,f.value&&clearTimeout(f.value),f.value=setTimeout((()=>{s.value=!1}),400)},g=(t,e)=>"forward"===t?d(e+1,!0):d(e-1,!1),y=t(!1),v=t({});return tt((()=>y.value),(t=>{i("update:modelValue",t)})),(t,e)=>{var A;const i=z;return I(),k("div",iD,[n.modal?(I(),k("p",oD,P(n.tag),1)):R("",!0),aD,D("div",{class:et(["w-full h-[310px] overflow-y-auto",{"h-[60vh]":n.modal,"border-b":n.data.length>1}])},[(I(!0),k(L,null,H(null==(A=l.value[p.value])?void 0:A.data,((t,e)=>{var n;return M((I(),k("div",{class:"line",key:t+e},[D("div",sD,P(null==(n=l.value[p.value])?void 0:n.more[e].caption),1),D("div",{class:"text",title:t},P(t),9,lD),N(i,{icon:"zoom",class:"w-5 h-5 p-1 absolute right-3 cursor-pointer bg-default icon hidden transition-all",onClick:n=>((t,e)=>{var n,A;const i=r.data[p.value];v.value={tag:r.tag,line:i,caption:Array.isArray(null==i?void 0:i.more)?null==(n=null==i?void 0:i.more[e])?void 0:n.caption:null==(A=null==i?void 0:i.more)?void 0:A.caption,text:t},y.value=!0})(t,e)},null,8,["onClick"])])),[[S,!s.value]])})),128)),s.value&&n.data[p.value]?(I(),k("div",uD,[(I(),k(L,null,H([1,2,3],(t=>D("div",{class:"flex items-center border-b border-dimmest",key:t},cD))),64))])):R("",!0)],2),n.data.length>1?(I(),W(UT,{class:"pt-2",modelValue:h.value,"onUpdate:modelValue":e[0]||(e[0]=t=>h.value=t),min:u.value.minIndex,max:u.value.maxIndex,"bar-color":O(o),onChange:d,onTurn:g,key:u.value.maxIndex,"turn-by-arrow":n.modal&&!y.value},null,8,["modelValue","min","max","bar-color","turn-by-arrow"])):R("",!0),N(j,{"max-w":"1200",modelValue:y.value,"onUpdate:modelValue":e[1]||(e[1]=t=>y.value=t),"esc-exit":""},{default:_((()=>[N(AD,{data:v.value},null,8,["data"])])),_:1},8,["modelValue"])])}}},pD=Q(hD,[["__scopeId","data-v-363003df"]]),fD={class:"text-center font-semibold"},dD={key:0,class:"flex flex-col justify-center grow text-dimmer gap-2"},gD={class:"text-center text-xs"},yD={__name:"TextChart",props:{title:{type:String,required:!0},chart:{type:Object,required:!0},index:{type:Number,required:!0}},setup(e,{expose:n}){const A=e,r=t(),i=t(A.chart.source),o=a((()=>{var t;return r.value?null==(t=r.value[i.value[0]])?void 0:t.list:[]})),s=a((()=>A.chart.error?!r.value&&"No Data":A.chart.error)),l=t(!1),u=t(!1),c=()=>{u.value||(l.value=!1)};return n({render:t=>{r.value=t},change:t=>{for(let e in t)r.value[e]={...t[e]}},zoom:()=>{l.value=!0}}),(t,n)=>(I(),k(L,null,[D("p",fD,P(e.title),1),s.value?(I(),k("div",dD,[N(z,{class:"mx-auto h-5 w-5",icon:"error"}),D("p",gD,P(s.value),1)])):(I(),k(L,{key:1},[r.value?(I(),W(pD,{key:0,class:"text-table",data:o.value,tag:e.title},null,8,["data","tag"])):R("",!0),N(j,{class:"pb-4 overflow-hidden","max-w":"-1",modelValue:l.value,"onUpdate:modelValue":n[1]||(n[1]=t=>l.value=t),onOnExit:c},{default:_((()=>[N(pD,{modelValue:u.value,"onUpdate:modelValue":n[0]||(n[0]=t=>u.value=t),data:o.value,tag:e.title,modal:""},null,8,["modelValue","data","tag"])])),_:1},8,["modelValue"])],64))],64))}},vD=Q(yD,[["__scopeId","data-v-32dda51e"]]),mD={class:"flex flex-col justify-center grow text-dimmer gap-2"},BD={class:"text-center text-xs"},xD={__name:"UnknownChart",props:{title:{type:String,required:!0},chart:{type:Object,required:!0}},setup:(t,{expose:e})=>(e({render:()=>{},change:()=>{},zoom:()=>{}}),(e,n)=>{const A=z;return I(),k("div",mD,[N(A,{class:"mx-auto h-5 w-5",icon:"error"}),D("p",BD,P(e.$t("chart.unkonwn",{type:t.chart.type})),1)])})},wD=["disabled"],CD=Q({__name:"PanelButton",props:{icon:{type:String,required:!0},tip:{type:String,required:!0},clickIcon:{type:String,required:!1},clickClass:{type:String,required:!1}},setup(e){const n=e,A=t(n.icon),r=t(""),i=t(!1),o=()=>{i.value||(n.clickIcon&&(A.value=n.clickIcon,i.value=!0),n.clickClass&&(r.value=n.clickClass,i.value=!0))};return(t,n)=>{const a=at("tippy");return M((I(),k("button",{class:"pannel-button",onClick:o,disabled:O(i)},[N(z,{class:et(["h-full aspect-square",O(r)]),icon:O(A)},null,8,["class","icon"])],8,wD)),[[a,{content:e.tip}]])}}},[["__scopeId","data-v-409b3539"]]),FD={class:"image-detail"},bD=["title"],QD={class:"pl-1 truncate max-w-full"},UD={class:"relative"},ED=["src"],MD={key:1,class:"text-xs w-full text-center truncate"},SD=Q({__name:"ImageModule",props:{filename:String,imagesData:String,caption:String,index:[Number,String],name:String,color:String,multi:Boolean},emits:["zoom","download"],setup:t=>(e,n)=>(I(),k("div",FD,[t.name?(I(),k("div",{key:0,class:"text-xs flex items-center justify-center pb-1 w-full",title:t.name},[D("div",{class:"h-2 w-2 rounded-full shrink-0",style:T({backgroundColor:t.color})},null,4),D("p",QD,P(t.name),1)],8,bD)):R("",!0),D("div",{class:"image-container",onClick:n[1]||(n[1]=n=>e.$emit("zoom",t.filename,t.index))},[D("div",UD,[D("img",{src:t.imagesData},null,8,ED),N(MT,{class:"image-download-button",onClick:n[0]||(n[0]=st((n=>e.$emit("download",t.filename)),["stop"]))})])]),t.caption?(I(),k("p",MD,P(t.caption),1)):R("",!0)]))},[["__scopeId","data-v-b4d62674"]]),ID={class:"text-center font-semibold"},kD={key:0,class:"flex flex-col justify-center grow text-dimmer gap-2"},LD={class:"text-center text-xs"},HD={key:0},TD={key:1},DD={key:0,class:"flex flex-col justify-center items-center h-full"},PD={class:"md:h-8 md:flex md:gap-10 items-center justify-center mt-2"},OD={class:"text-center mt-4 mb-10 text-2xl font-semibold"},RD={class:"image-content image-content-zoom"},KD={key:0,class:"flex flex-col justify-center items-center h-full"},VD={class:"md:h-8 md:flex md:gap-10 items-center justify-center mt-2"},GD={class:"w-full overflow-hidden text-center text-lg font-semibold absolute top-5"},ND={key:0},_D={class:"image-single-zoom"},XD={class:"relative mx-5 select-none"},YD=["src"],zD={class:"w-full text-center absolute bottom-5 select-none"},WD={__name:"ImageChart",props:{title:{type:String,required:!0},chart:{type:Object,required:!0},index:{type:Number,required:!0}},setup(e,{expose:n}){const A=e,r=m("media"),i=a((()=>A.chart.source)),o=a((()=>A.chart.multi)),s=a((()=>{if(!A.chart.error)return!1;if(!o.value)return A.chart.error[i.value[0]];for(const t of i.value)if(A.chart.error[t])return!0;return!1})),l=m("getColor"),u=m("defaultColor"),c=t(0),h=t(void 0),p=t(void 0),f=t(0);tt([p,h],(([t,e])=>{f.value=t+"-"+e}));const d=t(!0),g=t(null),y=a({get:()=>c.value,set:t=>{if(t in Q.value){if(t===c.value&&!1===d.value)return;c.value=t}else{const e=Array.from(Object.keys(Q.value)),n=e.findIndex((e=>e>t)),A=Number(-1===n?e[e.length-1]:e[n]);if(A===c.value)return;c.value=A}d.value=!0,g.value.height=g.value.offsetHeight+"px",o.value&&(F.value=0),S(Q.value[c.value])}}),v=(t,e)=>{const n=Array.from(Object.keys(Q.value)),A=n.findIndex((t=>t>e));y.value=Number("forward"===t?-1===A?n[n.length-1]:n[A]:-1===A?n[Math.max(0,n.length-2)]:n[Math.max(0,A-2)])},B=(t,e)=>{F.value="forward"===t?e+1:e-1},x=t=>t<=8?"grid-template-columns:repeat("+t+", minmax(0, 1fr))":"grid-template-columns:repeat(8, minmax(0, 1fr))",w=a((()=>{let t=0;for(const e in Q.value[y.value]){const n=Q.value[y.value][e].length-1;n>t&&(t=n)}return t})),C=t(0),F=t(C.value),b=a((()=>{const t=[];for(const e in Q.value[y.value])t.push(e);return t})),Q=t({}),U={},E=async t=>{const e=i.value[0],n=[];for(const{filename:A,experiment_id:i}of t[e])U[A]||n.push(new Promise((t=>{r.get(A,i,e).then((e=>t(M(e,A))))})));await Promise.all(n)},M=(t,e)=>new Promise((n=>{const A=new FileReader;A.onload=function(){U[e]={blob:t,url:A.result},n()},A.readAsDataURL(t)})),S=it((async t=>{o.value?await(async t=>{const e=[];for(const n in t)for(const{filename:i,experiment_id:o}of t[n])U[i]||e.push(new Promise((t=>{r.get(i,o,A.title).then((e=>t(M(e,i))))})));await Promise.all(e)})(t):await E(t),d.value=!1,g.value.height=""}),500),K=t=>{var e,n;let r=0,i=1/0;for(const o in t){if(null===t[o])continue;r=Math.max(Number(t[o].list[t[o].list.length-1].index),r),i=Math.min(Number(t[o].list[0].index),i);const a=A.chart.source_map[o];for(const A of t[o].list)if(Q.value[A.index]||(Q.value[A.index]={}),!Q.value[A.index][o])if(Q.value[A.index][o]=[],"string"==typeof A.data)Q.value[A.index][o].push({filename:A.data,caption:null==(e=A.more)?void 0:e.caption,experiment_id:a});else for(let t=0;t<A.data.length;t++)Q.value[A.index][o].push({filename:A.data[t],caption:null==(n=A.more[t])?void 0:n.caption,experiment_id:a})}p.value=r,h.value=i},V=t(!1),G=t(!1),Y=t(),J=t(0),q=(t,e)=>{Y.value=t,G.value=!0,J.value=o.value?b.value.indexOf(e):e},Z=()=>{if(V.value&&G.value)return G.value=!1;V.value=!1,G.value=!1},$=({key:t})=>{const e=!o.value,n=e?Q.value[y.value][i.value[0]]:Q.value[y.value];("ArrowRight"===t&&J.value<(e?n.length-1:b.value.length-1)||"ArrowLeft"===t&&J.value>0)&&(J.value+="ArrowRight"===t?1:-1);const A=e?n[J.value].filename:n[b.value[J.value]][F.value].filename;Y.value=A};tt((()=>G.value),(t=>{t?window.addEventListener("keyup",$):window.removeEventListener("keyup",$)}));const nt=t=>{const e=U[t].blob,n=document.createElement("a"),A=window.URL.createObjectURL(e);n.href=A,n.download=t,n.click()};return n({render:t=>{K(t),y.value=p.value},change:t=>{K(t)},zoom:()=>{V.value=!0}}),(t,n)=>{const A=gt;return I(),k(L,null,[D("p",ID,P(e.title),1),s.value?(I(),k("div",kD,[N(z,{class:"mx-auto h-5 w-5",icon:"error"}),D("p",LD,[o.value?(I(),k("span",TD,P(t.$t("chart.error")),1)):(I(),k("span",HD,P(t.$t("chart.charts.image.error",{type:s.value.data_class,tag:i.value[0]})),1))])])):(I(),k(L,{key:1},[D("div",{class:"image-content image-content-no-zoom",ref_key:"imageContentRef",ref:g},[d.value?(I(),k("div",DD,[N(A)])):R("",!0),d.value||o.value?R("",!0):(I(),k("div",{key:1,class:"images-container",style:T(x(Q.value[y.value][i.value[0]].length))},[(I(!0),k(L,null,H(Q.value[y.value][i.value[0]],((t,e)=>(I(),W(SD,{key:e,filename:t.filename,imagesData:U[t.filename].url,caption:t.caption,index:e,onZoom:q,onDownload:nt},null,8,["filename","imagesData","caption","index"])))),128))],4)),!d.value&&o.value?(I(),k("div",{key:2,class:"images-container",style:T(x(b.value.length))},[(I(!0),k(L,null,H(Q.value[y.value],((t,n)=>(I(),W(SD,{key:n,filename:t[F.value].filename,imagesData:U[t[F.value].filename].url,caption:t[F.value].caption,index:n,name:n,color:O(l)(n,void 0,e.chart.id),multi:"",onZoom:q,onDownload:nt},null,8,["filename","imagesData","caption","index","name","color"])))),128))],4)):R("",!0)],512),D("div",PD,[p.value!==h.value?(I(),W(UT,{class:et({"md:!justify-end":o.value}),modelValue:y.value,"onUpdate:modelValue":n[0]||(n[0]=t=>y.value=t),max:p.value,min:h.value,"bar-color":O(u),key:f.value,onTurn:v},null,8,["class","modelValue","max","min","bar-color"])):R("",!0),o.value?(I(),W(UT,{class:et({"md:!justify-start":p.value!==h.value}),style:T({visibility:w.value||"hidden"}),modelValue:F.value,"onUpdate:modelValue":n[1]||(n[1]=t=>F.value=t),max:w.value,min:C.value,"bar-color":O(u),key:w.value,reference:"Index",onTurn:B},null,8,["class","style","modelValue","max","min","bar-color"])):R("",!0)]),N(j,{class:"p-10 pt-0 overflow-hidden","max-w":"-1",modelValue:V.value,"onUpdate:modelValue":n[4]||(n[4]=t=>V.value=t),onOnExit:Z},{default:_((()=>[D("p",OD,P(e.title),1),D("div",RD,[d.value?(I(),k("div",KD,[N(A)])):R("",!0),d.value||o.value?R("",!0):(I(),k("div",{key:1,class:"images-container",style:T(x(Q.value[y.value][i.value[0]].length))},[(I(!0),k(L,null,H(Q.value[y.value][i.value[0]],((t,e)=>(I(),W(SD,{key:e,filename:t.filename,imagesData:U[t.filename].url,caption:t.caption,index:e,onZoom:q,onDownload:nt},null,8,["filename","imagesData","caption","index"])))),128))],4)),!d.value&&o.value?(I(),k("div",{key:2,class:"images-container",style:T(x(b.value.length))},[(I(!0),k(L,null,H(Q.value[y.value],((t,n)=>(I(),W(SD,{key:n,filename:t[F.value].filename,imagesData:U[t[F.value].filename].url,caption:t[F.value].caption,index:n,name:n,color:O(l)(n,void 0,e.chart.id),multi:"",onZoom:q,onDownload:nt},null,8,["filename","imagesData","caption","index","name","color"])))),128))],4)):R("",!0)]),D("div",VD,[p.value!==h.value?(I(),W(UT,{class:et({"md:!justify-end":o.value}),modelValue:y.value,"onUpdate:modelValue":n[2]||(n[2]=t=>y.value=t),max:p.value,min:h.value,"bar-color":O(u),key:f.value,onTurn:v,"turn-by-arrow":V.value&&!G.value},null,8,["class","modelValue","max","min","bar-color","turn-by-arrow"])):R("",!0),o.value?(I(),W(UT,{class:et({"md:!justify-start":p.value!==h.value}),style:T({visibility:w.value||"hidden"}),modelValue:F.value,"onUpdate:modelValue":n[3]||(n[3]=t=>F.value=t),max:w.value,min:C.value,"bar-color":O(u),key:w.value,reference:"index",onTurn:B,"turn-by-arrow":V.value&&!G.value&&o.value,"vertical-arrow":""},null,8,["class","style","modelValue","max","min","bar-color","turn-by-arrow"])):R("",!0)])])),_:1},8,["modelValue"]),N(j,{class:"w-full flex justify-center min-h-[calc(100vh-8rem)] p-14 relative","max-w":"-1",modelValue:G.value,"onUpdate:modelValue":n[8]||(n[8]=t=>G.value=t),"close-on-overlay-click":"",onOnExit:Z},{default:_((()=>[D("p",GD,[o.value?(I(),k("span",ND,P(b.value[J.value])+" / ",1)):R("",!0),X(" "+P(Y.value),1)]),D("div",_D,[N(z,{icon:"down",class:"icon rotate-90",onClick:n[5]||(n[5]=t=>$({key:"ArrowLeft"}))}),D("div",XD,[D("img",{src:U[Y.value].url,class:"w-full"},null,8,YD),N(MT,{class:"image-download-button",onClick:n[6]||(n[6]=st((t=>nt(Y.value)),["stop"]))})]),N(z,{icon:"down",class:"icon -rotate-90",onClick:n[7]||(n[7]=t=>$({key:"ArrowRight"}))})]),D("p",zD,P(`${J.value+1} / ${o.value?b.value.length:Q.value[y.value][i.value[0]].length}`),1)])),_:1},8,["modelValue"])],64))],64)}}},jD=Q(WD,[["__scopeId","data-v-65e42ccf"]]),JD={class:"relative w-full items-center flex select-none",ref:"button"},qD=Q({__name:"SLMenu",props:{down:{type:Boolean,default:!1},downPosition:{type:String,default:"right-3 top-3"},menuClass:{type:String},class:{type:String,default:"w-full"},menuMinWidth:{type:String,default:"120"},menuMaxHeight:{type:String,default:"240"},itemsClass:{type:String,default:"bg-default"},cornerClass:{type:String,default:""},notFlip:{type:Boolean,default:!1}},setup(t){const e=t,n=a((()=>!!e.cornerClass));return(A,r)=>(I(),W(O(St),{as:"div",class:et(["relative select-none",e.menuClass])},{default:_((({open:r,close:i})=>[D("div",JD,[N(O(It),{class:et(["w-full",[{"sa-popover-button-active":r}]]),"data-sa-menu":""},{default:_((()=>[lt(A.$slots,"default",{open:r},(()=>[X("按钮")]),!0),t.down?(I(),W(z,{key:0,icon:"down",class:et(["h-4 w-4 absolute transition-transform duration-300",[A.$props.downPosition,{"rotate-180":r}]])},null,8,["class"])):R("",!0)])),_:2},1032,["class"])],512),D("div",{class:et(["absolute z-full",[A.$props.class]]),style:T({minWidth:t.menuMinWidth+"px"}),ref:"container"},[N(O(kt),{tabindex:"",as:"div",class:et(["sa-menu-pop py-2",[A.$props.itemsClass]]),style:T({maxHeight:e.menuMaxHeight+"px"}),"data-sa-menu":""},{default:_((()=>[lt(A.$slots,"pop",{open:r,close:i},(()=>[X("弹窗区域")]),!0)])),_:2},1032,["class","style"])],6),O(n)&&r?(I(),k("div",{key:0,class:et(["sa-menu-corner",[e.cornerClass]]),"data-sa-menu":"",ref:"corner"},null,2)):R("",!0)])),_:3},8,["class"]))}},[["__scopeId","data-v-c797d293"]]),ZD={class:"sa-menu-items"};const $D=Q({},[["render",function(t,e){return I(),k("div",ZD,[lt(t.$slots,"default",{},void 0,!0)])}],["__scopeId","data-v-eaa2bdc8"]]),tP={__name:"SLMenuItem",props:{as:{type:String,default:"div"}},setup:t=>(e,n)=>(I(),W(O(Lt),{as:t.as,class:"p-3 hover:bg-higher cursor-pointer"},{default:_((()=>[lt(e.$slots,"default")])),_:3},8,["as"]))};
/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var eP=function(t,e){return(eP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function nP(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}eP(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var AP=function(){return AP=Object.assign||function(t){for(var e,n=1,A=arguments.length;n<A;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},AP.apply(this,arguments)};function rP(t,e,n,A){return new(n||(n=Promise))((function(r,i){function o(t){try{s(A.next(t))}catch(e){i(e)}}function a(t){try{s(A.throw(t))}catch(e){i(e)}}function s(t){t.done?r(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(o,a)}s((A=A.apply(t,e||[])).next())}))}function iP(t,e){var n,A,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,A&&(r=2&i[0]?A.return:i[0]?A.throw||((r=A.return)&&r.call(A),0):A.next)&&!(r=r.call(A,i[1])).done)return r;switch(A=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,A=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(a){i=[6,a],A=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function oP(t,e,n){if(n||2===arguments.length)for(var A,r=0,i=e.length;r<i;r++)!A&&r in e||(A||(A=Array.prototype.slice.call(e,0,r)),A[r]=e[r]);return t.concat(A||e)}for(var aP=function(){function t(t,e,n,A){this.left=t,this.top=e,this.width=n,this.height=A}return t.prototype.add=function(e,n,A,r){return new t(this.left+e,this.top+n,this.width+A,this.height+r)},t.fromClientRect=function(e,n){return new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height)},t.fromDOMRectList=function(e,n){var A=Array.from(n).find((function(t){return 0!==t.width}));return A?new t(A.left+e.windowBounds.left,A.top+e.windowBounds.top,A.width,A.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),sP=function(t,e){return aP.fromClientRect(t,e.getBoundingClientRect())},lP=function(t){for(var e=[],n=0,A=t.length;n<A;){var r=t.charCodeAt(n++);if(r>=55296&&r<=56319&&n<A){var i=t.charCodeAt(n++);56320==(64512&i)?e.push(((1023&r)<<10)+(1023&i)+65536):(e.push(r),n--)}else e.push(r)}return e},uP=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var A=[],r=-1,i="";++r<n;){var o=t[r];o<=65535?A.push(o):(o-=65536,A.push(55296+(o>>10),o%1024+56320)),(r+1===n||A.length>16384)&&(i+=String.fromCharCode.apply(String,A),A.length=0)}return i},cP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",hP="undefined"==typeof Uint8Array?[]:new Uint8Array(256),pP=0;pP<64;pP++)hP[cP.charCodeAt(pP)]=pP;for(var fP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dP="undefined"==typeof Uint8Array?[]:new Uint8Array(256),gP=0;gP<64;gP++)dP[fP.charCodeAt(gP)]=gP;for(var yP=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},vP=function(){function t(t,e,n,A,r,i){this.initialValue=t,this.errorValue=e,this.highStart=n,this.highValueIndex=A,this.index=r,this.data=i}return t.prototype.get=function(t){var e;if(t>=0){if(t<55296||t>56319&&t<=65535)return e=((e=this.index[t>>5])<<2)+(31&t),this.data[e];if(t<=65535)return e=((e=this.index[2048+(t-55296>>5)])<<2)+(31&t),this.data[e];if(t<this.highStart)return e=2080+(t>>11),e=this.index[e],e+=t>>5&63,e=((e=this.index[e])<<2)+(31&t),this.data[e];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),mP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",BP="undefined"==typeof Uint8Array?[]:new Uint8Array(256),xP=0;xP<64;xP++)BP[mP.charCodeAt(xP)]=xP;var wP,CP,FP,bP,QP,UP,EP,MP,SP=10,IP=13,kP=15,LP=17,HP=18,TP=19,DP=20,PP=21,OP=22,RP=24,KP=25,VP=26,GP=27,NP=28,_P=30,XP=32,YP=33,zP=34,WP=35,jP=37,JP=38,qP=39,ZP=40,$P=42,tO=[9001,65288],eO="×",nO="÷",AO=(bP=function(t){var e,n,A,r,i,o=.75*t.length,a=t.length,s=0;"="===t[t.length-1]&&(o--,"="===t[t.length-2]&&o--);var l="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(o):new Array(o),u=Array.isArray(l)?l:new Uint8Array(l);for(e=0;e<a;e+=4)n=dP[t.charCodeAt(e)],A=dP[t.charCodeAt(e+1)],r=dP[t.charCodeAt(e+2)],i=dP[t.charCodeAt(e+3)],u[s++]=n<<2|A>>4,u[s++]=(15&A)<<4|r>>2,u[s++]=(3&r)<<6|63&i;return l}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),QP=Array.isArray(bP)?function(t){for(var e=t.length,n=[],A=0;A<e;A+=4)n.push(t[A+3]<<24|t[A+2]<<16|t[A+1]<<8|t[A]);return n}(bP):new Uint32Array(bP),UP=Array.isArray(bP)?function(t){for(var e=t.length,n=[],A=0;A<e;A+=2)n.push(t[A+1]<<8|t[A]);return n}(bP):new Uint16Array(bP),EP=yP(UP,12,QP[4]/2),MP=2===QP[5]?yP(UP,(24+QP[4])/2):(wP=QP,CP=Math.ceil((24+QP[4])/4),wP.slice?wP.slice(CP,FP):new Uint32Array(Array.prototype.slice.call(wP,CP,FP))),new vP(QP[0],QP[1],QP[2],QP[3],EP,MP)),rO=[_P,36],iO=[1,2,3,5],oO=[SP,8],aO=[GP,VP],sO=iO.concat(oO),lO=[JP,qP,ZP,zP,WP],uO=[kP,IP],cO=function(t,e,n,A){var r=A[n];if(Array.isArray(t)?-1!==t.indexOf(r):t===r)for(var i=n;i<=A.length;){if((s=A[++i])===e)return!0;if(s!==SP)break}if(r===SP)for(i=n;i>0;){var o=A[--i];if(Array.isArray(t)?-1!==t.indexOf(o):t===o)for(var a=n;a<=A.length;){var s;if((s=A[++a])===e)return!0;if(s!==SP)break}if(o!==SP)break}return!1},hO=function(t,e){for(var n=t;n>=0;){var A=e[n];if(A!==SP)return A;n--}return 0},pO=function(t,e,n,A,r){if(0===n[A])return eO;var i=A-1;if(Array.isArray(r)&&!0===r[i])return eO;var o=i-1,a=i+1,s=e[i],l=o>=0?e[o]:0,u=e[a];if(2===s&&3===u)return eO;if(-1!==iO.indexOf(s))return"!";if(-1!==iO.indexOf(u))return eO;if(-1!==oO.indexOf(u))return eO;if(8===hO(i,e))return nO;if(11===AO.get(t[i]))return eO;if((s===XP||s===YP)&&11===AO.get(t[a]))return eO;if(7===s||7===u)return eO;if(9===s)return eO;if(-1===[SP,IP,kP].indexOf(s)&&9===u)return eO;if(-1!==[LP,HP,TP,RP,NP].indexOf(u))return eO;if(hO(i,e)===OP)return eO;if(cO(23,OP,i,e))return eO;if(cO([LP,HP],PP,i,e))return eO;if(cO(12,12,i,e))return eO;if(s===SP)return nO;if(23===s||23===u)return eO;if(16===u||16===s)return nO;if(-1!==[IP,kP,PP].indexOf(u)||14===s)return eO;if(36===l&&-1!==uO.indexOf(s))return eO;if(s===NP&&36===u)return eO;if(u===DP)return eO;if(-1!==rO.indexOf(u)&&s===KP||-1!==rO.indexOf(s)&&u===KP)return eO;if(s===GP&&-1!==[jP,XP,YP].indexOf(u)||-1!==[jP,XP,YP].indexOf(s)&&u===VP)return eO;if(-1!==rO.indexOf(s)&&-1!==aO.indexOf(u)||-1!==aO.indexOf(s)&&-1!==rO.indexOf(u))return eO;if(-1!==[GP,VP].indexOf(s)&&(u===KP||-1!==[OP,kP].indexOf(u)&&e[a+1]===KP)||-1!==[OP,kP].indexOf(s)&&u===KP||s===KP&&-1!==[KP,NP,RP].indexOf(u))return eO;if(-1!==[KP,NP,RP,LP,HP].indexOf(u))for(var c=i;c>=0;){if((h=e[c])===KP)return eO;if(-1===[NP,RP].indexOf(h))break;c--}if(-1!==[GP,VP].indexOf(u))for(c=-1!==[LP,HP].indexOf(s)?o:i;c>=0;){var h;if((h=e[c])===KP)return eO;if(-1===[NP,RP].indexOf(h))break;c--}if(JP===s&&-1!==[JP,qP,zP,WP].indexOf(u)||-1!==[qP,zP].indexOf(s)&&-1!==[qP,ZP].indexOf(u)||-1!==[ZP,WP].indexOf(s)&&u===ZP)return eO;if(-1!==lO.indexOf(s)&&-1!==[DP,VP].indexOf(u)||-1!==lO.indexOf(u)&&s===GP)return eO;if(-1!==rO.indexOf(s)&&-1!==rO.indexOf(u))return eO;if(s===RP&&-1!==rO.indexOf(u))return eO;if(-1!==rO.concat(KP).indexOf(s)&&u===OP&&-1===tO.indexOf(t[a])||-1!==rO.concat(KP).indexOf(u)&&s===HP)return eO;if(41===s&&41===u){for(var p=n[i],f=1;p>0&&41===e[--p];)f++;if(f%2!=0)return eO}return s===XP&&u===YP?eO:nO},fO=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var n=function(t,e){void 0===e&&(e="strict");var n=[],A=[],r=[];return t.forEach((function(t,i){var o=AO.get(t);if(o>50?(r.push(!0),o-=50):r.push(!1),-1!==["normal","auto","loose"].indexOf(e)&&-1!==[8208,8211,12316,12448].indexOf(t))return A.push(i),n.push(16);if(4===o||11===o){if(0===i)return A.push(i),n.push(_P);var a=n[i-1];return-1===sO.indexOf(a)?(A.push(A[i-1]),n.push(a)):(A.push(i),n.push(_P))}return A.push(i),31===o?n.push("strict"===e?PP:jP):o===$P||29===o?n.push(_P):43===o?t>=131072&&t<=196605||t>=196608&&t<=262141?n.push(jP):n.push(_P):void n.push(o)})),[A,n,r]}(t,e.lineBreak),A=n[0],r=n[1],i=n[2];"break-all"!==e.wordBreak&&"break-word"!==e.wordBreak||(r=r.map((function(t){return-1!==[KP,_P,$P].indexOf(t)?jP:t})));var o="keep-all"===e.wordBreak?i.map((function(e,n){return e&&t[n]>=19968&&t[n]<=40959})):void 0;return[A,r,o]},dO=function(){function t(t,e,n,A){this.codePoints=t,this.required="!"===e,this.start=n,this.end=A}return t.prototype.slice=function(){return uP.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),gO=45,yO=43,vO=-1,mO=function(t){return t>=48&&t<=57},BO=function(t){return mO(t)||t>=65&&t<=70||t>=97&&t<=102},xO=function(t){return 10===t||9===t||32===t},wO=function(t){return function(t){return function(t){return t>=97&&t<=122}(t)||function(t){return t>=65&&t<=90}(t)}(t)||function(t){return t>=128}(t)||95===t},CO=function(t){return wO(t)||mO(t)||t===gO},FO=function(t){return t>=0&&t<=8||11===t||t>=14&&t<=31||127===t},bO=function(t,e){return 92===t&&10!==e},QO=function(t,e,n){return t===gO?wO(e)||bO(e,n):!!wO(t)||!(92!==t||!bO(t,e))},UO=function(t,e,n){return t===yO||t===gO?!!mO(e)||46===e&&mO(n):mO(46===t?e:t)},EO=function(t){var e=0,n=1;t[e]!==yO&&t[e]!==gO||(t[e]===gO&&(n=-1),e++);for(var A=[];mO(t[e]);)A.push(t[e++]);var r=A.length?parseInt(uP.apply(void 0,A),10):0;46===t[e]&&e++;for(var i=[];mO(t[e]);)i.push(t[e++]);var o=i.length,a=o?parseInt(uP.apply(void 0,i),10):0;69!==t[e]&&101!==t[e]||e++;var s=1;t[e]!==yO&&t[e]!==gO||(t[e]===gO&&(s=-1),e++);for(var l=[];mO(t[e]);)l.push(t[e++]);var u=l.length?parseInt(uP.apply(void 0,l),10):0;return n*(r+a*Math.pow(10,-o))*Math.pow(10,s*u)},MO={type:2},SO={type:3},IO={type:4},kO={type:13},LO={type:8},HO={type:21},TO={type:9},DO={type:10},PO={type:11},OO={type:12},RO={type:14},KO={type:23},VO={type:1},GO={type:25},NO={type:24},_O={type:26},XO={type:27},YO={type:28},zO={type:29},WO={type:31},jO={type:32},JO=function(){function t(){this._value=[]}return t.prototype.write=function(t){this._value=this._value.concat(lP(t))},t.prototype.read=function(){for(var t=[],e=this.consumeToken();e!==jO;)t.push(e),e=this.consumeToken();return t},t.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case 34:return this.consumeStringToken(34);case 35:var e=this.peekCodePoint(0),n=this.peekCodePoint(1),A=this.peekCodePoint(2);if(CO(e)||bO(n,A)){var r=QO(e,n,A)?2:1;return{type:5,value:this.consumeName(),flags:r}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),kO;break;case 39:return this.consumeStringToken(39);case 40:return MO;case 41:return SO;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),RO;break;case yO:if(UO(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case 44:return IO;case gO:var i=t,o=this.peekCodePoint(0),a=this.peekCodePoint(1);if(UO(i,o,a))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(QO(i,o,a))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(o===gO&&62===a)return this.consumeCodePoint(),this.consumeCodePoint(),NO;break;case 46:if(UO(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var s=this.consumeCodePoint();if(42===s&&47===(s=this.consumeCodePoint()))return this.consumeToken();if(s===vO)return this.consumeToken()}break;case 58:return _O;case 59:return XO;case 60:if(33===this.peekCodePoint(0)&&this.peekCodePoint(1)===gO&&this.peekCodePoint(2)===gO)return this.consumeCodePoint(),this.consumeCodePoint(),GO;break;case 64:var l=this.peekCodePoint(0),u=this.peekCodePoint(1),c=this.peekCodePoint(2);if(QO(l,u,c))return{type:7,value:this.consumeName()};break;case 91:return YO;case 92:if(bO(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case 93:return zO;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),LO;break;case 123:return PO;case 125:return OO;case 117:case 85:var h=this.peekCodePoint(0),p=this.peekCodePoint(1);return h!==yO||!BO(p)&&63!==p||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),TO;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),HO;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),DO;break;case vO:return jO}return xO(t)?(this.consumeWhiteSpace(),WO):mO(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):wO(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:uP(t)}},t.prototype.consumeCodePoint=function(){var t=this._value.shift();return void 0===t?-1:t},t.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},t.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},t.prototype.consumeUnicodeRangeToken=function(){for(var t=[],e=this.consumeCodePoint();BO(e)&&t.length<6;)t.push(e),e=this.consumeCodePoint();for(var n=!1;63===e&&t.length<6;)t.push(e),e=this.consumeCodePoint(),n=!0;if(n)return{type:30,start:parseInt(uP.apply(void 0,t.map((function(t){return 63===t?48:t}))),16),end:parseInt(uP.apply(void 0,t.map((function(t){return 63===t?70:t}))),16)};var A=parseInt(uP.apply(void 0,t),16);if(this.peekCodePoint(0)===gO&&BO(this.peekCodePoint(1))){this.consumeCodePoint(),e=this.consumeCodePoint();for(var r=[];BO(e)&&r.length<6;)r.push(e),e=this.consumeCodePoint();return{type:30,start:A,end:parseInt(uP.apply(void 0,r),16)}}return{type:30,start:A,end:A}},t.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return"url"===t.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},t.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===vO)return{type:22,value:""};var e=this.peekCodePoint(0);if(39===e||34===e){var n=this.consumeStringToken(this.consumeCodePoint());return 0===n.type&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===vO||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),KO)}for(;;){var A=this.consumeCodePoint();if(A===vO||41===A)return{type:22,value:uP.apply(void 0,t)};if(xO(A))return this.consumeWhiteSpace(),this.peekCodePoint(0)===vO||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:22,value:uP.apply(void 0,t)}):(this.consumeBadUrlRemnants(),KO);if(34===A||39===A||40===A||FO(A))return this.consumeBadUrlRemnants(),KO;if(92===A){if(!bO(A,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),KO;t.push(this.consumeEscapedCodePoint())}else t.push(A)}},t.prototype.consumeWhiteSpace=function(){for(;xO(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(41===t||t===vO)return;bO(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(t){for(var e="";t>0;){var n=Math.min(5e4,t);e+=uP.apply(void 0,this._value.splice(0,n)),t-=n}return this._value.shift(),e},t.prototype.consumeStringToken=function(t){for(var e="",n=0;;){var A=this._value[n];if(A===vO||void 0===A||A===t)return{type:0,value:e+=this.consumeStringSlice(n)};if(10===A)return this._value.splice(0,n),VO;if(92===A){var r=this._value[n+1];r!==vO&&void 0!==r&&(10===r?(e+=this.consumeStringSlice(n),n=-1,this._value.shift()):bO(A,r)&&(e+=this.consumeStringSlice(n),e+=uP(this.consumeEscapedCodePoint()),n=-1))}n++}},t.prototype.consumeNumber=function(){var t=[],e=4,n=this.peekCodePoint(0);for(n!==yO&&n!==gO||t.push(this.consumeCodePoint());mO(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var A=this.peekCodePoint(1);if(46===n&&mO(A))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=8;mO(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0),A=this.peekCodePoint(1);var r=this.peekCodePoint(2);if((69===n||101===n)&&((A===yO||A===gO)&&mO(r)||mO(A)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=8;mO(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[EO(t),e]},t.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),e=t[0],n=t[1],A=this.peekCodePoint(0),r=this.peekCodePoint(1),i=this.peekCodePoint(2);return QO(A,r,i)?{type:15,number:e,flags:n,unit:this.consumeName()}:37===A?(this.consumeCodePoint(),{type:16,number:e,flags:n}):{type:17,number:e,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(BO(t)){for(var e=uP(t);BO(this.peekCodePoint(0))&&e.length<6;)e+=uP(this.consumeCodePoint());xO(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(e,16);return 0===n||function(t){return t>=55296&&t<=57343}(n)||n>1114111?65533:n}return t===vO?65533:t},t.prototype.consumeName=function(){for(var t="";;){var e=this.consumeCodePoint();if(CO(e))t+=uP(e);else{if(!bO(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),t;t+=uP(this.consumeEscapedCodePoint())}}},t}(),qO=function(){function t(t){this._tokens=t}return t.create=function(e){var n=new JO;return n.write(e),new t(n.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var t=this.consumeToken();31===t.type;)t=this.consumeToken();if(32===t.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var e=this.consumeComponentValue();do{t=this.consumeToken()}while(31===t.type);if(32===t.type)return e;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var t=[];;){var e=this.consumeComponentValue();if(32===e.type)return t;t.push(e),t.push()}},t.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},t.prototype.consumeSimpleBlock=function(t){for(var e={type:t,values:[]},n=this.consumeToken();;){if(32===n.type||oR(n,t))return e;this.reconsumeToken(n),e.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(t){for(var e={name:t.value,values:[],type:18};;){var n=this.consumeToken();if(32===n.type||3===n.type)return e;this.reconsumeToken(n),e.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var t=this._tokens.shift();return void 0===t?jO:t},t.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},t}(),ZO=function(t){return 15===t.type},$O=function(t){return 17===t.type},tR=function(t){return 20===t.type},eR=function(t){return 0===t.type},nR=function(t,e){return tR(t)&&t.value===e},AR=function(t){return 31!==t.type},rR=function(t){return 31!==t.type&&4!==t.type},iR=function(t){var e=[],n=[];return t.forEach((function(t){if(4===t.type){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return e.push(n),void(n=[])}31!==t.type&&n.push(t)})),n.length&&e.push(n),e},oR=function(t,e){return 11===e&&12===t.type||(28===e&&29===t.type||2===e&&3===t.type)},aR=function(t){return 17===t.type||15===t.type},sR=function(t){return 16===t.type||aR(t)},lR=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},uR={type:17,number:0,flags:4},cR={type:16,number:50,flags:4},hR={type:16,number:100,flags:4},pR=function(t,e,n){var A=t[0],r=t[1];return[fR(A,e),fR(void 0!==r?r:A,n)]},fR=function(t,e){if(16===t.type)return t.number/100*e;if(ZO(t))switch(t.unit){case"rem":case"em":return 16*t.number;default:return t.number}return t.number},dR="grad",gR="turn",yR=function(t,e){if(15===e.type)switch(e.unit){case"deg":return Math.PI*e.number/180;case dR:return Math.PI/200*e.number;case"rad":return e.number;case gR:return 2*Math.PI*e.number}throw new Error("Unsupported angle type")},vR=function(t){return 15===t.type&&("deg"===t.unit||t.unit===dR||"rad"===t.unit||t.unit===gR)},mR=function(t){switch(t.filter(tR).map((function(t){return t.value})).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[uR,uR];case"to top":case"bottom":return BR(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[uR,hR];case"to right":case"left":return BR(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[hR,hR];case"to bottom":case"top":return BR(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[hR,uR];case"to left":case"right":return BR(270)}return 0},BR=function(t){return Math.PI*t/180},xR=function(t,e){if(18===e.type){var n=MR[e.name];if(void 0===n)throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return n(t,e.values)}if(5===e.type){if(3===e.value.length){var A=e.value.substring(0,1),r=e.value.substring(1,2),i=e.value.substring(2,3);return FR(parseInt(A+A,16),parseInt(r+r,16),parseInt(i+i,16),1)}if(4===e.value.length){A=e.value.substring(0,1),r=e.value.substring(1,2),i=e.value.substring(2,3);var o=e.value.substring(3,4);return FR(parseInt(A+A,16),parseInt(r+r,16),parseInt(i+i,16),parseInt(o+o,16)/255)}if(6===e.value.length){A=e.value.substring(0,2),r=e.value.substring(2,4),i=e.value.substring(4,6);return FR(parseInt(A,16),parseInt(r,16),parseInt(i,16),1)}if(8===e.value.length){A=e.value.substring(0,2),r=e.value.substring(2,4),i=e.value.substring(4,6),o=e.value.substring(6,8);return FR(parseInt(A,16),parseInt(r,16),parseInt(i,16),parseInt(o,16)/255)}}if(20===e.type){var a=IR[e.value.toUpperCase()];if(void 0!==a)return a}return IR.TRANSPARENT},wR=function(t){return!(255&t)},CR=function(t){var e=255&t,n=255&t>>8,A=255&t>>16,r=255&t>>24;return e<255?"rgba("+r+","+A+","+n+","+e/255+")":"rgb("+r+","+A+","+n+")"},FR=function(t,e,n,A){return(t<<24|e<<16|n<<8|Math.round(255*A))>>>0},bR=function(t,e){if(17===t.type)return t.number;if(16===t.type){var n=3===e?1:255;return 3===e?t.number/100*n:Math.round(t.number/100*n)}return 0},QR=function(t,e){var n=e.filter(rR);if(3===n.length){var A=n.map(bR),r=A[0],i=A[1],o=A[2];return FR(r,i,o,1)}if(4===n.length){var a=n.map(bR),s=(r=a[0],i=a[1],o=a[2],a[3]);return FR(r,i,o,s)}return 0};function UR(t,e,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(e-t)*n*6+t:n<.5?e:n<2/3?6*(e-t)*(2/3-n)+t:t}var ER=function(t,e){var n=e.filter(rR),A=n[0],r=n[1],i=n[2],o=n[3],a=(17===A.type?BR(A.number):yR(t,A))/(2*Math.PI),s=sR(r)?r.number/100:0,l=sR(i)?i.number/100:0,u=void 0!==o&&sR(o)?fR(o,1):1;if(0===s)return FR(255*l,255*l,255*l,1);var c=l<=.5?l*(s+1):l+s-l*s,h=2*l-c,p=UR(h,c,a+1/3),f=UR(h,c,a),d=UR(h,c,a-1/3);return FR(255*p,255*f,255*d,u)},MR={hsl:ER,hsla:ER,rgb:QR,rgba:QR},SR=function(t,e){return xR(t,qO.create(e).parseComponentValue())},IR={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},kR={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map((function(t){if(tR(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},LR={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},HR=function(t,e){var n=xR(t,e[0]),A=e[1];return A&&sR(A)?{color:n,stop:A}:{color:n,stop:null}},TR=function(t,e){var n=t[0],A=t[t.length-1];null===n.stop&&(n.stop=uR),null===A.stop&&(A.stop=hR);for(var r=[],i=0,o=0;o<t.length;o++){var a=t[o].stop;if(null!==a){var s=fR(a,e);s>i?r.push(s):r.push(i),i=s}else r.push(null)}var l=null;for(o=0;o<r.length;o++){var u=r[o];if(null===u)null===l&&(l=o);else if(null!==l){for(var c=o-l,h=(u-r[l-1])/(c+1),p=1;p<=c;p++)r[l+p-1]=h*p;l=null}}return t.map((function(t,n){return{color:t.color,stop:Math.max(Math.min(1,r[n]/e),0)}}))},DR=function(t,e,n){var A="number"==typeof t?t:function(t,e,n){var A=e/2,r=n/2,i=fR(t[0],e)-A,o=r-fR(t[1],n);return(Math.atan2(o,i)+2*Math.PI)%(2*Math.PI)}(t,e,n),r=Math.abs(e*Math.sin(A))+Math.abs(n*Math.cos(A)),i=e/2,o=n/2,a=r/2,s=Math.sin(A-Math.PI/2)*a,l=Math.cos(A-Math.PI/2)*a;return[r,i-l,i+l,o-s,o+s]},PR=function(t,e){return Math.sqrt(t*t+e*e)},OR=function(t,e,n,A,r){return[[0,0],[0,e],[t,0],[t,e]].reduce((function(t,e){var i=e[0],o=e[1],a=PR(n-i,A-o);return(r?a<t.optimumDistance:a>t.optimumDistance)?{optimumCorner:e,optimumDistance:a}:t}),{optimumDistance:r?1/0:-1/0,optimumCorner:null}).optimumCorner},RR=function(t,e){var n=BR(180),A=[];return iR(e).forEach((function(e,r){if(0===r){var i=e[0];if(20===i.type&&-1!==["top","left","right","bottom"].indexOf(i.value))return void(n=mR(e));if(vR(i))return void(n=(yR(t,i)+BR(270))%BR(360))}var o=HR(t,e);A.push(o)})),{angle:n,stops:A,type:1}},KR="closest-side",VR="farthest-side",GR="closest-corner",NR="farthest-corner",_R="circle",XR="ellipse",YR="cover",zR="contain",WR=function(t,e){var n=0,A=3,r=[],i=[];return iR(e).forEach((function(e,o){var a=!0;if(0===o?a=e.reduce((function(t,e){if(tR(e))switch(e.value){case"center":return i.push(cR),!1;case"top":case"left":return i.push(uR),!1;case"right":case"bottom":return i.push(hR),!1}else if(sR(e)||aR(e))return i.push(e),!1;return t}),a):1===o&&(a=e.reduce((function(t,e){if(tR(e))switch(e.value){case _R:return n=0,!1;case XR:return n=1,!1;case zR:case KR:return A=0,!1;case VR:return A=1,!1;case GR:return A=2,!1;case YR:case NR:return A=3,!1}else if(aR(e)||sR(e))return Array.isArray(A)||(A=[]),A.push(e),!1;return t}),a)),a){var s=HR(t,e);r.push(s)}})),{size:A,shape:n,stops:r,position:i,type:2}},jR=function(t,e){if(22===e.type){var n={url:e.value,type:0};return t.cache.addImage(e.value),n}if(18===e.type){var A=ZR[e.name];if(void 0===A)throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return A(t,e.values)}throw new Error("Unsupported image type "+e.type)};var JR,qR,ZR={"linear-gradient":function(t,e){var n=BR(180),A=[];return iR(e).forEach((function(e,r){if(0===r){var i=e[0];if(20===i.type&&"to"===i.value)return void(n=mR(e));if(vR(i))return void(n=yR(t,i))}var o=HR(t,e);A.push(o)})),{angle:n,stops:A,type:1}},"-moz-linear-gradient":RR,"-ms-linear-gradient":RR,"-o-linear-gradient":RR,"-webkit-linear-gradient":RR,"radial-gradient":function(t,e){var n=0,A=3,r=[],i=[];return iR(e).forEach((function(e,o){var a=!0;if(0===o){var s=!1;a=e.reduce((function(t,e){if(s)if(tR(e))switch(e.value){case"center":return i.push(cR),t;case"top":case"left":return i.push(uR),t;case"right":case"bottom":return i.push(hR),t}else(sR(e)||aR(e))&&i.push(e);else if(tR(e))switch(e.value){case _R:return n=0,!1;case XR:return n=1,!1;case"at":return s=!0,!1;case KR:return A=0,!1;case YR:case VR:return A=1,!1;case zR:case GR:return A=2,!1;case NR:return A=3,!1}else if(aR(e)||sR(e))return Array.isArray(A)||(A=[]),A.push(e),!1;return t}),a)}if(a){var l=HR(t,e);r.push(l)}})),{size:A,shape:n,stops:r,position:i,type:2}},"-moz-radial-gradient":WR,"-ms-radial-gradient":WR,"-o-radial-gradient":WR,"-webkit-radial-gradient":WR,"-webkit-gradient":function(t,e){var n=BR(180),A=[],r=1;return iR(e).forEach((function(e,n){var i=e[0];if(0===n){if(tR(i)&&"linear"===i.value)return void(r=1);if(tR(i)&&"radial"===i.value)return void(r=2)}if(18===i.type)if("from"===i.name){var o=xR(t,i.values[0]);A.push({stop:uR,color:o})}else if("to"===i.name){o=xR(t,i.values[0]);A.push({stop:hR,color:o})}else if("color-stop"===i.name){var a=i.values.filter(rR);if(2===a.length){o=xR(t,a[1]);var s=a[0];$O(s)&&A.push({stop:{type:16,number:100*s.number,flags:s.flags},color:o})}}})),1===r?{angle:(n+BR(180))%BR(360),stops:A,type:r}:{size:3,shape:0,stops:A,position:[],type:r}}},$R={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(0===e.length)return[];var n=e[0];return 20===n.type&&"none"===n.value?[]:e.filter((function(t){return rR(t)&&function(t){return!(20===t.type&&"none"===t.value||18===t.type&&!ZR[t.name])}(t)})).map((function(e){return jR(t,e)}))}},tK={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map((function(t){if(tR(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},eK={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return iR(e).map((function(t){return t.filter(sR)})).map(lR)}},nK={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return iR(e).map((function(t){return t.filter(tR).map((function(t){return t.value})).join(" ")})).map(AK)}},AK=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};(qR=JR||(JR={})).AUTO="auto",qR.CONTAIN="contain",qR.COVER="cover";var rK,iK,oK={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return iR(e).map((function(t){return t.filter(aK)}))}},aK=function(t){return tR(t)||sR(t)},sK=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},lK=sK("top"),uK=sK("right"),cK=sK("bottom"),hK=sK("left"),pK=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(t,e){return lR(e.filter(sR))}}},fK=pK("top-left"),dK=pK("top-right"),gK=pK("bottom-right"),yK=pK("bottom-left"),vK=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,e){switch(e){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},mK=vK("top"),BK=vK("right"),xK=vK("bottom"),wK=vK("left"),CK=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return ZO(e)?e.number:0}}},FK=CK("top"),bK=CK("right"),QK=CK("bottom"),UK=CK("left"),EK={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},MK={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){return"rtl"===e?1:0}},SK={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(tR).reduce((function(t,e){return t|IK(e.value)}),0)}},IK=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},kK={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},LK={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return 20===e.type&&"normal"===e.value?0:17===e.type||15===e.type?e.number:0}};(iK=rK||(rK={})).NORMAL="normal",iK.STRICT="strict";var HK,TK,DK={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){return"strict"===e?rK.STRICT:rK.NORMAL}},PK={name:"line-height",initialValue:"normal",prefix:!1,type:4},OK=function(t,e){return tR(t)&&"normal"===t.value?1.2*e:17===t.type?e*t.number:sR(t)?fR(t,e):e},RK={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return 20===e.type&&"none"===e.value?null:jR(t,e)}},KK={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){return"inside"===e?0:1}},VK={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},GK=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},NK=GK("top"),_K=GK("right"),XK=GK("bottom"),YK=GK("left"),zK={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(tR).map((function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}}))}},WK={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){return"break-word"===e?"break-word":"normal"}},jK=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},JK=jK("top"),qK=jK("right"),ZK=jK("bottom"),$K=jK("left"),tV={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},eV={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},nV={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return 1===e.length&&nR(e[0],"none")?[]:iR(e).map((function(e){for(var n={color:IR.TRANSPARENT,offsetX:uR,offsetY:uR,blur:uR},A=0,r=0;r<e.length;r++){var i=e[r];aR(i)?(0===A?n.offsetX=i:1===A?n.offsetY=i:n.blur=i,A++):n.color=xR(t,i)}return n}))}},AV={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},rV={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(20===e.type&&"none"===e.value)return null;if(18===e.type){var n=iV[e.name];if(void 0===n)throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return n(e.values)}return null}},iV={matrix:function(t){var e=t.filter((function(t){return 17===t.type})).map((function(t){return t.number}));return 6===e.length?e:null},matrix3d:function(t){var e=t.filter((function(t){return 17===t.type})).map((function(t){return t.number})),n=e[0],A=e[1];e[2],e[3];var r=e[4],i=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var o=e[12],a=e[13];return e[14],e[15],16===e.length?[n,A,r,i,o,a]:null}},oV={type:16,number:50,flags:4},aV=[oV,oV],sV={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var n=e.filter(sR);return 2!==n.length?aV:[n[0],n[1]]}},lV={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;default:return 0}}};(TK=HK||(HK={})).NORMAL="normal",TK.BREAK_ALL="break-all",TK.KEEP_ALL="keep-all";for(var uV={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return HK.BREAK_ALL;case"keep-all":return HK.KEEP_ALL;default:return HK.NORMAL}}},cV={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(20===e.type)return{auto:!0,order:0};if($O(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},hV=function(t,e){if(15===e.type)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")},pV={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return $O(e)?e.number:1}},fV={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},dV={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(tR).map((function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0})).filter((function(t){return 0!==t}))}},gV={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var n=[],A=[];return e.forEach((function(t){switch(t.type){case 20:case 0:n.push(t.value);break;case 17:n.push(t.number.toString());break;case 4:A.push(n.join(" ")),n.length=0}})),n.length&&A.push(n.join(" ")),A.map((function(t){return-1===t.indexOf(" ")?t:"'"+t+"'"}))}},yV={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},vV={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){return $O(e)?e.number:tR(e)&&"bold"===e.value?700:400}},mV={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(tR).map((function(t){return t.value}))}},BV={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},xV=function(t,e){return!!(t&e)},wV={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(0===e.length)return[];var n=e[0];return 20===n.type&&"none"===n.value?[]:e}},CV={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(0===e.length)return null;var n=e[0];if(20===n.type&&"none"===n.value)return null;for(var A=[],r=e.filter(AR),i=0;i<r.length;i++){var o=r[i],a=r[i+1];if(20===o.type){var s=a&&$O(a)?a.number:1;A.push({counter:o.value,increment:s})}}return A}},FV={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(0===e.length)return[];for(var n=[],A=e.filter(AR),r=0;r<A.length;r++){var i=A[r],o=A[r+1];if(tR(i)&&"none"!==i.value){var a=o&&$O(o)?o.number:0;n.push({counter:i.value,reset:a})}}return n}},bV={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(ZO).map((function(e){return hV(t,e)}))}},QV={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(0===e.length)return null;var n=e[0];if(20===n.type&&"none"===n.value)return null;var A=[],r=e.filter(eR);if(r.length%2!=0)return null;for(var i=0;i<r.length;i+=2){var o=r[i].value,a=r[i+1].value;A.push({open:o,close:a})}return A}},UV=function(t,e,n){if(!t)return"";var A=t[Math.min(e,t.length-1)];return A?n?A.open:A.close:""},EV={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return 1===e.length&&nR(e[0],"none")?[]:iR(e).map((function(e){for(var n={color:255,offsetX:uR,offsetY:uR,blur:uR,spread:uR,inset:!1},A=0,r=0;r<e.length;r++){var i=e[r];nR(i,"inset")?n.inset=!0:aR(i)?(0===A?n.offsetX=i:1===A?n.offsetY=i:2===A?n.blur=i:n.spread=i,A++):n.color=xR(t,i)}return n}))}},MV={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var n=[];return e.filter(tR).forEach((function(t){switch(t.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2)}})),[0,1,2].forEach((function(t){-1===n.indexOf(t)&&n.push(t)})),n}},SV={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},IV={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return ZO(e)?e.number:0}},kV=function(){function t(t,e){var n,A;this.animationDuration=TV(t,bV,e.animationDuration),this.backgroundClip=TV(t,kR,e.backgroundClip),this.backgroundColor=TV(t,LR,e.backgroundColor),this.backgroundImage=TV(t,$R,e.backgroundImage),this.backgroundOrigin=TV(t,tK,e.backgroundOrigin),this.backgroundPosition=TV(t,eK,e.backgroundPosition),this.backgroundRepeat=TV(t,nK,e.backgroundRepeat),this.backgroundSize=TV(t,oK,e.backgroundSize),this.borderTopColor=TV(t,lK,e.borderTopColor),this.borderRightColor=TV(t,uK,e.borderRightColor),this.borderBottomColor=TV(t,cK,e.borderBottomColor),this.borderLeftColor=TV(t,hK,e.borderLeftColor),this.borderTopLeftRadius=TV(t,fK,e.borderTopLeftRadius),this.borderTopRightRadius=TV(t,dK,e.borderTopRightRadius),this.borderBottomRightRadius=TV(t,gK,e.borderBottomRightRadius),this.borderBottomLeftRadius=TV(t,yK,e.borderBottomLeftRadius),this.borderTopStyle=TV(t,mK,e.borderTopStyle),this.borderRightStyle=TV(t,BK,e.borderRightStyle),this.borderBottomStyle=TV(t,xK,e.borderBottomStyle),this.borderLeftStyle=TV(t,wK,e.borderLeftStyle),this.borderTopWidth=TV(t,FK,e.borderTopWidth),this.borderRightWidth=TV(t,bK,e.borderRightWidth),this.borderBottomWidth=TV(t,QK,e.borderBottomWidth),this.borderLeftWidth=TV(t,UK,e.borderLeftWidth),this.boxShadow=TV(t,EV,e.boxShadow),this.color=TV(t,EK,e.color),this.direction=TV(t,MK,e.direction),this.display=TV(t,SK,e.display),this.float=TV(t,kK,e.cssFloat),this.fontFamily=TV(t,gV,e.fontFamily),this.fontSize=TV(t,yV,e.fontSize),this.fontStyle=TV(t,BV,e.fontStyle),this.fontVariant=TV(t,mV,e.fontVariant),this.fontWeight=TV(t,vV,e.fontWeight),this.letterSpacing=TV(t,LK,e.letterSpacing),this.lineBreak=TV(t,DK,e.lineBreak),this.lineHeight=TV(t,PK,e.lineHeight),this.listStyleImage=TV(t,RK,e.listStyleImage),this.listStylePosition=TV(t,KK,e.listStylePosition),this.listStyleType=TV(t,VK,e.listStyleType),this.marginTop=TV(t,NK,e.marginTop),this.marginRight=TV(t,_K,e.marginRight),this.marginBottom=TV(t,XK,e.marginBottom),this.marginLeft=TV(t,YK,e.marginLeft),this.opacity=TV(t,pV,e.opacity);var r=TV(t,zK,e.overflow);this.overflowX=r[0],this.overflowY=r[r.length>1?1:0],this.overflowWrap=TV(t,WK,e.overflowWrap),this.paddingTop=TV(t,JK,e.paddingTop),this.paddingRight=TV(t,qK,e.paddingRight),this.paddingBottom=TV(t,ZK,e.paddingBottom),this.paddingLeft=TV(t,$K,e.paddingLeft),this.paintOrder=TV(t,MV,e.paintOrder),this.position=TV(t,eV,e.position),this.textAlign=TV(t,tV,e.textAlign),this.textDecorationColor=TV(t,fV,null!==(n=e.textDecorationColor)&&void 0!==n?n:e.color),this.textDecorationLine=TV(t,dV,null!==(A=e.textDecorationLine)&&void 0!==A?A:e.textDecoration),this.textShadow=TV(t,nV,e.textShadow),this.textTransform=TV(t,AV,e.textTransform),this.transform=TV(t,rV,e.transform),this.transformOrigin=TV(t,sV,e.transformOrigin),this.visibility=TV(t,lV,e.visibility),this.webkitTextStrokeColor=TV(t,SV,e.webkitTextStrokeColor),this.webkitTextStrokeWidth=TV(t,IV,e.webkitTextStrokeWidth),this.wordBreak=TV(t,uV,e.wordBreak),this.zIndex=TV(t,cV,e.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},t.prototype.isTransparent=function(){return wR(this.backgroundColor)},t.prototype.isTransformed=function(){return null!==this.transform},t.prototype.isPositioned=function(){return 0!==this.position},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return 0!==this.float},t.prototype.isInlineLevel=function(){return xV(this.display,4)||xV(this.display,33554432)||xV(this.display,268435456)||xV(this.display,536870912)||xV(this.display,67108864)||xV(this.display,134217728)},t}(),LV=function(){return function(t,e){this.content=TV(t,wV,e.content),this.quotes=TV(t,QV,e.quotes)}}(),HV=function(){return function(t,e){this.counterIncrement=TV(t,CV,e.counterIncrement),this.counterReset=TV(t,FV,e.counterReset)}}(),TV=function(t,e,n){var A=new JO,r=null!=n?n.toString():e.initialValue;A.write(r);var i=new qO(A.read());switch(e.type){case 2:var o=i.parseComponentValue();return e.parse(t,tR(o)?o.value:e.initialValue);case 0:return e.parse(t,i.parseComponentValue());case 1:return e.parse(t,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(e.format){case"angle":return yR(t,i.parseComponentValue());case"color":return xR(t,i.parseComponentValue());case"image":return jR(t,i.parseComponentValue());case"length":var a=i.parseComponentValue();return aR(a)?a:uR;case"length-percentage":var s=i.parseComponentValue();return sR(s)?s:uR;case"time":return hV(t,i.parseComponentValue())}}},DV=function(t,e){var n=function(t){switch(t.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}}(t);return 1===n||e===n},PV=function(){return function(t,e){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,DV(e,3))debugger;this.styles=new kV(t,window.getComputedStyle(e,null)),GG(e)&&(this.styles.animationDuration.some((function(t){return t>0}))&&(e.style.animationDuration="0s"),null!==this.styles.transform&&(e.style.transform="none")),this.bounds=sP(this.context,e),DV(e,4)&&(this.flags|=16)}}(),OV="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",RV="undefined"==typeof Uint8Array?[]:new Uint8Array(256),KV=0;KV<64;KV++)RV[OV.charCodeAt(KV)]=KV;for(var VV=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},GV=function(){function t(t,e,n,A,r,i){this.initialValue=t,this.errorValue=e,this.highStart=n,this.highValueIndex=A,this.index=r,this.data=i}return t.prototype.get=function(t){var e;if(t>=0){if(t<55296||t>56319&&t<=65535)return e=((e=this.index[t>>5])<<2)+(31&t),this.data[e];if(t<=65535)return e=((e=this.index[2048+(t-55296>>5)])<<2)+(31&t),this.data[e];if(t<this.highStart)return e=2080+(t>>11),e=this.index[e],e+=t>>5&63,e=((e=this.index[e])<<2)+(31&t),this.data[e];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),NV="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_V="undefined"==typeof Uint8Array?[]:new Uint8Array(256),XV=0;XV<64;XV++)_V[NV.charCodeAt(XV)]=XV;var YV,zV,WV=8,jV=9,JV=11,qV=12,ZV=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var A=[],r=-1,i="";++r<n;){var o=t[r];o<=65535?A.push(o):(o-=65536,A.push(55296+(o>>10),o%1024+56320)),(r+1===n||A.length>16384)&&(i+=String.fromCharCode.apply(String,A),A.length=0)}return i},$V=function(t,e){var n=function(t){var e,n,A,r,i,o=.75*t.length,a=t.length,s=0;"="===t[t.length-1]&&(o--,"="===t[t.length-2]&&o--);var l="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(o):new Array(o),u=Array.isArray(l)?l:new Uint8Array(l);for(e=0;e<a;e+=4)n=RV[t.charCodeAt(e)],A=RV[t.charCodeAt(e+1)],r=RV[t.charCodeAt(e+2)],i=RV[t.charCodeAt(e+3)],u[s++]=n<<2|A>>4,u[s++]=(15&A)<<4|r>>2,u[s++]=(3&r)<<6|63&i;return l}(t),A=Array.isArray(n)?function(t){for(var e=t.length,n=[],A=0;A<e;A+=4)n.push(t[A+3]<<24|t[A+2]<<16|t[A+1]<<8|t[A]);return n}(n):new Uint32Array(n),r=Array.isArray(n)?function(t){for(var e=t.length,n=[],A=0;A<e;A+=2)n.push(t[A+1]<<8|t[A]);return n}(n):new Uint16Array(n),i=VV(r,12,A[4]/2),o=2===A[5]?VV(r,(24+A[4])/2):function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))}(A,Math.ceil((24+A[4])/4));return new GV(A[0],A[1],A[2],A[3],i,o)}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="),tG="×",eG=function(t){return $V.get(t)},nG=function(t,e,n){var A=n-2,r=e[A],i=e[n-1],o=e[n];if(2===i&&3===o)return tG;if(2===i||3===i||4===i)return"÷";if(2===o||3===o||4===o)return"÷";if(i===WV&&-1!==[WV,jV,JV,qV].indexOf(o))return tG;if(!(i!==JV&&i!==jV||o!==jV&&10!==o))return tG;if((i===qV||10===i)&&10===o)return tG;if(13===o||5===o)return tG;if(7===o)return tG;if(1===i)return tG;if(13===i&&14===o){for(;5===r;)r=e[--A];if(14===r)return tG}if(15===i&&15===o){for(var a=0;15===r;)a++,r=e[--A];if(a%2==0)return tG}return"÷"},AG=function(t){var e=function(t){for(var e=[],n=0,A=t.length;n<A;){var r=t.charCodeAt(n++);if(r>=55296&&r<=56319&&n<A){var i=t.charCodeAt(n++);56320==(64512&i)?e.push(((1023&r)<<10)+(1023&i)+65536):(e.push(r),n--)}else e.push(r)}return e}(t),n=e.length,A=0,r=0,i=e.map(eG);return{next:function(){if(A>=n)return{done:!0,value:null};for(var t=tG;A<n&&(t=nG(0,i,++A))===tG;);if(t!==tG||A===n){var o=ZV.apply(null,e.slice(r,A));return r=A,{value:o,done:!1}}return{done:!0,value:null}}}},rG=function(t){return 0===t[0]&&255===t[1]&&0===t[2]&&255===t[3]},iG=function(t,e,n,A,r){var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),a=document.createElementNS(i,"foreignObject");return o.setAttributeNS(null,"width",t.toString()),o.setAttributeNS(null,"height",e.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",n.toString()),a.setAttributeNS(null,"y",A.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(a),a.appendChild(r),o},oG=function(t){return new Promise((function(e,n){var A=new Image;A.onload=function(){return e(A)},A.onerror=n,A.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(t))}))},aG={get SUPPORT_RANGE_BOUNDS(){var t=function(t){if(t.createRange){var e=t.createRange();if(e.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height="123px",n.style.display="block",t.body.appendChild(n),e.selectNode(n);var A=e.getBoundingClientRect(),r=Math.round(A.height);if(t.body.removeChild(n),123===r)return!0}}return!1}(document);return Object.defineProperty(aG,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=aG.SUPPORT_RANGE_BOUNDS&&function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var n=t.createRange();e.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var A=e.firstChild,r=lP(A.data).map((function(t){return uP(t)})),i=0,o={},a=r.every((function(t,e){n.setStart(A,i),n.setEnd(A,i+t.length);var r=n.getBoundingClientRect();i+=t.length;var a=r.x>o.x||r.y>o.y;return o=r,0===e||a}));return t.body.removeChild(e),a}(document);return Object.defineProperty(aG,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=function(t){var e=new Image,n=t.createElement("canvas"),A=n.getContext("2d");if(!A)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{A.drawImage(e,0,0),n.toDataURL()}catch(r){return!1}return!0}(document);return Object.defineProperty(aG,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t="function"==typeof Array.from&&"function"==typeof window.fetch?function(t){var e=t.createElement("canvas"),n=100;e.width=n,e.height=n;var A=e.getContext("2d");if(!A)return Promise.reject(!1);A.fillStyle="rgb(0, 255, 0)",A.fillRect(0,0,n,n);var r=new Image,i=e.toDataURL();r.src=i;var o=iG(n,n,0,0,r);return A.fillStyle="red",A.fillRect(0,0,n,n),oG(o).then((function(e){A.drawImage(e,0,0);var r=A.getImageData(0,0,n,n).data;A.fillStyle="red",A.fillRect(0,0,n,n);var o=t.createElement("div");return o.style.backgroundImage="url("+i+")",o.style.height=n+"px",rG(r)?oG(iG(n,n,0,0,o)):Promise.reject(!1)})).then((function(t){return A.drawImage(t,0,0),rG(A.getImageData(0,0,n,n).data)})).catch((function(){return!1}))}(document):Promise.resolve(!1);return Object.defineProperty(aG,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=void 0!==(new Image).crossOrigin;return Object.defineProperty(aG,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(aG,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(aG,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!("undefined"==typeof Intl||!Intl.Segmenter);return Object.defineProperty(aG,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},sG=function(){return function(t,e){this.text=t,this.bounds=e}}(),lG=function(t,e){var n=e.ownerDocument;if(n){var A=n.createElement("html2canvaswrapper");A.appendChild(e.cloneNode(!0));var r=e.parentNode;if(r){r.replaceChild(A,e);var i=sP(t,A);return A.firstChild&&r.replaceChild(A.firstChild,A),i}}return aP.EMPTY},uG=function(t,e,n){var A=t.ownerDocument;if(!A)throw new Error("Node has no owner document");var r=A.createRange();return r.setStart(t,e),r.setEnd(t,e+n),r},cG=function(t){if(aG.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map((function(t){return t.segment}))}return function(t){for(var e,n=AG(t),A=[];!(e=n.next()).done;)e.value&&A.push(e.value.slice());return A}(t)},hG=function(t,e){return 0!==e.letterSpacing?cG(t):function(t,e){if(aG.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(t)).map((function(t){return t.segment}))}return fG(t,e)}(t,e)},pG=[32,160,4961,65792,65793,4153,4241],fG=function(t,e){for(var n,A=function(t,e){var n=lP(t),A=fO(n,e),r=A[0],i=A[1],o=A[2],a=n.length,s=0,l=0;return{next:function(){if(l>=a)return{done:!0,value:null};for(var t=eO;l<a&&(t=pO(n,i,r,++l,o))===eO;);if(t!==eO||l===a){var e=new dO(n,t,s,l);return s=l,{value:e,done:!1}}return{done:!0,value:null}}}}(t,{lineBreak:e.lineBreak,wordBreak:"break-word"===e.overflowWrap?"break-word":e.wordBreak}),r=[],i=function(){if(n.value){var t=n.value.slice(),e=lP(t),A="";e.forEach((function(t){-1===pG.indexOf(t)?A+=uP(t):(A.length&&r.push(A),r.push(uP(t)),A="")})),A.length&&r.push(A)}};!(n=A.next()).done;)i();return r},dG=function(){return function(t,e,n){this.text=gG(e.data,n.textTransform),this.textBounds=function(t,e,n,A){var r=hG(e,n),i=[],o=0;return r.forEach((function(e){if(n.textDecorationLine.length||e.trim().length>0)if(aG.SUPPORT_RANGE_BOUNDS){var r=uG(A,o,e.length).getClientRects();if(r.length>1){var a=cG(e),s=0;a.forEach((function(e){i.push(new sG(e,aP.fromDOMRectList(t,uG(A,s+o,e.length).getClientRects()))),s+=e.length}))}else i.push(new sG(e,aP.fromDOMRectList(t,r)))}else{var l=A.splitText(e.length);i.push(new sG(e,lG(t,A))),A=l}else aG.SUPPORT_RANGE_BOUNDS||(A=A.splitText(e.length));o+=e.length})),i}(t,this.text,n,e)}}(),gG=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(yG,vG);case 2:return t.toUpperCase();default:return t}},yG=/(^|\s|:|-|\(|\))([a-z])/g,vG=function(t,e,n){return t.length>0?e+n.toUpperCase():t},mG=function(t){function e(e,n){var A=t.call(this,e,n)||this;return A.src=n.currentSrc||n.src,A.intrinsicWidth=n.naturalWidth,A.intrinsicHeight=n.naturalHeight,A.context.cache.addImage(A.src),A}return nP(e,t),e}(PV),BG=function(t){function e(e,n){var A=t.call(this,e,n)||this;return A.canvas=n,A.intrinsicWidth=n.width,A.intrinsicHeight=n.height,A}return nP(e,t),e}(PV),xG=function(t){function e(e,n){var A=t.call(this,e,n)||this,r=new XMLSerializer,i=sP(e,n);return n.setAttribute("width",i.width+"px"),n.setAttribute("height",i.height+"px"),A.svg="data:image/svg+xml,"+encodeURIComponent(r.serializeToString(n)),A.intrinsicWidth=n.width.baseVal.value,A.intrinsicHeight=n.height.baseVal.value,A.context.cache.addImage(A.svg),A}return nP(e,t),e}(PV),wG=function(t){function e(e,n){var A=t.call(this,e,n)||this;return A.value=n.value,A}return nP(e,t),e}(PV),CG=function(t){function e(e,n){var A=t.call(this,e,n)||this;return A.start=n.start,A.reversed="boolean"==typeof n.reversed&&!0===n.reversed,A}return nP(e,t),e}(PV),FG=[{type:15,flags:0,unit:"px",number:3}],bG=[{type:16,flags:0,number:50}],QG="checkbox",UG="radio",EG="password",MG=707406591,SG=function(t){function e(e,n){var A,r=t.call(this,e,n)||this;switch(r.type=n.type.toLowerCase(),r.checked=n.checked,r.value=function(t){var e=t.type===EG?new Array(t.value.length+1).join("•"):t.value;return 0===e.length?t.placeholder||"":e}(n),r.type!==QG&&r.type!==UG||(r.styles.backgroundColor=3739148031,r.styles.borderTopColor=r.styles.borderRightColor=r.styles.borderBottomColor=r.styles.borderLeftColor=2779096575,r.styles.borderTopWidth=r.styles.borderRightWidth=r.styles.borderBottomWidth=r.styles.borderLeftWidth=1,r.styles.borderTopStyle=r.styles.borderRightStyle=r.styles.borderBottomStyle=r.styles.borderLeftStyle=1,r.styles.backgroundClip=[0],r.styles.backgroundOrigin=[0],r.bounds=(A=r.bounds).width>A.height?new aP(A.left+(A.width-A.height)/2,A.top,A.height,A.height):A.width<A.height?new aP(A.left,A.top+(A.height-A.width)/2,A.width,A.width):A),r.type){case QG:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=FG;break;case UG:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=bG}return r}return nP(e,t),e}(PV),IG=function(t){function e(e,n){var A=t.call(this,e,n)||this,r=n.options[n.selectedIndex||0];return A.value=r&&r.text||"",A}return nP(e,t),e}(PV),kG=function(t){function e(e,n){var A=t.call(this,e,n)||this;return A.value=n.value,A}return nP(e,t),e}(PV),LG=function(t){function e(e,n){var A=t.call(this,e,n)||this;A.src=n.src,A.width=parseInt(n.width,10)||0,A.height=parseInt(n.height,10)||0,A.backgroundColor=A.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){A.tree=PG(e,n.contentWindow.document.documentElement);var r=n.contentWindow.document.documentElement?SR(e,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):IR.TRANSPARENT,i=n.contentWindow.document.body?SR(e,getComputedStyle(n.contentWindow.document.body).backgroundColor):IR.TRANSPARENT;A.backgroundColor=wR(r)?wR(i)?A.styles.backgroundColor:i:r}}catch(o){}return A}return nP(e,t),e}(PV),HG=["OL","UL","MENU"],TG=function(t,e,n,A){for(var r=e.firstChild,i=void 0;r;r=i)if(i=r.nextSibling,KG(r)&&r.data.trim().length>0)n.textNodes.push(new dG(t,r,n.styles));else if(VG(r))if(nN(r)&&r.assignedNodes)r.assignedNodes().forEach((function(e){return TG(t,e,n,A)}));else{var o=DG(t,r);o.styles.isVisible()&&(OG(r,o,A)?o.flags|=4:RG(o.styles)&&(o.flags|=2),-1!==HG.indexOf(r.tagName)&&(o.flags|=8),n.elements.push(o),r.slot,r.shadowRoot?TG(t,r.shadowRoot,o,A):tN(r)||zG(r)||eN(r)||TG(t,r,o,A))}},DG=function(t,e){return qG(e)?new mG(t,e):jG(e)?new BG(t,e):zG(e)?new xG(t,e):_G(e)?new wG(t,e):XG(e)?new CG(t,e):YG(e)?new SG(t,e):eN(e)?new IG(t,e):tN(e)?new kG(t,e):ZG(e)?new LG(t,e):new PV(t,e)},PG=function(t,e){var n=DG(t,e);return n.flags|=4,TG(t,e,n,n),n},OG=function(t,e,n){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||WG(t)&&n.styles.isTransparent()},RG=function(t){return t.isPositioned()||t.isFloating()},KG=function(t){return t.nodeType===Node.TEXT_NODE},VG=function(t){return t.nodeType===Node.ELEMENT_NODE},GG=function(t){return VG(t)&&void 0!==t.style&&!NG(t)},NG=function(t){return"object"==typeof t.className},_G=function(t){return"LI"===t.tagName},XG=function(t){return"OL"===t.tagName},YG=function(t){return"INPUT"===t.tagName},zG=function(t){return"svg"===t.tagName},WG=function(t){return"BODY"===t.tagName},jG=function(t){return"CANVAS"===t.tagName},JG=function(t){return"VIDEO"===t.tagName},qG=function(t){return"IMG"===t.tagName},ZG=function(t){return"IFRAME"===t.tagName},$G=function(t){return"STYLE"===t.tagName},tN=function(t){return"TEXTAREA"===t.tagName},eN=function(t){return"SELECT"===t.tagName},nN=function(t){return"SLOT"===t.tagName},AN=function(t){return t.tagName.indexOf("-")>0},rN=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(t){var e=this.counters[t];return e&&e.length?e[e.length-1]:1},t.prototype.getCounterValues=function(t){var e=this.counters[t];return e||[]},t.prototype.pop=function(t){var e=this;t.forEach((function(t){return e.counters[t].pop()}))},t.prototype.parse=function(t){var e=this,n=t.counterIncrement,A=t.counterReset,r=!0;null!==n&&n.forEach((function(t){var n=e.counters[t.counter];n&&0!==t.increment&&(r=!1,n.length||n.push(1),n[Math.max(0,n.length-1)]+=t.increment)}));var i=[];return r&&A.forEach((function(t){var n=e.counters[t.counter];i.push(t.counter),n||(n=e.counters[t.counter]=[]),n.push(t.reset)})),i},t}(),iN={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},oN={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},aN={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},sN={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},lN=function(t,e,n,A,r,i){return t<e||t>n?vN(t,r,i.length>0):A.integers.reduce((function(e,n,r){for(;t>=n;)t-=n,e+=A.values[r];return e}),"")+i},uN=function(t,e,n,A){var r="";do{n||t--,r=A(t)+r,t/=e}while(t*e>=e);return r},cN=function(t,e,n,A,r){var i=n-e+1;return(t<0?"-":"")+(uN(Math.abs(t),i,A,(function(t){return uP(Math.floor(t%i)+e)}))+r)},hN=function(t,e,n){void 0===n&&(n=". ");var A=e.length;return uN(Math.abs(t),A,!1,(function(t){return e[Math.floor(t%A)]}))+n},pN=function(t,e,n,A,r,i){if(t<-9999||t>9999)return vN(t,4,r.length>0);var o=Math.abs(t),a=r;if(0===o)return e[0]+a;for(var s=0;o>0&&s<=4;s++){var l=o%10;0===l&&xV(i,1)&&""!==a?a=e[l]+a:l>1||1===l&&0===s||1===l&&1===s&&xV(i,2)||1===l&&1===s&&xV(i,4)&&t>100||1===l&&s>1&&xV(i,8)?a=e[l]+(s>0?n[s-1]:"")+a:1===l&&s>0&&(a=n[s-1]+a),o=Math.floor(o/10)}return(t<0?A:"")+a},fN="十百千萬",dN="拾佰仟萬",gN="マイナス",yN="마이너스",vN=function(t,e,n){var A=n?". ":"",r=n?"、":"",i=n?", ":"",o=n?" ":"";switch(e){case 0:return"•"+o;case 1:return"◦"+o;case 2:return"◾"+o;case 5:var a=cN(t,48,57,!0,A);return a.length<4?"0"+a:a;case 4:return hN(t,"〇一二三四五六七八九",r);case 6:return lN(t,1,3999,iN,3,A).toLowerCase();case 7:return lN(t,1,3999,iN,3,A);case 8:return cN(t,945,969,!1,A);case 9:return cN(t,97,122,!1,A);case 10:return cN(t,65,90,!1,A);case 11:return cN(t,1632,1641,!0,A);case 12:case 49:return lN(t,1,9999,oN,3,A);case 35:return lN(t,1,9999,oN,3,A).toLowerCase();case 13:return cN(t,2534,2543,!0,A);case 14:case 30:return cN(t,6112,6121,!0,A);case 15:return hN(t,"子丑寅卯辰巳午未申酉戌亥",r);case 16:return hN(t,"甲乙丙丁戊己庚辛壬癸",r);case 17:case 48:return pN(t,"零一二三四五六七八九",fN,"負",r,14);case 47:return pN(t,"零壹貳參肆伍陸柒捌玖",dN,"負",r,15);case 42:return pN(t,"零一二三四五六七八九",fN,"负",r,14);case 41:return pN(t,"零壹贰叁肆伍陆柒捌玖",dN,"负",r,15);case 26:return pN(t,"〇一二三四五六七八九","十百千万",gN,r,0);case 25:return pN(t,"零壱弐参四伍六七八九","拾百千万",gN,r,7);case 31:return pN(t,"영일이삼사오육칠팔구","십백천만",yN,i,7);case 33:return pN(t,"零一二三四五六七八九","十百千萬",yN,i,0);case 32:return pN(t,"零壹貳參四五六七八九","拾百千",yN,i,7);case 18:return cN(t,2406,2415,!0,A);case 20:return lN(t,1,19999,sN,3,A);case 21:return cN(t,2790,2799,!0,A);case 22:return cN(t,2662,2671,!0,A);case 22:return lN(t,1,10999,aN,3,A);case 23:return hN(t,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return hN(t,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return cN(t,3302,3311,!0,A);case 28:return hN(t,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",r);case 29:return hN(t,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",r);case 34:return cN(t,3792,3801,!0,A);case 37:return cN(t,6160,6169,!0,A);case 38:return cN(t,4160,4169,!0,A);case 39:return cN(t,2918,2927,!0,A);case 40:return cN(t,1776,1785,!0,A);case 43:return cN(t,3046,3055,!0,A);case 44:return cN(t,3174,3183,!0,A);case 45:return cN(t,3664,3673,!0,A);case 46:return cN(t,3872,3881,!0,A);default:return cN(t,48,57,!0,A)}},mN="data-html2canvas-ignore",BN=function(){function t(t,e,n){if(this.context=t,this.options=n,this.scrolledElements=[],this.referenceElement=e,this.counters=new rN,this.quoteDepth=0,!e.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(e.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(t,e){var n=this,A=CN(t,e);if(!A.contentWindow)return Promise.reject("Unable to find iframe window");var r=t.defaultView.pageXOffset,i=t.defaultView.pageYOffset,o=A.contentWindow,a=o.document,s=QN(A).then((function(){return rP(n,void 0,void 0,(function(){var t,n;return iP(this,(function(r){switch(r.label){case 0:return this.scrolledElements.forEach(IN),o&&(o.scrollTo(e.left,e.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||o.scrollY===e.top&&o.scrollX===e.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-e.left,o.scrollY-e.top,0,0))),t=this.options.onclone,void 0===(n=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:a.fonts&&a.fonts.ready?[4,a.fonts.ready]:[3,2];case 1:r.sent(),r.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,bN(a)]:[3,4];case 3:r.sent(),r.label=4;case 4:return"function"==typeof t?[2,Promise.resolve().then((function(){return t(a,n)})).then((function(){return A}))]:[2,A]}}))}))}));return a.open(),a.write(MN(document.doctype)+"<html></html>"),SN(this.referenceElement.ownerDocument,r,i),a.replaceChild(a.adoptNode(this.documentElement),a.documentElement),a.close(),s},t.prototype.createElementClone=function(t){if(DV(t,2))debugger;if(jG(t))return this.createCanvasClone(t);if(JG(t))return this.createVideoClone(t);if($G(t))return this.createStyleClone(t);var e=t.cloneNode(!1);return qG(e)&&(qG(t)&&t.currentSrc&&t.currentSrc!==t.src&&(e.src=t.currentSrc,e.srcset=""),"lazy"===e.loading&&(e.loading="eager")),AN(e)?this.createCustomElementClone(e):e},t.prototype.createCustomElementClone=function(t){var e=document.createElement("html2canvascustomelement");return EN(t.style,e),e},t.prototype.createStyleClone=function(t){try{var e=t.sheet;if(e&&e.cssRules){var n=[].slice.call(e.cssRules,0).reduce((function(t,e){return e&&"string"==typeof e.cssText?t+e.cssText:t}),""),A=t.cloneNode(!1);return A.textContent=n,A}}catch(r){if(this.context.logger.error("Unable to access cssRules property",r),"SecurityError"!==r.name)throw r}return t.cloneNode(!1)},t.prototype.createCanvasClone=function(t){var e;if(this.options.inlineImages&&t.ownerDocument){var n=t.ownerDocument.createElement("img");try{return n.src=t.toDataURL(),n}catch(s){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var A=t.cloneNode(!1);try{A.width=t.width,A.height=t.height;var r=t.getContext("2d"),i=A.getContext("2d");if(i)if(!this.options.allowTaint&&r)i.putImageData(r.getImageData(0,0,t.width,t.height),0,0);else{var o=null!==(e=t.getContext("webgl2"))&&void 0!==e?e:t.getContext("webgl");if(o){var a=o.getContextAttributes();!1===(null==a?void 0:a.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}i.drawImage(t,0,0)}return A}catch(s){this.context.logger.info("Unable to clone canvas as it is tainted",t)}return A},t.prototype.createVideoClone=function(t){var e=t.ownerDocument.createElement("canvas");e.width=t.offsetWidth,e.height=t.offsetHeight;var n=e.getContext("2d");try{return n&&(n.drawImage(t,0,0,e.width,e.height),this.options.allowTaint||n.getImageData(0,0,e.width,e.height)),e}catch(r){this.context.logger.info("Unable to clone video as it is tainted",t)}var A=t.ownerDocument.createElement("canvas");return A.width=t.offsetWidth,A.height=t.offsetHeight,A},t.prototype.appendChildNode=function(t,e,n){VG(e)&&("SCRIPT"===e.tagName||e.hasAttribute(mN)||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(e))||this.options.copyStyles&&VG(e)&&$G(e)||t.appendChild(this.cloneNode(e,n))},t.prototype.cloneChildNodes=function(t,e,n){for(var A=this,r=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;r;r=r.nextSibling)if(VG(r)&&nN(r)&&"function"==typeof r.assignedNodes){var i=r.assignedNodes();i.length&&i.forEach((function(t){return A.appendChildNode(e,t,n)}))}else this.appendChildNode(e,r,n)},t.prototype.cloneNode=function(t,e){if(KG(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var n=t.ownerDocument.defaultView;if(n&&VG(t)&&(GG(t)||NG(t))){var A=this.createElementClone(t);A.style.transitionProperty="none";var r=n.getComputedStyle(t),i=n.getComputedStyle(t,":before"),o=n.getComputedStyle(t,":after");this.referenceElement===t&&GG(A)&&(this.clonedReferenceElement=A),WG(A)&&TN(A);var a=this.counters.parse(new HV(this.context,r)),s=this.resolvePseudoContent(t,A,i,YV.BEFORE);AN(t)&&(e=!0),JG(t)||this.cloneChildNodes(t,A,e),s&&A.insertBefore(s,A.firstChild);var l=this.resolvePseudoContent(t,A,o,YV.AFTER);return l&&A.appendChild(l),this.counters.pop(a),(r&&(this.options.copyStyles||NG(t))&&!ZG(t)||e)&&EN(r,A),0===t.scrollTop&&0===t.scrollLeft||this.scrolledElements.push([A,t.scrollLeft,t.scrollTop]),(tN(t)||eN(t))&&(tN(A)||eN(A))&&(A.value=t.value),A}return t.cloneNode(!1)},t.prototype.resolvePseudoContent=function(t,e,n,A){var r=this;if(n){var i=n.content,o=e.ownerDocument;if(o&&i&&"none"!==i&&"-moz-alt-content"!==i&&"none"!==n.display){this.counters.parse(new HV(this.context,n));var a=new LV(this.context,n),s=o.createElement("html2canvaspseudoelement");EN(n,s),a.content.forEach((function(e){if(0===e.type)s.appendChild(o.createTextNode(e.value));else if(22===e.type){var n=o.createElement("img");n.src=e.value,n.style.opacity="1",s.appendChild(n)}else if(18===e.type){if("attr"===e.name){var A=e.values.filter(tR);A.length&&s.appendChild(o.createTextNode(t.getAttribute(A[0].value)||""))}else if("counter"===e.name){var i=e.values.filter(rR),l=i[0],u=i[1];if(l&&tR(l)){var c=r.counters.getCounterValue(l.value),h=u&&tR(u)?VK.parse(r.context,u.value):3;s.appendChild(o.createTextNode(vN(c,h,!1)))}}else if("counters"===e.name){var p=e.values.filter(rR),f=(l=p[0],p[1]);u=p[2];if(l&&tR(l)){var d=r.counters.getCounterValues(l.value),g=u&&tR(u)?VK.parse(r.context,u.value):3,y=f&&0===f.type?f.value:"",v=d.map((function(t){return vN(t,g,!1)})).join(y);s.appendChild(o.createTextNode(v))}}}else if(20===e.type)switch(e.value){case"open-quote":s.appendChild(o.createTextNode(UV(a.quotes,r.quoteDepth++,!0)));break;case"close-quote":s.appendChild(o.createTextNode(UV(a.quotes,--r.quoteDepth,!1)));break;default:s.appendChild(o.createTextNode(e.value))}})),s.className=kN+" "+LN;var l=A===YV.BEFORE?" "+kN:" "+LN;return NG(e)?e.className.baseValue+=l:e.className+=l,s}}},t.destroy=function(t){return!!t.parentNode&&(t.parentNode.removeChild(t),!0)},t}();(zV=YV||(YV={}))[zV.BEFORE=0]="BEFORE",zV[zV.AFTER=1]="AFTER";var xN,wN,CN=function(t,e){var n=t.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=e.width.toString(),n.height=e.height.toString(),n.scrolling="no",n.setAttribute(mN,"true"),t.body.appendChild(n),n},FN=function(t){return new Promise((function(e){t.complete?e():t.src?(t.onload=e,t.onerror=e):e()}))},bN=function(t){return Promise.all([].slice.call(t.images,0).map(FN))},QN=function(t){return new Promise((function(e,n){var A=t.contentWindow;if(!A)return n("No window assigned for iframe");var r=A.document;A.onload=t.onload=function(){A.onload=t.onload=null;var n=setInterval((function(){r.body.childNodes.length>0&&"complete"===r.readyState&&(clearInterval(n),e(t))}),50)}}))},UN=["all","d","content"],EN=function(t,e){for(var n=t.length-1;n>=0;n--){var A=t.item(n);-1===UN.indexOf(A)&&e.style.setProperty(A,t.getPropertyValue(A))}return e},MN=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},SN=function(t,e,n){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||n!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,n)},IN=function(t){var e=t[0],n=t[1],A=t[2];e.scrollLeft=n,e.scrollTop=A},kN="___html2canvas___pseudoelement_before",LN="___html2canvas___pseudoelement_after",HN='{\n    content: "" !important;\n    display: none !important;\n}',TN=function(t){DN(t,"."+kN+":before"+HN+"\n         ."+LN+":after"+HN)},DN=function(t,e){var n=t.ownerDocument;if(n){var A=n.createElement("style");A.textContent=e,t.appendChild(A)}},PN=function(){function t(){}return t.getOrigin=function(e){var n=t._link;return n?(n.href=e,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),ON=function(){function t(t,e){this.context=t,this._options=e,this._cache={}}return t.prototype.addImage=function(t){var e=Promise.resolve();return this.has(t)?e:XN(t)||GN(t)?((this._cache[t]=this.loadImage(t)).catch((function(){})),e):e},t.prototype.match=function(t){return this._cache[t]},t.prototype.loadImage=function(t){return rP(this,void 0,void 0,(function(){var e,n,A,r,i=this;return iP(this,(function(o){switch(o.label){case 0:return e=PN.isSameOrigin(t),n=!NN(t)&&!0===this._options.useCORS&&aG.SUPPORT_CORS_IMAGES&&!e,A=!NN(t)&&!e&&!XN(t)&&"string"==typeof this._options.proxy&&aG.SUPPORT_CORS_XHR&&!n,e||!1!==this._options.allowTaint||NN(t)||XN(t)||A||n?(r=t,A?[4,this.proxy(r)]:[3,2]):[2];case 1:r=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise((function(t,e){var A=new Image;A.onload=function(){return t(A)},A.onerror=e,(_N(r)||n)&&(A.crossOrigin="anonymous"),A.src=r,!0===A.complete&&setTimeout((function(){return t(A)}),500),i._options.imageTimeout>0&&setTimeout((function(){return e("Timed out ("+i._options.imageTimeout+"ms) loading image")}),i._options.imageTimeout)}))];case 3:return[2,o.sent()]}}))}))},t.prototype.has=function(t){return void 0!==this._cache[t]},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(t){var e=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var A=t.substring(0,256);return new Promise((function(r,i){var o=aG.SUPPORT_RESPONSE_TYPE?"blob":"text",a=new XMLHttpRequest;a.onload=function(){if(200===a.status)if("text"===o)r(a.response);else{var t=new FileReader;t.addEventListener("load",(function(){return r(t.result)}),!1),t.addEventListener("error",(function(t){return i(t)}),!1),t.readAsDataURL(a.response)}else i("Failed to proxy resource "+A+" with status code "+a.status)},a.onerror=i;var s=n.indexOf("?")>-1?"&":"?";if(a.open("GET",""+n+s+"url="+encodeURIComponent(t)+"&responseType="+o),"text"!==o&&a instanceof XMLHttpRequest&&(a.responseType=o),e._options.imageTimeout){var l=e._options.imageTimeout;a.timeout=l,a.ontimeout=function(){return i("Timed out ("+l+"ms) proxying "+A)}}a.send()}))},t}(),RN=/^data:image\/svg\+xml/i,KN=/^data:image\/.*;base64,/i,VN=/^data:image\/.*/i,GN=function(t){return aG.SUPPORT_SVG_DRAWING||!YN(t)},NN=function(t){return VN.test(t)},_N=function(t){return KN.test(t)},XN=function(t){return"blob"===t.substr(0,4)},YN=function(t){return"svg"===t.substr(-3).toLowerCase()||RN.test(t)},zN=function(){function t(t,e){this.type=0,this.x=t,this.y=e}return t.prototype.add=function(e,n){return new t(this.x+e,this.y+n)},t}(),WN=function(t,e,n){return new zN(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)},jN=function(){function t(t,e,n,A){this.type=1,this.start=t,this.startControl=e,this.endControl=n,this.end=A}return t.prototype.subdivide=function(e,n){var A=WN(this.start,this.startControl,e),r=WN(this.startControl,this.endControl,e),i=WN(this.endControl,this.end,e),o=WN(A,r,e),a=WN(r,i,e),s=WN(o,a,e);return n?new t(this.start,A,o,s):new t(s,a,i,this.end)},t.prototype.add=function(e,n){return new t(this.start.add(e,n),this.startControl.add(e,n),this.endControl.add(e,n),this.end.add(e,n))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),JN=function(t){return 1===t.type},qN=function(){return function(t){var e=t.styles,n=t.bounds,A=pR(e.borderTopLeftRadius,n.width,n.height),r=A[0],i=A[1],o=pR(e.borderTopRightRadius,n.width,n.height),a=o[0],s=o[1],l=pR(e.borderBottomRightRadius,n.width,n.height),u=l[0],c=l[1],h=pR(e.borderBottomLeftRadius,n.width,n.height),p=h[0],f=h[1],d=[];d.push((r+a)/n.width),d.push((p+u)/n.width),d.push((i+f)/n.height),d.push((s+c)/n.height);var g=Math.max.apply(Math,d);g>1&&(r/=g,i/=g,a/=g,s/=g,u/=g,c/=g,p/=g,f/=g);var y=n.width-a,v=n.height-c,m=n.width-u,B=n.height-f,x=e.borderTopWidth,w=e.borderRightWidth,C=e.borderBottomWidth,F=e.borderLeftWidth,b=fR(e.paddingTop,t.bounds.width),Q=fR(e.paddingRight,t.bounds.width),U=fR(e.paddingBottom,t.bounds.width),E=fR(e.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=r>0||i>0?ZN(n.left+F/3,n.top+x/3,r-F/3,i-x/3,xN.TOP_LEFT):new zN(n.left+F/3,n.top+x/3),this.topRightBorderDoubleOuterBox=r>0||i>0?ZN(n.left+y,n.top+x/3,a-w/3,s-x/3,xN.TOP_RIGHT):new zN(n.left+n.width-w/3,n.top+x/3),this.bottomRightBorderDoubleOuterBox=u>0||c>0?ZN(n.left+m,n.top+v,u-w/3,c-C/3,xN.BOTTOM_RIGHT):new zN(n.left+n.width-w/3,n.top+n.height-C/3),this.bottomLeftBorderDoubleOuterBox=p>0||f>0?ZN(n.left+F/3,n.top+B,p-F/3,f-C/3,xN.BOTTOM_LEFT):new zN(n.left+F/3,n.top+n.height-C/3),this.topLeftBorderDoubleInnerBox=r>0||i>0?ZN(n.left+2*F/3,n.top+2*x/3,r-2*F/3,i-2*x/3,xN.TOP_LEFT):new zN(n.left+2*F/3,n.top+2*x/3),this.topRightBorderDoubleInnerBox=r>0||i>0?ZN(n.left+y,n.top+2*x/3,a-2*w/3,s-2*x/3,xN.TOP_RIGHT):new zN(n.left+n.width-2*w/3,n.top+2*x/3),this.bottomRightBorderDoubleInnerBox=u>0||c>0?ZN(n.left+m,n.top+v,u-2*w/3,c-2*C/3,xN.BOTTOM_RIGHT):new zN(n.left+n.width-2*w/3,n.top+n.height-2*C/3),this.bottomLeftBorderDoubleInnerBox=p>0||f>0?ZN(n.left+2*F/3,n.top+B,p-2*F/3,f-2*C/3,xN.BOTTOM_LEFT):new zN(n.left+2*F/3,n.top+n.height-2*C/3),this.topLeftBorderStroke=r>0||i>0?ZN(n.left+F/2,n.top+x/2,r-F/2,i-x/2,xN.TOP_LEFT):new zN(n.left+F/2,n.top+x/2),this.topRightBorderStroke=r>0||i>0?ZN(n.left+y,n.top+x/2,a-w/2,s-x/2,xN.TOP_RIGHT):new zN(n.left+n.width-w/2,n.top+x/2),this.bottomRightBorderStroke=u>0||c>0?ZN(n.left+m,n.top+v,u-w/2,c-C/2,xN.BOTTOM_RIGHT):new zN(n.left+n.width-w/2,n.top+n.height-C/2),this.bottomLeftBorderStroke=p>0||f>0?ZN(n.left+F/2,n.top+B,p-F/2,f-C/2,xN.BOTTOM_LEFT):new zN(n.left+F/2,n.top+n.height-C/2),this.topLeftBorderBox=r>0||i>0?ZN(n.left,n.top,r,i,xN.TOP_LEFT):new zN(n.left,n.top),this.topRightBorderBox=a>0||s>0?ZN(n.left+y,n.top,a,s,xN.TOP_RIGHT):new zN(n.left+n.width,n.top),this.bottomRightBorderBox=u>0||c>0?ZN(n.left+m,n.top+v,u,c,xN.BOTTOM_RIGHT):new zN(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=p>0||f>0?ZN(n.left,n.top+B,p,f,xN.BOTTOM_LEFT):new zN(n.left,n.top+n.height),this.topLeftPaddingBox=r>0||i>0?ZN(n.left+F,n.top+x,Math.max(0,r-F),Math.max(0,i-x),xN.TOP_LEFT):new zN(n.left+F,n.top+x),this.topRightPaddingBox=a>0||s>0?ZN(n.left+Math.min(y,n.width-w),n.top+x,y>n.width+w?0:Math.max(0,a-w),Math.max(0,s-x),xN.TOP_RIGHT):new zN(n.left+n.width-w,n.top+x),this.bottomRightPaddingBox=u>0||c>0?ZN(n.left+Math.min(m,n.width-F),n.top+Math.min(v,n.height-C),Math.max(0,u-w),Math.max(0,c-C),xN.BOTTOM_RIGHT):new zN(n.left+n.width-w,n.top+n.height-C),this.bottomLeftPaddingBox=p>0||f>0?ZN(n.left+F,n.top+Math.min(B,n.height-C),Math.max(0,p-F),Math.max(0,f-C),xN.BOTTOM_LEFT):new zN(n.left+F,n.top+n.height-C),this.topLeftContentBox=r>0||i>0?ZN(n.left+F+E,n.top+x+b,Math.max(0,r-(F+E)),Math.max(0,i-(x+b)),xN.TOP_LEFT):new zN(n.left+F+E,n.top+x+b),this.topRightContentBox=a>0||s>0?ZN(n.left+Math.min(y,n.width+F+E),n.top+x+b,y>n.width+F+E?0:a-F+E,s-(x+b),xN.TOP_RIGHT):new zN(n.left+n.width-(w+Q),n.top+x+b),this.bottomRightContentBox=u>0||c>0?ZN(n.left+Math.min(m,n.width-(F+E)),n.top+Math.min(v,n.height+x+b),Math.max(0,u-(w+Q)),c-(C+U),xN.BOTTOM_RIGHT):new zN(n.left+n.width-(w+Q),n.top+n.height-(C+U)),this.bottomLeftContentBox=p>0||f>0?ZN(n.left+F+E,n.top+B,Math.max(0,p-(F+E)),f-(C+U),xN.BOTTOM_LEFT):new zN(n.left+F+E,n.top+n.height-(C+U))}}();(wN=xN||(xN={}))[wN.TOP_LEFT=0]="TOP_LEFT",wN[wN.TOP_RIGHT=1]="TOP_RIGHT",wN[wN.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",wN[wN.BOTTOM_LEFT=3]="BOTTOM_LEFT";var ZN=function(t,e,n,A,r){var i=(Math.sqrt(2)-1)/3*4,o=n*i,a=A*i,s=t+n,l=e+A;switch(r){case xN.TOP_LEFT:return new jN(new zN(t,l),new zN(t,l-a),new zN(s-o,e),new zN(s,e));case xN.TOP_RIGHT:return new jN(new zN(t,e),new zN(t+o,e),new zN(s,l-a),new zN(s,l));case xN.BOTTOM_RIGHT:return new jN(new zN(s,e),new zN(s,e+a),new zN(t+o,l),new zN(t,l));case xN.BOTTOM_LEFT:default:return new jN(new zN(s,l),new zN(s-o,l),new zN(t,e+a),new zN(t,e))}},$N=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},t_=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},e_=function(){return function(t,e,n){this.offsetX=t,this.offsetY=e,this.matrix=n,this.type=0,this.target=6}}(),n_=function(){return function(t,e){this.path=t,this.target=e,this.type=1}}(),A_=function(){return function(t){this.opacity=t,this.type=2,this.target=6}}(),r_=function(t){return 1===t.type},i_=function(t,e){return t.length===e.length&&t.some((function(t,n){return t===e[n]}))},o_=function(){return function(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}}(),a_=function(){function t(t,e){if(this.container=t,this.parent=e,this.effects=[],this.curves=new qN(this.container),this.container.styles.opacity<1&&this.effects.push(new A_(this.container.styles.opacity)),null!==this.container.styles.transform){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,A=this.container.bounds.top+this.container.styles.transformOrigin[1].number,r=this.container.styles.transform;this.effects.push(new e_(n,A,r))}if(0!==this.container.styles.overflowX){var i=$N(this.curves),o=t_(this.curves);i_(i,o)?this.effects.push(new n_(i,6)):(this.effects.push(new n_(i,2)),this.effects.push(new n_(o,4)))}}return t.prototype.getEffects=function(t){for(var e=-1===[2,3].indexOf(this.container.styles.position),n=this.parent,A=this.effects.slice(0);n;){var r=n.effects.filter((function(t){return!r_(t)}));if(e||0!==n.container.styles.position||!n.parent){if(A.unshift.apply(A,r),e=-1===[2,3].indexOf(n.container.styles.position),0!==n.container.styles.overflowX){var i=$N(n.curves),o=t_(n.curves);i_(i,o)||A.unshift(new n_(o,6))}}else A.unshift.apply(A,r);n=n.parent}return A.filter((function(e){return xV(e.target,t)}))},t}(),s_=function(t,e,n,A){t.container.elements.forEach((function(r){var i=xV(r.flags,4),o=xV(r.flags,2),a=new a_(r,t);xV(r.styles.display,2048)&&A.push(a);var s=xV(r.flags,8)?[]:A;if(i||o){var l=i||r.styles.isPositioned()?n:e,u=new o_(a);if(r.styles.isPositioned()||r.styles.opacity<1||r.styles.isTransformed()){var c=r.styles.zIndex.order;if(c<0){var h=0;l.negativeZIndex.some((function(t,e){return c>t.element.container.styles.zIndex.order?(h=e,!1):h>0})),l.negativeZIndex.splice(h,0,u)}else if(c>0){var p=0;l.positiveZIndex.some((function(t,e){return c>=t.element.container.styles.zIndex.order?(p=e+1,!1):p>0})),l.positiveZIndex.splice(p,0,u)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else r.styles.isFloating()?l.nonPositionedFloats.push(u):l.nonPositionedInlineLevel.push(u);s_(a,u,i?u:n,s)}else r.styles.isInlineLevel()?e.inlineLevel.push(a):e.nonInlineLevel.push(a),s_(a,e,n,s);xV(r.flags,8)&&l_(r,s)}))},l_=function(t,e){for(var n=t instanceof CG?t.start:1,A=t instanceof CG&&t.reversed,r=0;r<e.length;r++){var i=e[r];i.container instanceof wG&&"number"==typeof i.container.value&&0!==i.container.value&&(n=i.container.value),i.listValue=vN(n,i.container.styles.listStyleType,!0),n+=A?-1:1}},u_=function(t,e){switch(e){case 0:return h_(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return h_(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return h_(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);default:return h_(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},c_=function(t,e){var n=[];return JN(t)?n.push(t.subdivide(.5,!1)):n.push(t),JN(e)?n.push(e.subdivide(.5,!0)):n.push(e),n},h_=function(t,e,n,A){var r=[];return JN(t)?r.push(t.subdivide(.5,!1)):r.push(t),JN(n)?r.push(n.subdivide(.5,!0)):r.push(n),JN(A)?r.push(A.subdivide(.5,!0).reverse()):r.push(A),JN(e)?r.push(e.subdivide(.5,!1).reverse()):r.push(e),r},p_=function(t){var e=t.bounds,n=t.styles;return e.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},f_=function(t){var e=t.styles,n=t.bounds,A=fR(e.paddingLeft,n.width),r=fR(e.paddingRight,n.width),i=fR(e.paddingTop,n.width),o=fR(e.paddingBottom,n.width);return n.add(A+e.borderLeftWidth,i+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+A+r),-(e.borderTopWidth+e.borderBottomWidth+i+o))},d_=function(t,e,n){var A,r,i=(A=m_(t.styles.backgroundOrigin,e),r=t,0===A?r.bounds:2===A?f_(r):p_(r)),o=function(t,e){return 0===t?e.bounds:2===t?f_(e):p_(e)}(m_(t.styles.backgroundClip,e),t),a=v_(m_(t.styles.backgroundSize,e),n,i),s=a[0],l=a[1],u=pR(m_(t.styles.backgroundPosition,e),i.width-s,i.height-l);return[B_(m_(t.styles.backgroundRepeat,e),u,a,i,o),Math.round(i.left+u[0]),Math.round(i.top+u[1]),s,l]},g_=function(t){return tR(t)&&t.value===JR.AUTO},y_=function(t){return"number"==typeof t},v_=function(t,e,n){var A=e[0],r=e[1],i=e[2],o=t[0],a=t[1];if(!o)return[0,0];if(sR(o)&&a&&sR(a))return[fR(o,n.width),fR(a,n.height)];var s=y_(i);if(tR(o)&&(o.value===JR.CONTAIN||o.value===JR.COVER))return y_(i)?n.width/n.height<i!=(o.value===JR.COVER)?[n.width,n.width/i]:[n.height*i,n.height]:[n.width,n.height];var l=y_(A),u=y_(r),c=l||u;if(g_(o)&&(!a||g_(a)))return l&&u?[A,r]:s||c?c&&s?[l?A:r*i,u?r:A/i]:[l?A:n.width,u?r:n.height]:[n.width,n.height];if(s){var h=0,p=0;return sR(o)?h=fR(o,n.width):sR(a)&&(p=fR(a,n.height)),g_(o)?h=p*i:a&&!g_(a)||(p=h/i),[h,p]}var f=null,d=null;if(sR(o)?f=fR(o,n.width):a&&sR(a)&&(d=fR(a,n.height)),null===f||a&&!g_(a)||(d=l&&u?f/A*r:n.height),null!==d&&g_(o)&&(f=l&&u?d/r*A:n.width),null!==f&&null!==d)return[f,d];throw new Error("Unable to calculate background-size for element")},m_=function(t,e){var n=t[e];return void 0===n?t[0]:n},B_=function(t,e,n,A,r){var i=e[0],o=e[1],a=n[0],s=n[1];switch(t){case 2:return[new zN(Math.round(A.left),Math.round(A.top+o)),new zN(Math.round(A.left+A.width),Math.round(A.top+o)),new zN(Math.round(A.left+A.width),Math.round(s+A.top+o)),new zN(Math.round(A.left),Math.round(s+A.top+o))];case 3:return[new zN(Math.round(A.left+i),Math.round(A.top)),new zN(Math.round(A.left+i+a),Math.round(A.top)),new zN(Math.round(A.left+i+a),Math.round(A.height+A.top)),new zN(Math.round(A.left+i),Math.round(A.height+A.top))];case 1:return[new zN(Math.round(A.left+i),Math.round(A.top+o)),new zN(Math.round(A.left+i+a),Math.round(A.top+o)),new zN(Math.round(A.left+i+a),Math.round(A.top+o+s)),new zN(Math.round(A.left+i),Math.round(A.top+o+s))];default:return[new zN(Math.round(r.left),Math.round(r.top)),new zN(Math.round(r.left+r.width),Math.round(r.top)),new zN(Math.round(r.left+r.width),Math.round(r.height+r.top)),new zN(Math.round(r.left),Math.round(r.height+r.top))]}},x_="Hidden Text",w_=function(){function t(t){this._data={},this._document=t}return t.prototype.parseMetrics=function(t,e){var n=this._document.createElement("div"),A=this._document.createElement("img"),r=this._document.createElement("span"),i=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=e,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",i.appendChild(n),A.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",A.width=1,A.height=1,A.style.margin="0",A.style.padding="0",A.style.verticalAlign="baseline",r.style.fontFamily=t,r.style.fontSize=e,r.style.margin="0",r.style.padding="0",r.appendChild(this._document.createTextNode(x_)),n.appendChild(r),n.appendChild(A);var o=A.offsetTop-r.offsetTop+2;n.removeChild(r),n.appendChild(this._document.createTextNode(x_)),n.style.lineHeight="normal",A.style.verticalAlign="super";var a=A.offsetTop-n.offsetTop+2;return i.removeChild(n),{baseline:o,middle:a}},t.prototype.getMetrics=function(t,e){var n=t+" "+e;return void 0===this._data[n]&&(this._data[n]=this.parseMetrics(t,e)),this._data[n]},t}(),C_=function(){return function(t,e){this.context=t,this.options=e}}(),F_=function(t){function e(e,n){var A=t.call(this,e,n)||this;return A._activeEffects=[],A.canvas=n.canvas?n.canvas:document.createElement("canvas"),A.ctx=A.canvas.getContext("2d"),n.canvas||(A.canvas.width=Math.floor(n.width*n.scale),A.canvas.height=Math.floor(n.height*n.scale),A.canvas.style.width=n.width+"px",A.canvas.style.height=n.height+"px"),A.fontMetrics=new w_(document),A.ctx.scale(A.options.scale,A.options.scale),A.ctx.translate(-n.x,-n.y),A.ctx.textBaseline="bottom",A._activeEffects=[],A.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),A}return nP(e,t),e.prototype.applyEffects=function(t){for(var e=this;this._activeEffects.length;)this.popEffect();t.forEach((function(t){return e.applyEffect(t)}))},e.prototype.applyEffect=function(t){this.ctx.save(),function(t){return 2===t.type}(t)&&(this.ctx.globalAlpha=t.opacity),function(t){return 0===t.type}(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),r_(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return rP(this,void 0,void 0,(function(){return iP(this,(function(e){switch(e.label){case 0:return t.element.container.styles.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.renderNode=function(t){return rP(this,void 0,void 0,(function(){return iP(this,(function(e){switch(e.label){case 0:if(xV(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return e.sent(),[4,this.renderNodeContent(t)];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},e.prototype.renderTextWithLetterSpacing=function(t,e,n){var A=this;0===e?this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+n):cG(t.text).reduce((function(e,r){return A.ctx.fillText(r,e,t.bounds.top+n),e+A.ctx.measureText(r).width}),t.bounds.left)},e.prototype.createFontStyle=function(t){var e=t.fontVariant.filter((function(t){return"normal"===t||"small-caps"===t})).join(""),n=M_(t.fontFamily).join(", "),A=ZO(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,e,t.fontWeight,A,n].join(" "),n,A]},e.prototype.renderTextNode=function(t,e){return rP(this,void 0,void 0,(function(){var n,A,r,i,o,a,s,l,u=this;return iP(this,(function(c){return n=this.createFontStyle(e),A=n[0],r=n[1],i=n[2],this.ctx.font=A,this.ctx.direction=1===e.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",o=this.fontMetrics.getMetrics(r,i),a=o.baseline,s=o.middle,l=e.paintOrder,t.textBounds.forEach((function(t){l.forEach((function(n){switch(n){case 0:u.ctx.fillStyle=CR(e.color),u.renderTextWithLetterSpacing(t,e.letterSpacing,a);var A=e.textShadow;A.length&&t.text.trim().length&&(A.slice(0).reverse().forEach((function(n){u.ctx.shadowColor=CR(n.color),u.ctx.shadowOffsetX=n.offsetX.number*u.options.scale,u.ctx.shadowOffsetY=n.offsetY.number*u.options.scale,u.ctx.shadowBlur=n.blur.number,u.renderTextWithLetterSpacing(t,e.letterSpacing,a)})),u.ctx.shadowColor="",u.ctx.shadowOffsetX=0,u.ctx.shadowOffsetY=0,u.ctx.shadowBlur=0),e.textDecorationLine.length&&(u.ctx.fillStyle=CR(e.textDecorationColor||e.color),e.textDecorationLine.forEach((function(e){switch(e){case 1:u.ctx.fillRect(t.bounds.left,Math.round(t.bounds.top+a),t.bounds.width,1);break;case 2:u.ctx.fillRect(t.bounds.left,Math.round(t.bounds.top),t.bounds.width,1);break;case 3:u.ctx.fillRect(t.bounds.left,Math.ceil(t.bounds.top+s),t.bounds.width,1)}})));break;case 1:e.webkitTextStrokeWidth&&t.text.trim().length&&(u.ctx.strokeStyle=CR(e.webkitTextStrokeColor),u.ctx.lineWidth=e.webkitTextStrokeWidth,u.ctx.lineJoin=window.chrome?"miter":"round",u.ctx.strokeText(t.text,t.bounds.left,t.bounds.top+a)),u.ctx.strokeStyle="",u.ctx.lineWidth=0,u.ctx.lineJoin="miter"}}))})),[2]}))}))},e.prototype.renderReplacedElement=function(t,e,n){if(n&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var A=f_(t),r=t_(e);this.path(r),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,t.intrinsicWidth,t.intrinsicHeight,A.left,A.top,A.width,A.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return rP(this,void 0,void 0,(function(){var n,A,r,i,o,a,s,l,u,c,h,p,f,d,g,y,v,m;return iP(this,(function(B){switch(B.label){case 0:this.applyEffects(t.getEffects(4)),n=t.container,A=t.curves,r=n.styles,i=0,o=n.textNodes,B.label=1;case 1:return i<o.length?(a=o[i],[4,this.renderTextNode(a,r)]):[3,4];case 2:B.sent(),B.label=3;case 3:return i++,[3,1];case 4:if(!(n instanceof mG))return[3,8];B.label=5;case 5:return B.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return g=B.sent(),this.renderReplacedElement(n,A,g),[3,8];case 7:return B.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof BG&&this.renderReplacedElement(n,A,n.canvas),!(n instanceof xG))return[3,12];B.label=9;case 9:return B.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return g=B.sent(),this.renderReplacedElement(n,A,g),[3,12];case 11:return B.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof LG&&n.tree?[4,new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}).render(n.tree)]:[3,14];case 13:s=B.sent(),n.width&&n.height&&this.ctx.drawImage(s,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),B.label=14;case 14:if(n instanceof SG&&(l=Math.min(n.bounds.width,n.bounds.height),n.type===QG?n.checked&&(this.ctx.save(),this.path([new zN(n.bounds.left+.39363*l,n.bounds.top+.79*l),new zN(n.bounds.left+.16*l,n.bounds.top+.5549*l),new zN(n.bounds.left+.27347*l,n.bounds.top+.44071*l),new zN(n.bounds.left+.39694*l,n.bounds.top+.5649*l),new zN(n.bounds.left+.72983*l,n.bounds.top+.23*l),new zN(n.bounds.left+.84*l,n.bounds.top+.34085*l),new zN(n.bounds.left+.39363*l,n.bounds.top+.79*l)]),this.ctx.fillStyle=CR(MG),this.ctx.fill(),this.ctx.restore()):n.type===UG&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+l/2,n.bounds.top+l/2,l/4,0,2*Math.PI,!0),this.ctx.fillStyle=CR(MG),this.ctx.fill(),this.ctx.restore())),b_(n)&&n.value.length){switch(u=this.createFontStyle(r),v=u[0],c=u[1],h=this.fontMetrics.getMetrics(v,c).baseline,this.ctx.font=v,this.ctx.fillStyle=CR(r.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=U_(n.styles.textAlign),m=f_(n),p=0,n.styles.textAlign){case 1:p+=m.width/2;break;case 2:p+=m.width}f=m.add(p,0,0,-m.height/2+1),this.ctx.save(),this.path([new zN(m.left,m.top),new zN(m.left+m.width,m.top),new zN(m.left+m.width,m.top+m.height),new zN(m.left,m.top+m.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new sG(n.value,f),r.letterSpacing,h),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!xV(n.styles.display,2048))return[3,20];if(null===n.styles.listStyleImage)return[3,19];if(0!==(d=n.styles.listStyleImage).type)return[3,18];g=void 0,y=d.url,B.label=15;case 15:return B.trys.push([15,17,,18]),[4,this.context.cache.match(y)];case 16:return g=B.sent(),this.ctx.drawImage(g,n.bounds.left-(g.width+10),n.bounds.top),[3,18];case 17:return B.sent(),this.context.logger.error("Error loading list-style-image "+y),[3,18];case 18:return[3,20];case 19:t.listValue&&-1!==n.styles.listStyleType&&(v=this.createFontStyle(r)[0],this.ctx.font=v,this.ctx.fillStyle=CR(r.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",m=new aP(n.bounds.left,n.bounds.top+fR(n.styles.paddingTop,n.bounds.width),n.bounds.width,OK(r.lineHeight,r.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new sG(t.listValue,m),r.letterSpacing,OK(r.lineHeight,r.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),B.label=20;case 20:return[2]}}))}))},e.prototype.renderStackContent=function(t){return rP(this,void 0,void 0,(function(){var e,n,A,r,i,o,a,s,l,u,c,h,p,f,d;return iP(this,(function(g){switch(g.label){case 0:if(xV(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:g.sent(),e=0,n=t.negativeZIndex,g.label=2;case 2:return e<n.length?(d=n[e],[4,this.renderStack(d)]):[3,5];case 3:g.sent(),g.label=4;case 4:return e++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:g.sent(),A=0,r=t.nonInlineLevel,g.label=7;case 7:return A<r.length?(d=r[A],[4,this.renderNode(d)]):[3,10];case 8:g.sent(),g.label=9;case 9:return A++,[3,7];case 10:i=0,o=t.nonPositionedFloats,g.label=11;case 11:return i<o.length?(d=o[i],[4,this.renderStack(d)]):[3,14];case 12:g.sent(),g.label=13;case 13:return i++,[3,11];case 14:a=0,s=t.nonPositionedInlineLevel,g.label=15;case 15:return a<s.length?(d=s[a],[4,this.renderStack(d)]):[3,18];case 16:g.sent(),g.label=17;case 17:return a++,[3,15];case 18:l=0,u=t.inlineLevel,g.label=19;case 19:return l<u.length?(d=u[l],[4,this.renderNode(d)]):[3,22];case 20:g.sent(),g.label=21;case 21:return l++,[3,19];case 22:c=0,h=t.zeroOrAutoZIndexOrTransformedOrOpacity,g.label=23;case 23:return c<h.length?(d=h[c],[4,this.renderStack(d)]):[3,26];case 24:g.sent(),g.label=25;case 25:return c++,[3,23];case 26:p=0,f=t.positiveZIndex,g.label=27;case 27:return p<f.length?(d=f[p],[4,this.renderStack(d)]):[3,30];case 28:g.sent(),g.label=29;case 29:return p++,[3,27];case 30:return[2]}}))}))},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var e=this;t.forEach((function(t,n){var A=JN(t)?t.start:t;0===n?e.ctx.moveTo(A.x,A.y):e.ctx.lineTo(A.x,A.y),JN(t)&&e.ctx.bezierCurveTo(t.startControl.x,t.startControl.y,t.endControl.x,t.endControl.y,t.end.x,t.end.y)}))},e.prototype.renderRepeat=function(t,e,n,A){this.path(t),this.ctx.fillStyle=e,this.ctx.translate(n,A),this.ctx.fill(),this.ctx.translate(-n,-A)},e.prototype.resizeImage=function(t,e,n){var A;if(t.width===e&&t.height===n)return t;var r=(null!==(A=this.canvas.ownerDocument)&&void 0!==A?A:document).createElement("canvas");return r.width=Math.max(1,e),r.height=Math.max(1,n),r.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,e,n),r},e.prototype.renderBackgroundImage=function(t){return rP(this,void 0,void 0,(function(){var e,n,A,r,i,o;return iP(this,(function(a){switch(a.label){case 0:e=t.styles.backgroundImage.length-1,n=function(n){var r,i,o,a,s,l,u,c,h,p,f,d,g,y,v,m,B,x,w,C,F,b,Q,U,E,M,S,I,k,L,H;return iP(this,(function(T){switch(T.label){case 0:if(0!==n.type)return[3,5];r=void 0,i=n.url,T.label=1;case 1:return T.trys.push([1,3,,4]),[4,A.context.cache.match(i)];case 2:return r=T.sent(),[3,4];case 3:return T.sent(),A.context.logger.error("Error loading background-image "+i),[3,4];case 4:return r&&(o=d_(t,e,[r.width,r.height,r.width/r.height]),m=o[0],b=o[1],Q=o[2],w=o[3],C=o[4],y=A.ctx.createPattern(A.resizeImage(r,w,C),"repeat"),A.renderRepeat(m,y,b,Q)),[3,6];case 5:1===n.type?(a=d_(t,e,[null,null,null]),m=a[0],b=a[1],Q=a[2],w=a[3],C=a[4],s=DR(n.angle,w,C),l=s[0],u=s[1],c=s[2],h=s[3],p=s[4],(f=document.createElement("canvas")).width=w,f.height=C,d=f.getContext("2d"),g=d.createLinearGradient(u,h,c,p),TR(n.stops,l).forEach((function(t){return g.addColorStop(t.stop,CR(t.color))})),d.fillStyle=g,d.fillRect(0,0,w,C),w>0&&C>0&&(y=A.ctx.createPattern(f,"repeat"),A.renderRepeat(m,y,b,Q))):function(t){return 2===t.type}(n)&&(v=d_(t,e,[null,null,null]),m=v[0],B=v[1],x=v[2],w=v[3],C=v[4],F=0===n.position.length?[cR]:n.position,b=fR(F[0],w),Q=fR(F[F.length-1],C),U=function(t,e,n,A,r){var i=0,o=0;switch(t.size){case 0:0===t.shape?i=o=Math.min(Math.abs(e),Math.abs(e-A),Math.abs(n),Math.abs(n-r)):1===t.shape&&(i=Math.min(Math.abs(e),Math.abs(e-A)),o=Math.min(Math.abs(n),Math.abs(n-r)));break;case 2:if(0===t.shape)i=o=Math.min(PR(e,n),PR(e,n-r),PR(e-A,n),PR(e-A,n-r));else if(1===t.shape){var a=Math.min(Math.abs(n),Math.abs(n-r))/Math.min(Math.abs(e),Math.abs(e-A)),s=OR(A,r,e,n,!0),l=s[0],u=s[1];o=a*(i=PR(l-e,(u-n)/a))}break;case 1:0===t.shape?i=o=Math.max(Math.abs(e),Math.abs(e-A),Math.abs(n),Math.abs(n-r)):1===t.shape&&(i=Math.max(Math.abs(e),Math.abs(e-A)),o=Math.max(Math.abs(n),Math.abs(n-r)));break;case 3:if(0===t.shape)i=o=Math.max(PR(e,n),PR(e,n-r),PR(e-A,n),PR(e-A,n-r));else if(1===t.shape){a=Math.max(Math.abs(n),Math.abs(n-r))/Math.max(Math.abs(e),Math.abs(e-A));var c=OR(A,r,e,n,!1);l=c[0],u=c[1],o=a*(i=PR(l-e,(u-n)/a))}}return Array.isArray(t.size)&&(i=fR(t.size[0],A),o=2===t.size.length?fR(t.size[1],r):i),[i,o]}(n,b,Q,w,C),E=U[0],M=U[1],E>0&&M>0&&(S=A.ctx.createRadialGradient(B+b,x+Q,0,B+b,x+Q,E),TR(n.stops,2*E).forEach((function(t){return S.addColorStop(t.stop,CR(t.color))})),A.path(m),A.ctx.fillStyle=S,E!==M?(I=t.bounds.left+.5*t.bounds.width,k=t.bounds.top+.5*t.bounds.height,H=1/(L=M/E),A.ctx.save(),A.ctx.translate(I,k),A.ctx.transform(1,0,0,L,0,0),A.ctx.translate(-I,-k),A.ctx.fillRect(B,H*(x-k)+k,w,C*H),A.ctx.restore()):A.ctx.fill())),T.label=6;case 6:return e--,[2]}}))},A=this,r=0,i=t.styles.backgroundImage.slice(0).reverse(),a.label=1;case 1:return r<i.length?(o=i[r],[5,n(o)]):[3,4];case 2:a.sent(),a.label=3;case 3:return r++,[3,1];case 4:return[2]}}))}))},e.prototype.renderSolidBorder=function(t,e,n){return rP(this,void 0,void 0,(function(){return iP(this,(function(A){return this.path(u_(n,e)),this.ctx.fillStyle=CR(t),this.ctx.fill(),[2]}))}))},e.prototype.renderDoubleBorder=function(t,e,n,A){return rP(this,void 0,void 0,(function(){var r,i;return iP(this,(function(o){switch(o.label){case 0:return e<3?[4,this.renderSolidBorder(t,n,A)]:[3,2];case 1:return o.sent(),[2];case 2:return r=function(t,e){switch(e){case 0:return h_(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return h_(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return h_(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);default:return h_(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}}(A,n),this.path(r),this.ctx.fillStyle=CR(t),this.ctx.fill(),i=function(t,e){switch(e){case 0:return h_(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return h_(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return h_(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);default:return h_(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}}(A,n),this.path(i),this.ctx.fill(),[2]}}))}))},e.prototype.renderNodeBackgroundAndBorders=function(t){return rP(this,void 0,void 0,(function(){var e,n,A,r,i,o,a,s,l=this;return iP(this,(function(u){switch(u.label){case 0:return this.applyEffects(t.getEffects(2)),e=t.container.styles,n=!wR(e.backgroundColor)||e.backgroundImage.length,A=[{style:e.borderTopStyle,color:e.borderTopColor,width:e.borderTopWidth},{style:e.borderRightStyle,color:e.borderRightColor,width:e.borderRightWidth},{style:e.borderBottomStyle,color:e.borderBottomColor,width:e.borderBottomWidth},{style:e.borderLeftStyle,color:e.borderLeftColor,width:e.borderLeftWidth}],r=Q_(m_(e.backgroundClip,0),t.curves),n||e.boxShadow.length?(this.ctx.save(),this.path(r),this.ctx.clip(),wR(e.backgroundColor)||(this.ctx.fillStyle=CR(e.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:u.sent(),this.ctx.restore(),e.boxShadow.slice(0).reverse().forEach((function(e){l.ctx.save();var n,A,r,i,o,a=$N(t.curves),s=e.inset?0:1e4,u=(n=a,A=-s+(e.inset?1:-1)*e.spread.number,r=(e.inset?1:-1)*e.spread.number,i=e.spread.number*(e.inset?-2:2),o=e.spread.number*(e.inset?-2:2),n.map((function(t,e){switch(e){case 0:return t.add(A,r);case 1:return t.add(A+i,r);case 2:return t.add(A+i,r+o);case 3:return t.add(A,r+o)}return t})));e.inset?(l.path(a),l.ctx.clip(),l.mask(u)):(l.mask(a),l.ctx.clip(),l.path(u)),l.ctx.shadowOffsetX=e.offsetX.number+s,l.ctx.shadowOffsetY=e.offsetY.number,l.ctx.shadowColor=CR(e.color),l.ctx.shadowBlur=e.blur.number,l.ctx.fillStyle=e.inset?CR(e.color):"rgba(0,0,0,1)",l.ctx.fill(),l.ctx.restore()})),u.label=2;case 2:i=0,o=0,a=A,u.label=3;case 3:return o<a.length?0!==(s=a[o]).style&&!wR(s.color)&&s.width>0?2!==s.style?[3,5]:[4,this.renderDashedDottedBorder(s.color,s.width,i,t.curves,2)]:[3,11]:[3,13];case 4:return u.sent(),[3,11];case 5:return 3!==s.style?[3,7]:[4,this.renderDashedDottedBorder(s.color,s.width,i,t.curves,3)];case 6:return u.sent(),[3,11];case 7:return 4!==s.style?[3,9]:[4,this.renderDoubleBorder(s.color,s.width,i,t.curves)];case 8:return u.sent(),[3,11];case 9:return[4,this.renderSolidBorder(s.color,i,t.curves)];case 10:u.sent(),u.label=11;case 11:i++,u.label=12;case 12:return o++,[3,3];case 13:return[2]}}))}))},e.prototype.renderDashedDottedBorder=function(t,e,n,A,r){return rP(this,void 0,void 0,(function(){var i,o,a,s,l,u,c,h,p,f,d,g,y,v,m,B;return iP(this,(function(x){return this.ctx.save(),i=function(t,e){switch(e){case 0:return c_(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return c_(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return c_(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);default:return c_(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}}(A,n),o=u_(A,n),2===r&&(this.path(o),this.ctx.clip()),JN(o[0])?(a=o[0].start.x,s=o[0].start.y):(a=o[0].x,s=o[0].y),JN(o[1])?(l=o[1].end.x,u=o[1].end.y):(l=o[1].x,u=o[1].y),c=0===n||2===n?Math.abs(a-l):Math.abs(s-u),this.ctx.beginPath(),3===r?this.formatPath(i):this.formatPath(o.slice(0,2)),h=e<3?3*e:2*e,p=e<3?2*e:e,3===r&&(h=e,p=e),f=!0,c<=2*h?f=!1:c<=2*h+p?(h*=d=c/(2*h+p),p*=d):(g=Math.floor((c+p)/(h+p)),y=(c-g*h)/(g-1),p=(v=(c-(g+1)*h)/g)<=0||Math.abs(p-y)<Math.abs(p-v)?y:v),f&&(3===r?this.ctx.setLineDash([0,h+p]):this.ctx.setLineDash([h,p])),3===r?(this.ctx.lineCap="round",this.ctx.lineWidth=e):this.ctx.lineWidth=2*e+1.1,this.ctx.strokeStyle=CR(t),this.ctx.stroke(),this.ctx.setLineDash([]),2===r&&(JN(o[0])&&(m=o[3],B=o[0],this.ctx.beginPath(),this.formatPath([new zN(m.end.x,m.end.y),new zN(B.start.x,B.start.y)]),this.ctx.stroke()),JN(o[1])&&(m=o[1],B=o[2],this.ctx.beginPath(),this.formatPath([new zN(m.end.x,m.end.y),new zN(B.start.x,B.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]}))}))},e.prototype.render=function(t){return rP(this,void 0,void 0,(function(){var e;return iP(this,(function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=CR(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),A=new a_(t,null),r=new o_(A),s_(A,r,r,i=[]),l_(A.container,i),e=r,[4,this.renderStack(e)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}var A,r,i}))}))},e}(C_),b_=function(t){return t instanceof kG||(t instanceof IG||t instanceof SG&&t.type!==UG&&t.type!==QG)},Q_=function(t,e){switch(t){case 0:return $N(e);case 2:return function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]}(e);default:return t_(e)}},U_=function(t){switch(t){case 1:return"center";case 2:return"right";default:return"left"}},E_=["-apple-system","system-ui"],M_=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter((function(t){return-1===E_.indexOf(t)})):t},S_=function(t){function e(e,n){var A=t.call(this,e,n)||this;return A.canvas=n.canvas?n.canvas:document.createElement("canvas"),A.ctx=A.canvas.getContext("2d"),A.options=n,A.canvas.width=Math.floor(n.width*n.scale),A.canvas.height=Math.floor(n.height*n.scale),A.canvas.style.width=n.width+"px",A.canvas.style.height=n.height+"px",A.ctx.scale(A.options.scale,A.options.scale),A.ctx.translate(-n.x,-n.y),A.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),A}return nP(e,t),e.prototype.render=function(t){return rP(this,void 0,void 0,(function(){var e,n;return iP(this,(function(A){switch(A.label){case 0:return e=iG(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,I_(e)];case 1:return n=A.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=CR(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}}))}))},e}(C_),I_=function(t){return new Promise((function(e,n){var A=new Image;A.onload=function(){e(A)},A.onerror=n,A.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(t))}))},k_=function(){function t(t){var e=t.id,n=t.enabled;this.id=e,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.debug?console.debug.apply(console,oP([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&"undefined"!=typeof window&&window.console&&"function"==typeof console.info&&console.info.apply(console,oP([this.id,this.getTime()+"ms"],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.warn?console.warn.apply(console,oP([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.error?console.error.apply(console,oP([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},t.instances={},t}(),L_=function(){function t(e,n){var A;this.windowBounds=n,this.instanceName="#"+t.instanceCount++,this.logger=new k_({id:this.instanceName,enabled:e.logging}),this.cache=null!==(A=e.cache)&&void 0!==A?A:new ON(this,e)}return t.instanceCount=1,t}();"undefined"!=typeof window&&PN.setContext(window);var H_=function(t,e){return rP(void 0,void 0,void 0,(function(){var n,A,r,i,o,a,s,l,u,c,h,p,f,d,g,y,v,m,B,x,w,C,F,b,Q,U,E,M,S,I,k,L,H,T,D,P,O,R;return iP(this,(function(K){switch(K.label){case 0:if(!t||"object"!=typeof t)return[2,Promise.reject("Invalid element provided as first argument")];if(!(n=t.ownerDocument))throw new Error("Element is not attached to a Document");if(!(A=n.defaultView))throw new Error("Document is not attached to a Window");return r={allowTaint:null!==(C=e.allowTaint)&&void 0!==C&&C,imageTimeout:null!==(F=e.imageTimeout)&&void 0!==F?F:15e3,proxy:e.proxy,useCORS:null!==(b=e.useCORS)&&void 0!==b&&b},i=AP({logging:null===(Q=e.logging)||void 0===Q||Q,cache:e.cache},r),o={windowWidth:null!==(U=e.windowWidth)&&void 0!==U?U:A.innerWidth,windowHeight:null!==(E=e.windowHeight)&&void 0!==E?E:A.innerHeight,scrollX:null!==(M=e.scrollX)&&void 0!==M?M:A.pageXOffset,scrollY:null!==(S=e.scrollY)&&void 0!==S?S:A.pageYOffset},a=new aP(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),s=new L_(i,a),l=null!==(I=e.foreignObjectRendering)&&void 0!==I&&I,u={allowTaint:null!==(k=e.allowTaint)&&void 0!==k&&k,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:l,copyStyles:l},s.logger.debug("Starting document clone with size "+a.width+"x"+a.height+" scrolled to "+-a.left+","+-a.top),c=new BN(s,t,u),(h=c.clonedReferenceElement)?[4,c.toIFrame(n,a)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return p=K.sent(),f=WG(h)||"HTML"===h.tagName?function(t){var e=t.body,n=t.documentElement;if(!e||!n)throw new Error("Unable to get document size");var A=Math.max(Math.max(e.scrollWidth,n.scrollWidth),Math.max(e.offsetWidth,n.offsetWidth),Math.max(e.clientWidth,n.clientWidth)),r=Math.max(Math.max(e.scrollHeight,n.scrollHeight),Math.max(e.offsetHeight,n.offsetHeight),Math.max(e.clientHeight,n.clientHeight));return new aP(0,0,A,r)}(h.ownerDocument):sP(s,h),d=f.width,g=f.height,y=f.left,v=f.top,m=T_(s,h,e.backgroundColor),B={canvas:e.canvas,backgroundColor:m,scale:null!==(H=null!==(L=e.scale)&&void 0!==L?L:A.devicePixelRatio)&&void 0!==H?H:1,x:(null!==(T=e.x)&&void 0!==T?T:0)+y,y:(null!==(D=e.y)&&void 0!==D?D:0)+v,width:null!==(P=e.width)&&void 0!==P?P:Math.ceil(d),height:null!==(O=e.height)&&void 0!==O?O:Math.ceil(g)},l?(s.logger.debug("Document cloned, using foreign object rendering"),[4,new S_(s,B).render(h)]):[3,3];case 2:return x=K.sent(),[3,5];case 3:return s.logger.debug("Document cloned, element located at "+y+","+v+" with size "+d+"x"+g+" using computed rendering"),s.logger.debug("Starting DOM parsing"),w=PG(s,h),m===w.styles.backgroundColor&&(w.styles.backgroundColor=IR.TRANSPARENT),s.logger.debug("Starting renderer for element at "+B.x+","+B.y+" with size "+B.width+"x"+B.height),[4,new F_(s,B).render(w)];case 4:x=K.sent(),K.label=5;case 5:return(null===(R=e.removeContainer)||void 0===R||R)&&(BN.destroy(p)||s.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),s.logger.debug("Finished rendering"),[2,x]}}))}))},T_=function(t,e,n){var A=e.ownerDocument,r=A.documentElement?SR(t,getComputedStyle(A.documentElement).backgroundColor):IR.TRANSPARENT,i=A.body?SR(t,getComputedStyle(A.body).backgroundColor):IR.TRANSPARENT,o="string"==typeof n?SR(t,n):null===n?IR.TRANSPARENT:4294967295;return e===A.documentElement?wR(r)?wR(i)?o:i:r:o};const D_=["value","onClick"],P_={class:"px-4"},O_={__name:"InputSlideBar",props:{modelValue:{type:Number,required:!0},min:{type:String,required:!0},max:{type:String,required:!0}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,A=e,r=a({get:()=>n.modelValue,set:t=>{t<Number(n.min)?A("update:modelValue",Number(n.min)):t>Number(n.max)?A("update:modelValue",Number(n.max)):A("update:modelValue",t)}}),i=t=>{const e=Number(t.target.value);e<Number(n.min)?A("update:modelValue",Number(n.min)):e>Number(n.max)?A("update:modelValue",Number(n.max)):A("update:modelValue",e)};return(e,n)=>(I(),W(qD,{"corner-class":"left-3","menu-class":"ml-2","menu-min-width":"200"},{default:_((({open:t})=>[D("input",{type:"number",class:"w-16 text-sm",value:O(r),onClick:e=>((t,e)=>{e&&t.stopPropagation()})(e,t),onChange:i,onKeydown:nt(i,["enter"])},null,40,D_)])),pop:_((()=>[D("div",P_,[N(mT,{"is-int":"",modelValue:O(r),"onUpdate:modelValue":n[0]||(n[0]=t=>ot(r)?r.value=t:null),max:Number(t.max),min:Number(t.min)},null,8,["modelValue","max","min"])])])),_:1}))}},R_=Q(O_,[["__scopeId","data-v-ef7bea54"]]),K_={class:"text-lg px-5 font-semibold py-4 border-b"},V_={class:"flex gap-5 px-5 py-6 md:flex-row flex-col"},G_={class:"param"},N_=["placeholder"],__={class:"param"},X_={class:"param"},Y_={class:"flex justify-end p-5 pt-0 gap-5"},z_={__name:"ExportImage",props:{chart:{type:Object,required:!0},index:{type:Number,required:!0},modelValue:{type:Boolean,default:!1},smoothMethod:{type:Object,default:null}},emits:["update:modelValue"],setup(e,{emit:n}){const A=e,r=n,i=m("data"),o=t(null),s=t(null),l=a({get(){var t,e;return A.modelValue?(null==(t=o.value)||t.render(i),A.smoothMethod&&(null==(e=o.value)||e.smooth(A.smoothMethod))):(h.value=600,p.value=400),A.modelValue},set(t){r("update:modelValue",t)}}),u=ut("SwanLab-Chart").split(".")[0],c=t(""),h=t(600),p=t(400);tt([p,l,o],(t=>{if(!o.value)return;if(!t[1])return;const e=t[0];console.log(e),q((()=>{o.value.setHeight(e)}))}));const f=()=>{var t,e;(t=s.value,void 0===e&&(e={}),H_(t,e)).then((async t=>{const e=document.createElement("canvas"),n=e.getContext("2d");e.width=t.width+64,e.height=t.height+64,n.fillStyle="#fff",n.fillRect(0,0,e.width,e.height),n.drawImage(t,32,32);const A=document.createElement("a");A.href=e.toDataURL("image/png"),A.download=`${c.value||u}.png`,A.click()}))};return(t,n)=>(I(),W(j,{"max-w":"890",class:"overflow-hidden",modelValue:O(l),"onUpdate:modelValue":n[3]||(n[3]=t=>ot(l)?l.value=t:null),escExit:""},{default:_((()=>[D("h1",K_,P(t.$t("chart.charts.share.download.png.title")),1),D("div",V_,[D("div",G_,[D("span",null,P(t.$t("chart.charts.share.download.png.name"))+":",1),M(D("input",{type:"text",class:"w-40 text-sm border px-2 py-1 rounded ml-2",placeholder:O(u),"onUpdate:modelValue":n[0]||(n[0]=t=>ot(c)?c.value=t:null)},null,8,N_),[[ct,O(c)]])]),D("div",__,[D("span",null,P(t.$t("chart.charts.share.download.png.width"))+":",1),N(R_,{min:"200",max:"1200",modelValue:O(h),"onUpdate:modelValue":n[1]||(n[1]=t=>ot(h)?h.value=t:null)},null,8,["modelValue"])]),D("div",X_,[D("span",null,P(t.$t("chart.charts.share.download.png.height"))+":",1),N(R_,{min:"200",max:"1200",modelValue:O(p),"onUpdate:modelValue":n[2]||(n[2]=t=>ot(p)?p.value=t:null)},null,8,["modelValue"])])]),D("div",{class:"mx-auto mb-6 py-4",style:T({width:`${O(h)}px`})},[D("div",{class:"relative w-full h-full",ref_key:"chartRef",ref:s},[N(hT,{index:e.index,ref_key:"lineChartRef",ref:o,title:e.chart.name,chart:e.chart},null,8,["index","title","chart"])],512)],4),D("div",Y_,[N(At,{theme:"primary",class:"py-1.5 px-3 rounded",onClick:f,text:t.$t("chart.charts.share.download.png.download")},null,8,["text"])])])),_:1},8,["modelValue"]))}},W_=Q(z_,[["__scopeId","data-v-6fce60bd"]]),j_={key:0,class:"flex flex-col justify-center grow text-dimmer gap-2"},J_={class:"text-center text-xs"},q_={class:"chart-panel"},Z_={key:2,class:"h-full w-full top-0 left-0 bg-default flex items-center justify-center absolute rounded"},$_={__name:"ChartContainer",props:{chart:{type:Object,required:!0},index:{type:Number,required:!0},isPinned:{type:Boolean,required:!0},isHidden:{type:Boolean,required:!0}},emits:["pin","unpin","hide","unhide"],setup(n,{expose:A,emit:r}){const i=n,o=i.chart.id,s=i.chart.source,l=r,c=t(!1),h=()=>c.value=!0,p=()=>c.value=!1,f=a((()=>Object.keys(i.chart.error||{}).length===s.length)),d=t(i.chart.error?"success":void 0),g=t(!f.value),y=t(!1),B=a((()=>{switch(i.chart.type){case"default":case"line":return{type:hT,class:"line-chart"};case"audio":return{type:jT,class:"audio-chart"};case"image":return{type:jD,class:"image-chart"};case"text":return{type:vD,class:"text-chart"};default:return{type:xD}}}));tt(B,(t=>{y.value=t.type===xD}),{immediate:!0});let x={};u("data",x);let w=!1;const C=m("$off");e((()=>{!f.value&&m("$on")(s,o,((t,e,n)=>new Promise(((A,r)=>{n?(d.value="error",g.value=!1,r(n)):(x[t]=e,Object.keys(x).length===s.length&&q((()=>{w?U(x):Q(x),w=!0,A()})))}))))}));const F=a((()=>i.chart.error&&Object.keys(i.chart.error).length>0));F.value||v((()=>{C(s,o)}));const b=t(null),Q=it((()=>{var t;const e=null==(t=b.value)?void 0:t.render;var n;((n=e)instanceof Promise||null!=n&&"object"==typeof n&&"function"==typeof n.then&&"function"==typeof n.catch)&&n.constructor&&"AsyncFunction"===n.constructor.name?e(x).finally((()=>g.value=!1)):(e&&e(x),g.value=!1)}),100),U=it((()=>{b.value.change(x)}),100),E=()=>{b.value.zoom(x)},M=t(null),S=()=>{l("pin",i.chart)},H=()=>{l("unpin",i.chart)},T=()=>{l("hide",i.chart)},O=()=>{l("unhide",i.chart)},K=t(!1),V=a((()=>{var t,e;return!F.value&&("default"===(null==(t=i.chart)?void 0:t.type)||"line"===(null==(e=i.chart)?void 0:e.type))}));return A({chartRef:b,smooth:t=>{var e;M.value=t,(null==(e=b.value)?void 0:e.smooth)&&b.value.smooth(t)},thicken:(...t)=>{var e;(null==(e=b.value)?void 0:e.thicken)&&b.value.thicken(...t)},thin:(...t)=>{var e;(null==(e=b.value)?void 0:e.thin)&&b.value.thin(...t)},showTooltip:(...t)=>{var e;(null==(e=b.value)?void 0:e.showTooltip)&&b.value.showTooltip(...t)},hideTooltip:()=>{var t;(null==(t=b.value)?void 0:t.hideTooltip)&&b.value.hideTooltip()}}),(t,e)=>(I(),k("section",{class:et(["chart-container",B.value.class]),onMouseenter:h,onMouseleave:p},["error"===d.value?(I(),k("div",j_,[N(z,{class:"mx-auto h-5 w-5",icon:"error"}),D("p",J_,P(t.$t("chart.error")),1)])):(I(),k(L,{key:1},[D("div",q_,[n.isPinned?(I(),W(CD,{key:0,class:"!text-positive-default",icon:"pinned","click-icon":"loading","click-class":"animate-spin",tip:t.$t("chart.unpin"),onClick:H},null,8,["tip"])):R("",!0),!c.value||y.value||f.value?R("",!0):(I(),k(L,{key:1},[n.isPinned?R("",!0):(I(),W(CD,{key:0,icon:"pin",tip:t.$t("chart.pin"),onClick:S,"click-icon":"loading","click-class":"animate-spin"},null,8,["tip"])),N(CD,{icon:"zoom",tip:t.$t("chart.zoom"),onClick:E},null,8,["tip"]),N(W_,{index:n.index,chart:n.chart,smoothMethod:M.value,modelValue:K.value,"onUpdate:modelValue":e[0]||(e[0]=t=>K.value=t)},null,8,["index","chart","smoothMethod","modelValue"]),N(qD,{"menu-class":"flex-shrink-0",class:"right-0 top-4"},{pop:_((()=>[N($D,null,{default:_((()=>[n.isHidden?(I(),W(tP,{key:0,class:"py-1",onClick:O},{default:_((()=>[X(P(t.$t("chart.unhide")),1)])),_:1})):(I(),W(tP,{key:1,class:"py-1",onClick:T},{default:_((()=>[X(P(t.$t("chart.hide")),1)])),_:1})),V.value?(I(),W(tP,{key:2,class:"py-1",onClick:e[1]||(e[1]=t=>K.value=!0)},{default:_((()=>[X(P(t.$t("chart.charts.share.download.button")),1)])),_:1})):R("",!0)])),_:1})])),default:_((()=>[N(CD,{icon:"more",tip:t.$t("chart.more")},null,8,["tip"])])),_:1})],64))]),(I(),W(ht(B.value.type),{index:n.index,ref_key:"chartRef",ref:b,title:n.chart.name,chart:n.chart},null,8,["index","title","chart"]))],64)),g.value?(I(),k("div",Z_,[N(gt)])):R("",!0)],34))}},tX=Q($_,[["__scopeId","data-v-c3301138"]]),eX={class:"charts-container",ref:"chartsContainerRef"},nX={class:"flex items-center"},AX={class:"px-3 bg-highest text-sm rounded-full ml-2 text-difault"},rX=(t=>(K("data-v-c31782ca"),t=t(),V(),t))((()=>D("div",{class:"grow"},null,-1))),iX={class:"charts-slot",ref:"chartsSlotRef"},oX={__name:"ChartsContainer",props:{label:{type:String,required:!0},charts:{type:Array,required:!0},index:{type:Number,required:!0},opened:{type:Boolean,required:!0},isPinned:{type:Boolean,required:!0},isHidden:{type:Boolean,required:!0}},emits:["switch","pin","unpin","hide","unhide"],setup(e,{expose:n,emit:A}){const r=e,i=A,o=t(r.opened),a=()=>{o.value=!o.value,i("switch",o.value)},s=t([]);u("chartRefList",s),n({chartRefList:s});const l=t=>{i("pin",t)},c=t=>{i("unpin",t)},h=t=>{i("hide",t)},p=t=>{i("unhide",t)};return(t,n)=>(I(),k("div",eX,[D("div",nX,[D("button",{class:"flex items-center gap-1 relative",onClick:a},[N(z,{icon:"down",class:et(["w-6 h-6 absolute -left-6",{"-rotate-90":!o.value}])},null,8,["class"]),X(" "+P(e.label)+" ",1),D("span",AX,P(e.charts.length||0),1)]),rX]),M(D("div",iX,[(I(!0),k(L,null,H(e.charts,((t,n)=>(I(),W(tX,{key:t.id,chart:t,index:n,isPinned:e.isPinned,isHidden:e.isHidden,ref_for:!0,ref:t=>((t,e)=>{s.value[e]=t,s.value.length=r.charts.length})(t,n),onPin:l,onUnpin:c,onHide:h,onUnhide:p},null,8,["chart","index","isPinned","isHidden"])))),128))],512),[[S,o.value]])],512))}},aX=Q(oX,[["__scopeId","data-v-c31782ca"]]),sX={class:"smooth-button"},lX={class:"flex select-none flex-col w-full px-4 text-sm font-semibold gap-4"},uX={class:"flex items-center gap-2"},cX={class:"w-20 flex-shrink-0"},hX={class:"flex items-center gap-2"},pX={class:"w-20 flex-shrink-0"},fX={class:"w-full border p-2 text-left rounded hover:bg-higher"},dX={__name:"SmoothButton",props:{defaultMethodId:{type:Number,default:0}},emits:["smooth"],setup(e,{emit:n}){const A=e,r=n,i=it((()=>{r("smooth",{id:s.value,value:u.value})}),300),o=[{id:0,name:"No Smoothing",disabled:!0},{id:1,name:"Time Weighted EMA",disabled:!1,min:0,max:.99},{id:2,name:"Running Average",disabled:!1,min:1,max:100,isInt:!0},{id:3,name:"Gaussian Smoothing",disabled:!1,min:1,max:100,isInt:!0}],s=t(A.defaultMethodId),l=a({get:()=>o.find((t=>t.id===s.value))||o[0]}),u=t(0),c=t=>{console.log("direction",t),u.value="forward"===t?l.value.isInt?u.value+1:Number((u.value+.01).toFixed(2)):l.value.isInt?u.value-1:Number((u.value-.01).toFixed(2)),i()},h=t=>{u.value=Number(t.toFixed(2)),i()};return(t,e)=>(I(),W(qD,{class:"right-0 w-96","corner-class":"left-2.5","not-down":""},{pop:_((()=>[D("div",lX,[D("div",uX,[D("span",cX,P(t.$t("chart.charts.share.smooth.smoothing")),1),N(mT,{"show-input":"",modelValue:O(u),"onUpdate:modelValue":e[0]||(e[0]=t=>ot(u)?u.value=t:null),max:O(l).max,min:O(l).min,onTurn:c,onChange:h,disabled:O(l).disabled,"is-int":O(l).isInt},null,8,["modelValue","max","min","disabled","is-int"])]),D("div",hX,[D("span",pX,P(t.$t("chart.charts.share.smooth.method")),1),N(qD,{"menu-class":"w-full","items-class":"overflow-auto bg-default",down:"","down-position":"top-2.5 right-2"},{pop:_((()=>[N($D,{class:"method-items"},{default:_((()=>[(I(),k(L,null,H(o,(t=>N(tP,{class:"method-item",key:t.id,onClick:e=>(t=>{s.value=t.id,u.value=t.min||0,i()})(t)},{default:_((()=>[X(P(t.name),1)])),_:2},1032,["onClick"]))),64))])),_:1})])),default:_((()=>[D("div",fX,P(O(l).name),1)])),_:1})])])])),default:_((()=>[D("div",sX,[N(z,{class:"w-full h-full",icon:"smooth"})])])),_:1}))}},gX=Q(dX,[["__scopeId","data-v-8c22f071"]]),yX={class:"charts-pannel"},vX={class:"w-60 mr-2"},mX={__name:"ChartsDashboard",props:{groups:{type:Array,required:!0},updateChartStatus:{type:Function,required:!0},updateNamespaceStatus:{type:Function,required:!0},media:{type:Object,required:!0},defaultColor:{type:String,required:!0},getColor:{type:Function,required:!0},subscribe:{type:Function,required:!0},unsubscribe:{type:Function,default:()=>{}},experimentPrefix:{type:String,default:"/experiment/"}},setup(e){const n=e,A=t(n.groups);tt((()=>n.groups),(t=>{A.value=t}));const r=t(null),i=t([]),o=a((()=>r.value?r.value:A.value)),s=t=>t.charts,l=t(null),c=t=>{i.value.forEach((e=>{e.chartRefList.forEach((e=>{null==e||e.smooth(t)}))})),l.value=t};u("smoothMethod",l);const h=ft(((t,e)=>{n.updateNamespaceStatus(t,e)}),300),p=async(t,e)=>{const r=await n.updateChartStatus(t,e);A.value=r.groups},f=t=>{p(t,1)},d=t=>{p(t,0)},g=t=>{p(t,-1)},y=t=>{p(t,0)},v=t=>{if(!t)return r.value=null;const e=[];for(const n of A.value)n.charts.some((e=>e.name.toLowerCase().includes(t.toLowerCase())))&&e.push({...n,charts:[...n.charts]});e.forEach((e=>{e.charts=[...e.charts],e.charts=e.charts.filter((e=>e.name.toLowerCase().includes(t.toLowerCase())))})),r.value=e};return u("media",n.media),u("defaultColor",n.defaultColor),u("getColor",n.getColor),u("$on",n.subscribe),u("$off",n.unsubscribe),u("experimentPrefix",n.experimentPrefix),console.log(n.experimentPrefix),(t,e)=>(I(),k(L,null,[D("div",yX,[D("div",vX,[N(pt,{placeholder:t.$t("chart.search.placeholder"),reverse:"",onSearch:v,onInput:v},null,8,["placeholder"])]),N(gX,{onSmooth:c,"default-method-id":1})]),(I(!0),k(L,null,H(O(o),((t,e)=>{return I(),W(aX,{ref_for:!0,ref:t=>((t,e)=>{i.value[e]=t,i.value.length=A.value.length})(t,e),key:t.id,label:(n=t,"default"===n.name?E("chart.label.default"):-1===n.id?E("chart.label.pinned"):-2===n.id?E("chart.label.hidden"):n.name),charts:s(t),index:e,opened:!!t.opened,isPinned:-1===t.id,isHidden:-2===t.id,onSwitch:e=>O(h)(e,t),onPin:f,onUnpin:d,onHide:g,onUnhide:y},null,8,["label","charts","index","opened","isPinned","isHidden","onSwitch"]);var n})),128))],64))}},BX=Q(mX,[["__scopeId","data-v-3dc9e87b"]]),xX={get:(t,e,n)=>new Promise(((A,r)=>{dt.get("/media/"+t,{params:{tag:n,experiment_id:e},responseType:"blob"}).then((t=>{A(t)})).catch((t=>{if("application/json"===t.data.type){const e=new FileReader;e.readAsText(t.data),e.onload=()=>{r(JSON.parse(e.result))}}else r(t)}))}))},wX=(t,e)=>{var n,A;return dt.patch("/namespace/"+e.id+"/opened",{experiment_id:null==(n=e.experiment_id)?void 0:n.id,project_id:null==(A=e.project_id)?void 0:A.id,opened:t})},CX=async(t,e)=>{const{data:n}=await dt.patch("/chart/"+t.id+"/status",{status:e});return n};export{BX as C,wX as a,xX as m,CX as u};
